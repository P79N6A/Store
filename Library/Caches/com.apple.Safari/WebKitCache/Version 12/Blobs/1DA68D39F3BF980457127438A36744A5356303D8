(window.webpackJsonp=window.webpackJsonp||[]).push([["af52"],{"/h46":function(module,exports,__webpack_require__){__webpack_require__("cHUd")("Map")},"0KLy":function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("KI45"),_isArray=_interopRequireDefault(__webpack_require__("p0XB")),_classCallCheck2=_interopRequireDefault(__webpack_require__("0iUn")),_createClass2=_interopRequireDefault(__webpack_require__("sLSF")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("MI3g")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("a7VT")),_inherits2=_interopRequireDefault(__webpack_require__("Tit0")),_getIterator2=_interopRequireDefault(__webpack_require__("XXOK")),_assign=_interopRequireDefault(__webpack_require__("UXZV")),_promise=_interopRequireDefault(__webpack_require__("eVuF")),_keys=_interopRequireDefault(__webpack_require__("pLtp")),__importDefault=function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__webpack_require__("cDcd")),loadable_context_1=__webpack_require__("Q0KE"),ALL_INITIALIZERS=[],READY_INITIALIZERS=[],initialized=!1;function load(loader){var promise=loader(),state={loading:!0,loaded:null,error:null};return state.promise=promise.then(function(loaded){return state.loading=!1,state.loaded=loaded,loaded})["catch"](function(err){throw state.loading=!1,state.error=err,err}),state}function loadMap(obj){var state={loading:!1,loaded:{},error:null},promises=[];try{(0,_keys["default"])(obj).forEach(function(key){var result=load(obj[key]);result.loading?state.loading=!0:(state.loaded[key]=result.loaded,state.error=result.error),promises.push(result.promise),result.promise.then(function(res){state.loaded[key]=res})["catch"](function(err){state.error=err})})}catch(err){state.error=err}return state.promise=_promise["default"].all(promises).then(function(res){return state.loading=!1,res})["catch"](function(err){throw state.loading=!1,err}),state}function render(loaded,props){return react_1["default"].createElement((obj=loaded)&&obj.__esModule?obj["default"]:obj,props);var obj}function createLoadableComponent(loadFn,options){var _a,opts=(0,_assign["default"])({loader:null,loading:null,delay:200,timeout:null,render:render,webpack:null,modules:null},options),res=null;function init(){return res||(res=loadFn(opts.loader)),res.promise}if("undefined"==typeof window&&ALL_INITIALIZERS.push(init),!initialized&&"undefined"!=typeof window&&"function"==typeof opts.webpack){var moduleIds=opts.webpack();READY_INITIALIZERS.push(function(ids){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=undefined;try{for(var _step,_iterator=(0,_getIterator2["default"])(moduleIds);!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var moduleId=_step.value;if(-1!==ids.indexOf(moduleId))return init()}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator["return"]||_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}})}return(_a=function(_react_1$default$Comp){function LoadableComponent(props){var _this;return(0,_classCallCheck2["default"])(this,LoadableComponent),(_this=(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(LoadableComponent).call(this,props))).retry=function(){_this.setState({error:null,loading:!0,timedOut:!1}),res=loadFn(opts.loader),_this._loadModule()},init(),_this.state={error:res.error,pastDelay:!1,timedOut:!1,loading:res.loading,loaded:res.loaded},_this}return(0,_inherits2["default"])(LoadableComponent,_react_1$default$Comp),(0,_createClass2["default"])(LoadableComponent,[{key:"componentWillMount",value:function(){this._mounted=!0,this._loadModule()}},{key:"_loadModule",value:function(){var _this2=this;if(this.context&&(0,_isArray["default"])(opts.modules)&&opts.modules.forEach(function(moduleName){_this2.context(moduleName)}),res.loading){"number"==typeof opts.delay&&(0===opts.delay?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){_this2.setState({pastDelay:!0})},opts.delay)),"number"==typeof opts.timeout&&(this._timeout=setTimeout(function(){_this2.setState({timedOut:!0})},opts.timeout));var update=function(){_this2._mounted&&(_this2.setState({error:res.error,loaded:res.loaded,loading:res.loading}),_this2._clearTimeouts())};res.promise.then(function(){update()})["catch"](function(err){update()})}}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this._clearTimeouts()}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"render",value:function(){return this.state.loading||this.state.error?react_1["default"].createElement(opts.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?opts.render(this.state.loaded,this.props):null}}],[{key:"preload",value:function(){return init()}}]),LoadableComponent}(react_1["default"].Component)).contextType=loadable_context_1.LoadableContext,_a}function Loadable(opts){return createLoadableComponent(load,opts)}function flushInitializers(initializers,ids){for(var promises=[];initializers.length;){var init=initializers.pop();promises.push(init(ids))}return _promise["default"].all(promises).then(function(){if(initializers.length)return flushInitializers(initializers,ids)})}Loadable.Map=function(opts){if("function"!=typeof opts.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return createLoadableComponent(loadMap,opts)},Loadable.preloadAll=function(){return new _promise["default"](function(resolve,reject){flushInitializers(ALL_INITIALIZERS).then(resolve,reject)})},Loadable.preloadReady=function(ids){return new _promise["default"](function(resolve){var res=function(){return initialized=!0,resolve()};flushInitializers(READY_INITIALIZERS,ids).then(res,res)})},exports["default"]=Loadable},"8+Nu":function(module,exports,__webpack_require__){var arrayWithHoles=__webpack_require__("8bdy"),iterableToArrayLimit=__webpack_require__("fprZ"),nonIterableRest=__webpack_require__("Bh1o");module.exports=function(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||nonIterableRest()}},"8bdy":function(module,exports,__webpack_require__){var _Array$isArray=__webpack_require__("p0XB");module.exports=function(arr){if(_Array$isArray(arr))return arr}},BMP1:function(module,exports,__webpack_require__){"use strict";var __importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result["default"]=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var _1=__importStar(__webpack_require__("IKlv")),next=_1;window.next=next,_1["default"]()["catch"](function(err){console.error("".concat(err.message,"\n").concat(err.stack))})},Bh1o:function(module,exports){module.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},DqTX:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("KI45"),_promise=_interopRequireDefault(__webpack_require__("eVuF")),_classCallCheck2=_interopRequireDefault(__webpack_require__("/HRN")),_createClass2=_interopRequireDefault(__webpack_require__("WaGi"));Object.defineProperty(exports,"__esModule",{value:!0});var DOMAttributeNames={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},HeadManager=function(){function HeadManager(){var _this=this;(0,_classCallCheck2["default"])(this,HeadManager),this.updateHead=function(head){var promise=_this.updatePromise=_promise["default"].resolve().then(function(){promise===_this.updatePromise&&(_this.updatePromise=null,_this.doUpdateHead(head))})},this.updatePromise=null}return(0,_createClass2["default"])(HeadManager,[{key:"doUpdateHead",value:function(head){var _this2=this,tags={};head.forEach(function(h){var components=tags[h.type]||[];components.push(h),tags[h.type]=components}),this.updateTitle(tags.title?tags.title[0]:null);["meta","base","link","style","script"].forEach(function(type){_this2.updateElements(type,tags[type]||[])})}},{key:"updateTitle",value:function(component){var title="";if(component){var children=component.props.children;title="string"==typeof children?children:children.join("")}title!==document.title&&(document.title=title)}},{key:"updateElements",value:function(type,components){var headEl=document.getElementsByTagName("head")[0],oldTags=Array.prototype.slice.call(headEl.querySelectorAll(type+".next-head")),newTags=components.map(reactElementToDOM).filter(function(newTag){for(var i=0,len=oldTags.length;i<len;i++){if(oldTags[i].isEqualNode(newTag))return oldTags.splice(i,1),!1}return!0});oldTags.forEach(function(t){return t.parentNode.removeChild(t)}),newTags.forEach(function(t){return headEl.appendChild(t)})}}]),HeadManager}();function reactElementToDOM(_ref){var type=_ref.type,props=_ref.props,el=document.createElement(type);for(var p in props)if(props.hasOwnProperty(p)&&"children"!==p&&"dangerouslySetInnerHTML"!==p){var attr=DOMAttributeNames[p]||p.toLowerCase();el.setAttribute(attr,props[p])}var children=props.children,dangerouslySetInnerHTML=props.dangerouslySetInnerHTML;return dangerouslySetInnerHTML?el.innerHTML=dangerouslySetInnerHTML.__html||"":children&&(el.textContent="string"==typeof children?children:children.join("")),el}exports["default"]=HeadManager},HohS:function(module,exports,__webpack_require__){"use strict";var runtimeConfig;Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){return runtimeConfig},exports.setConfig=function(configValue){runtimeConfig=configValue}},IKlv:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("KI45"),_assign=_interopRequireDefault(__webpack_require__("UXZV")),_slicedToArray2=_interopRequireDefault(__webpack_require__("8+Nu")),_promise=_interopRequireDefault(__webpack_require__("eVuF"));function _catch(body,recover){try{var result=body()}catch(e){return recover(e)}return result&&result.then?result.then(void 0,recover):result}var doRender=function(_ref5){var App=_ref5.App,Component=_ref5.Component,props=_ref5.props,err=_ref5.err;try{function _temp11(){Component=Component||lastAppProps.Component,props=props||lastAppProps.props;var reactEl,domEl,appProps=(0,_assign["default"])({Component:Component,err:err,router:exports.router},props);lastAppProps=appProps,exports.emitter.emit("before-reactdom-render",{Component:Component,ErrorComponent:exports.ErrorComponent,appProps:appProps}),reactEl=react_1["default"].createElement(error_boundary_1.ErrorBoundary,{fn:function(error){return renderError({App:App,err:error})["catch"](function(err){return console.error("Error rendering page: ",err)})}},react_1["default"].createElement(react_1.Suspense,{fallback:react_1["default"].createElement("div",null,"Loading...")},react_1["default"].createElement(router_context_1.RouterContext.Provider,{value:router_1.makePublicRouterInstance(exports.router)},react_1["default"].createElement(data_manager_context_1.DataManagerContext.Provider,{value:exports.dataManager},react_1["default"].createElement(head_manager_context_1.HeadManagerContext.Provider,{value:headManager.updateHead},react_1["default"].createElement(App,(0,_assign["default"])({},appProps))))))),domEl=appContainer,isInitialRender&&"function"==typeof react_dom_1["default"].hydrate?(react_dom_1["default"].hydrate(reactEl,domEl),isInitialRender=!1):react_dom_1["default"].render(reactEl,domEl),exports.emitter.emit("after-reactdom-render",{Component:Component,ErrorComponent:exports.ErrorComponent,appProps:appProps})}var _temp12=function(){if(!props&&Component&&Component!==exports.ErrorComponent&&lastAppProps.Component===exports.ErrorComponent){var _exports$router=exports.router,pathname=_exports$router.pathname,_query=_exports$router.query,_asPath=_exports$router.asPath;return _promise["default"].resolve(utils_1.loadGetInitialProps(App,{Component:Component,router:exports.router,ctx:{err:err,pathname:pathname,query:_query,asPath:_asPath}})).then(function(_utils_1$loadGetIniti){props=_utils_1$loadGetIniti})}}();return _promise["default"].resolve(_temp12&&_temp12.then?_temp12.then(_temp11):_temp11())}catch(e){return _promise["default"].reject(e)}},renderError=function(props){try{var _App=props.App,_err=props.err;return console.error(_err),_promise["default"].resolve(pageLoader.loadPage("/_error")).then(function(_pageLoader$loadPage3){function _temp8(initProps){return _promise["default"].resolve(doRender((0,_assign["default"])({},props,{err:_err,Component:exports.ErrorComponent,props:initProps}))).then(function(){})}return exports.ErrorComponent=_pageLoader$loadPage3,props.props?_temp8(props.props):_promise["default"].resolve(utils_1.loadGetInitialProps(_App,{Component:exports.ErrorComponent,router:exports.router,ctx:{err:_err,pathname:page,query:query,asPath:asPath}})).then(_temp8)})}catch(e){return _promise["default"].reject(e)}},render=function(props){try{var _exit3=!1;function _temp6(_result2){if(_exit3)return _result2;var _temp3=_catch(function(){return _promise["default"].resolve(doRender(props)).then(function(){})},function(err){return _promise["default"].resolve(renderError((0,_assign["default"])({},props,{err:err}))).then(function(){})});return _temp3&&_temp3.then?_temp3.then(function(){}):void 0}var _temp7=function(){if(props.err)return _promise["default"].resolve(renderError(props)).then(function(){_exit3=!0})}();return _promise["default"].resolve(_temp7&&_temp7.then?_temp7.then(_temp6):_temp6(_temp7))}catch(e){return _promise["default"].reject(e)}},__importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result["default"]=mod,result},__importDefault=function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__("cDcd")),react_dom_1=__importDefault(__webpack_require__("faye")),head_manager_1=__importDefault(__webpack_require__("DqTX")),router_1=__webpack_require__("nOHt"),mitt_1=__importDefault(__webpack_require__("kiME")),utils_1=__webpack_require__("Bu4q"),page_loader_1=__importDefault(__webpack_require__("zmvN")),envConfig=__importStar(__webpack_require__("PBx+")),error_boundary_1=__webpack_require__("XXkD"),loadable_1=__importDefault(__webpack_require__("0KLy")),head_manager_context_1=__webpack_require__("IClC"),data_manager_context_1=__webpack_require__("qS9g"),router_context_1=__webpack_require__("9EOK"),data_manager_1=__webpack_require__("cuFY");window.Promise||(window.Promise=_promise["default"]);var data=JSON.parse(document.getElementById("__NEXT_DATA__").textContent);window.__NEXT_DATA__=data;var props=data.props,err=data.err,page=data.page,query=data.query,buildId=data.buildId,dynamicBuildId=data.dynamicBuildId,assetPrefix=data.assetPrefix,runtimeConfig=data.runtimeConfig,dynamicIds=data.dynamicIds,d=JSON.parse(window.__NEXT_DATA__.dataManager);exports.dataManager=new data_manager_1.DataManager(d);var prefix=assetPrefix||"";__webpack_require__.p="".concat(prefix,"/_next/"),envConfig.setConfig({serverRuntimeConfig:{},publicRuntimeConfig:runtimeConfig});var asPath=utils_1.getURL(),pageLoader=new page_loader_1["default"](buildId,prefix),register=function(_ref){var _ref2=(0,_slicedToArray2["default"])(_ref,2),r=_ref2[0],f=_ref2[1];return pageLoader.registerPage(r,f)};window.__NEXT_P&&window.__NEXT_P.map(register),window.__NEXT_P=[],window.__NEXT_P.push=register;var lastAppProps,Component,App,headManager=new head_manager_1["default"],appContainer=document.getElementById("__next");exports.emitter=mitt_1["default"](),exports["default"]=function(){(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).webpackHMR;try{return _promise["default"].resolve(pageLoader.loadPage("/_app")).then(function(_pageLoader$loadPage){var _exit=!1;function _temp2(_result){return _exit?_result:_promise["default"].resolve(loadable_1["default"].preloadReady(dynamicIds||[])).then(function(){return!0===dynamicBuildId&&pageLoader.onDynamicBuildId(),exports.router=router_1.createRouter(page,query,asPath,{initialProps:props,pageLoader:pageLoader,App:App,Component:Component,err:initialErr}),exports.router.subscribe(function(_ref4){var App=_ref4.App,Component=_ref4.Component,props=_ref4.props,err=_ref4.err;render({App:App,Component:Component,props:props,err:err,emitter:exports.emitter})}),render({App:App,Component:Component,props:props,err:initialErr,emitter:exports.emitter}),exports.emitter})}App=_pageLoader$loadPage;var initialErr=err,_temp=_catch(function(){return _promise["default"].resolve(pageLoader.loadPage(page)).then(function(_pageLoader$loadPage2){Component=_pageLoader$loadPage2})},function(error){initialErr=error});return _temp&&_temp.then?_temp.then(_temp2):_temp2(_temp)})}catch(e){return _promise["default"].reject(e)}},exports.render=render,exports.renderError=renderError;var isInitialRender=!0},LX0d:function(module,exports,__webpack_require__){module.exports=__webpack_require__("UDep")},"PBx+":function(module,exports,__webpack_require__){module.exports=__webpack_require__("HohS")},Q0KE:function(module,exports,__webpack_require__){"use strict";var __importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result["default"]=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var React=__importStar(__webpack_require__("cDcd"));exports.LoadableContext=React.createContext(null)},UDep:function(module,exports,__webpack_require__){__webpack_require__("wgeU"),__webpack_require__("FlQf"),__webpack_require__("bBy9"),__webpack_require__("g33z"),__webpack_require__("XLbu"),__webpack_require__("/h46"),__webpack_require__("dVTT"),module.exports=__webpack_require__("WEpk").Map},XLbu:function(module,exports,__webpack_require__){var $export=__webpack_require__("Y7ZC");$export($export.P+$export.R,"Map",{toJSON:__webpack_require__("8iia")("Map")})},XXkD:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("KI45"),_classCallCheck2=_interopRequireDefault(__webpack_require__("/HRN")),_createClass2=_interopRequireDefault(__webpack_require__("WaGi")),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__("ZDA2")),_getPrototypeOf2=_interopRequireDefault(__webpack_require__("/+P4")),_inherits2=_interopRequireDefault(__webpack_require__("N9n2")),__importDefault=function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var ErrorBoundary=function(_react_1$default$Comp){function ErrorBoundary(){return(0,_classCallCheck2["default"])(this,ErrorBoundary),(0,_possibleConstructorReturn2["default"])(this,(0,_getPrototypeOf2["default"])(ErrorBoundary).apply(this,arguments))}return(0,_inherits2["default"])(ErrorBoundary,_react_1$default$Comp),(0,_createClass2["default"])(ErrorBoundary,[{key:"componentDidCatch",value:function(err,info){this.props.fn(err,info)}},{key:"render",value:function(){return this.props.children}}]),ErrorBoundary}(__importDefault(__webpack_require__("cDcd"))["default"].Component);exports.ErrorBoundary=ErrorBoundary},cDcd:function(module,exports){module.exports=React},cuFY:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("KI45"),_map=_interopRequireDefault(__webpack_require__("LX0d")),_classCallCheck2=_interopRequireDefault(__webpack_require__("0iUn")),_createClass2=_interopRequireDefault(__webpack_require__("sLSF"));Object.defineProperty(exports,"__esModule",{value:!0});var DataManager=function(){function DataManager(data){(0,_classCallCheck2["default"])(this,DataManager),this.data=new _map["default"](data)}return(0,_createClass2["default"])(DataManager,[{key:"getData",value:function(){return this.data}},{key:"get",value:function(key){return this.data.get(key)}},{key:"set",value:function(key,value){this.data.set(key,value)}},{key:"overwrite",value:function(data){this.data=new _map["default"](data)}}]),DataManager}();exports.DataManager=DataManager},dVTT:function(module,exports,__webpack_require__){__webpack_require__("aPfg")("Map")},faye:function(module,exports){module.exports=ReactDOM},fprZ:function(module,exports,__webpack_require__){var _getIterator=__webpack_require__("XXOK");module.exports=function(arr,i){var _arr=[],_n=!0,_d=!1,_e=undefined;try{for(var _s,_i=_getIterator(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i["return"]||_i["return"]()}finally{if(_d)throw _e}}return _arr}},g33z:function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__("Wu5q"),validate=__webpack_require__("n3ko");module.exports=__webpack_require__("raTm")("Map",function(get){return function(){return get(this,arguments.length>0?arguments[0]:undefined)}},{get:function(key){var entry=strong.getEntry(validate(this,"Map"),key);return entry&&entry.v},set:function(key,value){return strong.def(validate(this,"Map"),0===key?0:key,value)}},strong,!0)},qS9g:function(module,exports,__webpack_require__){"use strict";var __importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result["default"]=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var React=__importStar(__webpack_require__("cDcd"));exports.DataManagerContext=React.createContext(null)},zmvN:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("KI45"),_promise=_interopRequireDefault(__webpack_require__("eVuF")),_set=_interopRequireDefault(__webpack_require__("ttDY")),_classCallCheck2=_interopRequireDefault(__webpack_require__("/HRN")),_createClass2=_interopRequireDefault(__webpack_require__("WaGi")),__importDefault=function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});var mitt_1=__importDefault(__webpack_require__("kiME")),unfetch_1=__importDefault(__webpack_require__("m/Gl"));var hasPreload=function(list){if(!list||!list.supports)return!1;try{return list.supports("preload")}catch(e){return!1}}(document.createElement("link").relList),PageLoader=function(){function PageLoader(buildId,assetPrefix){(0,_classCallCheck2["default"])(this,PageLoader),this.buildId=buildId,this.assetPrefix=assetPrefix,this.pageCache={},this.prefetchCache=new _set["default"],this.pageRegisterEvents=mitt_1["default"](),this.loadingRoutes={},this.promisedBuildId=_promise["default"].resolve()}return(0,_createClass2["default"])(PageLoader,[{key:"normalizeRoute",value:function(route){if("/"!==route[0])throw new Error('Route name should start with a "/", got "'.concat(route,'"'));return"/"===(route=route.replace(/\/index$/,"/"))?route:route.replace(/\/$/,"")}},{key:"loadPage",value:function(route){var _this=this;return route=this.normalizeRoute(route),new _promise["default"](function(resolve,reject){var cachedPage=_this.pageCache[route];if(cachedPage){var error=cachedPage.error,page=cachedPage.page;error?reject(error):resolve(page)}else _this.pageRegisterEvents.on(route,function fire(_ref){var error=_ref.error,page=_ref.page;_this.pageRegisterEvents.off(route,fire),delete _this.loadingRoutes[route],error?reject(error):resolve(page)}),document.getElementById("__NEXT_PAGE__".concat(route))||_this.loadingRoutes[route]||(_this.loadScript(route),_this.loadingRoutes[route]=!0)})}},{key:"onDynamicBuildId",value:function(){var _this2=this;this.promisedBuildId=new _promise["default"](function(resolve){unfetch_1["default"]("".concat(_this2.assetPrefix,"/_next/static/HEAD_BUILD_ID")).then(function(res){if(res.ok)return res;var err=new Error("Failed to fetch HEAD buildId");throw err.res=res,err}).then(function(res){return res.text()}).then(function(buildId){_this2.buildId=buildId.trim()})["catch"](function(){console.warn("Failed to load BUILD_ID from server. The following client-side page transition will likely 404 and cause a SSR.\nhttp://err.sh/zeit/next.js/head-build-id")}).then(resolve,resolve)})}},{key:"loadScript",value:function(route){try{var _this4=this;return _promise["default"].resolve(_this4.promisedBuildId).then(function(){var scriptRoute="/"===(route=_this4.normalizeRoute(route))?"/index.js":"".concat(route,".js"),script=document.createElement("script"),url="".concat(_this4.assetPrefix,"/_next/static/").concat(encodeURIComponent(_this4.buildId),"/pages").concat(scriptRoute);script.crossOrigin=undefined,script.src=url,script.onerror=function(){var error=new Error("Error when loading route: ".concat(route));error.code="PAGE_LOAD_ERROR",_this4.pageRegisterEvents.emit(route,{error:error})},document.body.appendChild(script)})}catch(e){return _promise["default"].reject(e)}}},{key:"registerPage",value:function(route,regFn){var _this5=this;!function(){try{var _regFn=regFn(),error=_regFn.error,page=_regFn.page;_this5.pageCache[route]={error:error,page:page},_this5.pageRegisterEvents.emit(route,{error:error,page:page})}catch(error){_this5.pageCache[route]={error:error},_this5.pageRegisterEvents.emit(route,{error:error})}}()}},{key:"prefetch",value:function(route){try{var _exit2=!1,_this7=this;function _temp3(_result){return _exit2?_result:"complete"===document.readyState?_this7.loadPage(route)["catch"](function(){}):new _promise["default"](function(resolve){window.addEventListener("load",function(){_this7.loadPage(route).then(function(){return resolve()},function(){return resolve()})})})}var scriptRoute="/"===(route=_this7.normalizeRoute(route))?"/index.js":"".concat(route,".js");if(_this7.prefetchCache.has(scriptRoute))return _promise["default"].resolve();if(_this7.prefetchCache.add(scriptRoute),"connection"in navigator&&(-1!==(navigator.connection.effectiveType||"").indexOf("2g")||navigator.connection.saveData))return _promise["default"].resolve();var _temp4=function(){if(hasPreload)return _promise["default"].resolve(_this7.promisedBuildId).then(function(){var link=document.createElement("link");link.rel="preload",link.crossOrigin=undefined,link.href="".concat(_this7.assetPrefix,"/_next/static/").concat(encodeURIComponent(_this7.buildId),"/pages").concat(scriptRoute),link.as="script",document.head.appendChild(link),_exit2=!0})}();return _promise["default"].resolve(_temp4&&_temp4.then?_temp4.then(_temp3):_temp3(_temp4))}catch(e){return _promise["default"].reject(e)}}},{key:"clearCache",value:function(route){route=this.normalizeRoute(route),delete this.pageCache[route],delete this.loadingRoutes[route];var script=document.getElementById("__NEXT_PAGE__".concat(route));script&&script.parentNode.removeChild(script)}}]),PageLoader}();exports["default"]=PageLoader}},[["BMP1","5d41","9da1"]]]);