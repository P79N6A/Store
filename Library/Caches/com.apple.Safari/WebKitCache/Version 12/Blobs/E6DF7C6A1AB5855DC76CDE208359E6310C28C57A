!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=72)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,SPACE_KEY:32,UP_KEY:38,DOWN_KEY:40,RIGHT_KEY:39,LEFT_KEY:37}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SMALL_VIEWPORT_MAX_WIDTH:735,TABLET_VIEWPORT_MAX_WIDTH:767,AJAX_REQUEST_TIMEOUT:3e4,USER_DATA_THROTTLE_TIME:3e4,OWN_USER_DATA_THROTTLE_TIME:1,LEADERBOARD_DATA_THROTTLE_TIME:6e4,SUBCOMMUNITY_POSTS_DATA_THROTTLE_TIME:3e5,ARTICLE_POSTS_DATA_THROTTLE_TIME:3e5,BROWSE_POSTS_DATA_THROTTLE_TIME:3e5,SUBS_POSTS_DATA_THROTTLE_TIME:6e4,MYSUBS_POSTS_DATA_THROTTLE_TIME:1,THREAD_POSTS_DATA_THROTTLE_TIME:6e4,SEARCH_DATA_THROTTLE_TIME:3e4,GAMIFICATION_DATA_MAX_AGE:6048e5,REGISTRATION_VALIDATION_DEBOUNCE_TIME:500,CREATE_POST_DRAFT_MAX_AGE:1296e5,CREATE_POST_DEBOUNCE_TIME:3e3,MYSUBS_NOTIFICATION_CALL_INTERVAL:12e4,GAMIFICATION_NOTIFICATION_AUTO_DISMISS_TIMEOUT:5e3,REPORT_POST_NOTIFICATION_AUTO_DISMISS_TIMEOUT:5e3,GAMIFICATION_NOTIFICATION_IS_READ_TIMEOUT:3e3,EDITABLE_POST_TIME:9e5,AVATAR_IMAGE_QUALITY:.8,RTE_IMAGE_QUALITY:.9,RTE_LINK_ALLOWED_DOMAINS:["apple.com"],USER_TIP_MODERATION_NOTIFICATION_AUTO_DISMISS_TIMEOUT:5e3,COOKIE_MONSTER_TIMEOUT:1e3,LOCAL_STORAGE_VERSION:9,LOCAL_STORAGE_PREFIX:"apple-communities"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{return JSON.parse(e)}catch(e){return console.error("Unable to parse JSON response.', "+e),!1}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.keys,n=e.url,o=e.savingOptions,r=e.mockDataOptions,a=e.requestOptions,i=function(e){return Object.assign({keys:t,data:e},o)};if(!_store.disableClientCache){var s=(0,De.readData)(t);if(s)return new Promise(function(e){e(s)})}if(r&&r.data)return new Promise(function(e){setTimeout(function(){e(r.data),(0,De.saveData)(i(r.data))},r.timeout)});var l=""+_store.basePath+n,u=a||{};return(0,Ie.get)(l,u).then(function(e){return Ue.log("Data loaded",e),_store.disableClientCache||(0,De.saveData)(i(e)),e})}function a(e){return Object.keys(e).length?"?"+Object.keys(e).filter(function(t){return e[t]}).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&"):""}function i(e){if(e)return e=Object.assign({},e,{logs:Array.from(JSON.parse(e.bodyDelta).ops).filter(function(e){return e.insert&&e.insert.log}).length,images:Array.from(JSON.parse(e.bodyDelta).ops).filter(function(e){return e.insert&&e.insert.image}).length,youtubeVideos:Array.from(JSON.parse(e.bodyDelta).ops).filter(function(e){return e.insert&&e.insert.video}).length})}function s(){return r({keys:["gamification"],url:"/gamification/properties",savingOptions:{saveToLocalStorage:!0,localStorageMaxAge:Ke},mockDataOptions:{timeout:2e3}})}function l(e,t){return(0,Ie.get)(_store.basePath+"/gamification/progress/"+e+"/all_rewards/"+t)}function u(e){return r({keys:["user",e],url:"/gamification/state/"+e,savingOptions:{maxAge:e===_store.user.userId?Ne:Re},mockDataOptions:{timeout:2e3}})}function c(e){(0,De.deleteData)(["user",e])}function d(e,t){var n=_store.i18n("subCommunity.leaderBoard.community"),o=e;return o||(o="weekly"),r({keys:["leaderboard",o,t],url:"/leaderboard/"+n+"/"+o+"/"+t,savingOptions:{maxAge:He},mockDataOptions:{timeout:2e3},requestOptions:{handlebarsHeader:!0}})}function f(e,t,n){var o=e||"weekly";(0,De.saveData)({keys:["leaderboard",o,t],data:n,maxAge:He})}function p(e,t,n){return r({keys:["subcommunity-posts",e,t,n],url:"/community/questions/filter"+a({communityId:_store.communityContext,type:t,category:n,page:e}),savingOptions:{maxAge:qe},mockDataOptions:{timeout:4e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function h(e,t,n,o){(0,De.saveData)({keys:["subcommunity-posts",e,t,n],data:o,maxAge:qe})}function g(e,t,n,o){return r({keys:["article-posts",t,n,o],url:"/article/questions/filter"+a({articleId:e,page:n,perPage:o,type:t}),savingOptions:{maxAge:Be},mockDataOptions:{timeout:3e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function m(e,t,n,o){(0,De.saveData)({keys:["article-posts",e,t,n],data:o,maxAge:Be})}function v(e,t,n,o,i,s,l,u,c,d){var f=arguments.length>10&&void 0!==arguments[10]&&arguments[10];return r({keys:["subscriptions",t,n,o,i,s,l,u,c,d],url:"/profile/"+e+"/subscriptions/filter"+a({content:t,activity:n,type:o,people:i,community:s,page:l,perPage:u,sortBy:c,filteredBy:d}),savingOptions:{maxAge:f?Ge:Ve},mockDataOptions:{timeotu:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function y(e,t,n,o,r,a,i,s,l,u){var c=arguments.length>10&&void 0!==arguments[10]&&arguments[10];(0,De.saveData)({keys:["subscriptions",e,t,n,o,r,a,i,s,l],data:u,maxAge:c?Ge:Ve})}function b(e,t){return e&&t?(0,Ie.put)(_store.basePath+"/read/"+t+"/"+e):void console.error("Unable to mark content as read. Id or type is not provided.",e,t)}function _(e,t,n,o,i,s){return r({keys:["browse",e,t,n,o,i,s],url:"/browse/filter"+a({content:e,type:t,community:n,page:o,perPage:i,sortBy:s}),savingOptions:{maxAge:Fe},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function w(e,t,n,o,r,a){(0,De.saveData)({keys:["browse",e,t,n,o,r],data:a,maxAge:Fe})}function A(e,t){return r({keys:["thread",e,t],url:"/community/thread/"+e+a({page:t}),savingOptions:{maxAge:Je},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0,handlebarsHeader:!0}})}function S(e,t,n){(0,De.saveData)({keys:["thread",e,t],data:n,maxAge:Je})}function E(e,t){e&&t&&(0,De.deleteData)(["thread",e,t])}function T(e,t,n,o,i,s,l,u,c){var d=a({q:e,page:t,perPage:n,content:o,community:i,author:s,type:l,time:u,sortBy:c});return r({keys:["search",e.replace(/\s+/g,"-").toLowerCase(),t,n,o,i,s,l,u,c],url:"/search/filter"+d,savingOptions:{maxAge:Ye},mockDataOptions:{timeout:1e3},requestOptions:{jsonHeader:!0}})}function O(e){return(0,Ie.get)(_store.basePath+"/community/youtube/"+e+"/valid")}function k(e){return e?(0,Ie.put)(_store.basePath+"/subscriptions/account/"+e):void console.error("Unable to follow user. Id is not provided.")}function I(e){return e?(0,Ie.del)(_store.basePath+"/subscriptions/account/"+e):void console.error("Unable to unfollow user. Id is not provided.")}function L(e,t,n){return e?(0,Ie.post)(_store.basePath+"/report/abuse/content",{data:{contentId:e,ratingType:t,ratingSubType:"ABUSIVE",comments:n},jsonHeader:!0,handlebarsHeader:!1}):void console.error("Unable to report since the topic id is not present")}function C(e){return e?(0,Ie.put)(_store.basePath+"/subscriptions/community/"+e):void console.error("Unable to follow community. Id is not provided.")}function P(e){return e?(0,Ie.del)(_store.basePath+"/subscriptions/community/"+e):void console.error("Unable to unfollow community. Id is not provided.")}function x(e){return e?(0,Ie.get)(_store.basePath+"/search/Widget?query="+e.trim(),{jsonHeader:!0}):void console.error("Unable to get search suggestions. Query is not provided.")}function D(e){return(0,Ie.post)(_store.basePath+"/signup/validate",{data:{nickname:e},jsonHeader:!0,handlebarsHeader:!0})}function j(e){var t=encodeURIComponent(e);return(0,Ie.post)(_store.basePath+"/signup/create/"+t+"/"+!0,{handlebarsHeader:!0})}function M(){return(0,Ie.post)(_store.basePath+"/signup/updateToc",{handlebarsHeader:!0})}function U(e){return e?(0,Ie.get)(_store.basePath+"/search/user/filter?user="+e.trim()):void console.error("Unable to get user suggestions. Query is not provided.")}function R(e){return(0,Ie.put)(_store.basePath+"/profile/preferences",{data:e,jsonHeader:!0,handlebarsHeader:!0})}function N(e){return e?new Promise(function(t){var n=xe.default.RTE_IMAGE_QUALITY,o=new FormData,r=function(e){o.append("attachment",e),t((0,Ie.post)(_store.basePath+"/content/attachment/image",{form:o,handlebarsHeader:!0,contentDispositionHeader:"attachment"}))};(0,Me.default)(e,{imageQuality:n}).then(function(e){r(e[0])}).catch(function(){r(e)})}):void console.error("Unable to upload image. File is not provided.")}function H(e){if(!e)return void console.error("Unable to upload log. Body is not provided.");var t=new FormData;return t.append("attachment",e),(0,Ie.post)(_store.basePath+"/content/attachment/log",{form:t,handlebarsHeader:!0,contentDispositionHeader:"attachment"})}function q(e,t){return e&&t?(0,Ie.post)(_store.basePath+"/profile/update/avatar",{form:e,handlebarsHeader:!0,contentDispositionHeader:'attachment;filename="'+t+'"'}):void console.error("Unable to upload avatar. Form or filename is not provided.")}function B(e,t){return t?(0,Ie.put)(_store.basePath+"/profile/avatar/"+e+"/"+t):void console.error("Unable to update avatar. Id is not provided")}function K(e,t){return t?(0,Ie.del)(_store.basePath+"/profile/avatar/"+e+"/"+t):void console.error("Unable to delete avatar. Id is not provided")}function F(e,t){return e&&t?(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:t,contentId:e,ratingType:"LIKE",rootContentId:e,rootContentType:t},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to like content. ID or(and) Type is not provided.")}function G(e){return e?(0,Ie.post)(_store.basePath+"/rating/remove",{data:{ratingType:"LIKE",contentId:e,rootContentId:e},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to dislike content. ID or(and) Type is not provided.")}function V(e,t,n,o){return e&&t&&n?o?(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:t,contentId:e,ratingType:"RANGE_SCORING",score:n,id:o,rootContentId:e,rootContentType:t},jsonHeader:!0,handlebarsHeader:!0}):(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:t,contentId:e,ratingType:"RANGE_SCORING",score:n,rootContentId:e,rootContentType:t},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to rate content. ID or(and) Type or(and) Value is not provided.")}function J(e,t){return e&&t?(0,Ie.put)(_store.basePath+"/subscriptions/"+t+"/"+e):void console.error("Unable to follow content. Id or type is not provided.",e,t)}function Y(e,t){return e&&t?(0,Ie.del)(_store.basePath+"/subscriptions/"+t+"/"+e):void console.error("Unable to unfollow content. Id or type is not provided.",e,t)}function W(e,t,n,o,r){return(0,Ie.post)(_store.basePath+"/authorContentPage/suggest",{data:{editorId:e,contextCommunityId:t,product:n,titleText:o,bodyText:r},jsonHeader:!0,handlebarsHeader:!0})}function z(e){return e=i(e),(0,Ie.post)(_store.basePath+"/authorContentPage/question",{data:e,jsonHeader:!0,handlebarsHeader:!0})}function Q(e){return e=i(e),(0,Ie.post)(_store.basePath+"/authorContentPage/userTip",{data:e,jsonHeader:!0,handlebarsHeader:!0})}function X(e){return e=i(e),(0,Ie.post)(_store.basePath+"/authorContentPage/answer",{data:e,jsonHeader:!0,handlebarsHeader:!0})}function Z(e){return e=i(e),(0,Ie.post)(_store.basePath+"/authorContentPage/comment",{data:e,jsonHeader:!0,handlebarsHeader:!0})}function $(e){return e?(0,Ie.post)(_store.basePath+"/rating/remove",{data:{contentType:"QUESTION",contentId:e,ratingType:"ME_TOO",rootContentId:e,rootContentType:"QUESTION"},jsonHeader:!0,handlebarsHeader:!0}):void console.error('Unable to "un me too" question, id is not provided')}function ee(e){return e?(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:"QUESTION",contentId:e,ratingType:"ME_TOO",rootContentId:e,rootContentType:"QUESTION"},jsonHeader:!0,handlebarsHeader:!0}):void console.error('Unable to "me too" question, id is not provided')}function te(e,t){return e&&t?(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:"ANSWER",contentId:e,ratingType:"HELPFUL",rootContentId:t,rootContentType:"QUESTION"},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to mark answer as helpful. ID or(and) root ID is not provided.")}function ne(e,t){return e&&t?(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:"ANSWER",contentId:e,ratingType:"SOLVED",rootContentId:t,rootContentType:"QUESTION"},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to mark answer as solution. ID or(and) root ID is not provided.")}function oe(e){return e?(0,Ie.get)(_store.basePath+"/count?startTime="+e):void console.error("Can not make a call to get number of new activities on subscribed threads. Start time in not provided.")}function re(e){function t(e){return(0,De.saveData)({keys:["create-post"],data:e,maxAge:We,localStorageMaxAge:We,saveToLocalStorage:!0})}if(null===e)t(e);else for(;!t(e)||0===e.bodyDelta.ops.length;)e.bodyDelta.ops.pop()}function ae(){return(0,De.readData)(["create-post"])}function ie(e,t){return e&&t?(0,Ie.get)(_store.basePath+"/report-follow/"+t+"/"+e):void console.error("Unable to get options. Id or type is not provided")}function se(e){var t=encodeURIComponent(e);return(0,Ie.post)(_store.basePath+"/gamification/notification/"+t,{handlebarsHeader:!0})}function le(e){return e?(0,Ie.get)(_store.basePath+"/edit/question/"+e):void console.error("Unable to get question content. Id is not provided.")}function ue(e){return e?(0,Ie.get)(_store.basePath+"/edit/answer/"+e):void console.error("Unable to get answer content. Id is not provided.")}function ce(e){return e?(0,Ie.get)(_store.basePath+"/edit/comment/"+e):void console.error("Unable to get comment content. Id is not provided.")}function de(e){return e?(0,Ie.get)(_store.basePath+"/edit/userTip/"+e):void console.error("Unable to get user tip content. Id is not provided.")}function fe(e){return e.id?(e=i(e),(0,Ie.put)(_store.basePath+"/content/question/"+e.id,{data:e,jsonHeader:!0,handlebarsHeader:!0})):void console.error("Unable to edit question, id is not provided.")}function pe(e){return e.id?(e=i(e),(0,Ie.put)(_store.basePath+"/content/answer/"+e.id,{data:e,jsonHeader:!0,handlebarsHeader:!0})):void console.error("Unable to edit answer, id is not provided.")}function he(e){return e.id?(e=i(e),(0,Ie.put)(_store.basePath+"/content/comment/"+e.id,{data:e,jsonHeader:!0,handlebarsHeader:!0})):void console.error("Unable to edit comment, id is not provided.")}function ge(e){return e.id?(e=i(e),(0,Ie.put)(_store.basePath+"/content/userTip/"+e.id,{data:e,jsonHeader:!0,handlebarsHeader:!0})):void console.error("Unable to edit user tip, id is not provided.")}function me(e,t){return e||t?(0,Ie.del)(_store.basePath+"/archive/"+t+"/"+e,{jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to delte content, id or type is not provided.")}function ve(e,t){return e||t?(0,Ie.post)(_store.basePath+"/move/userTip/"+e+"/"+t,{jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to move user tip, id or targetId is not provided.")}function ye(e){return e?(0,Ie.post)(_store.basePath+"/rating/save",{data:{contentType:"USER_TIP",contentId:e,ratingType:"PROMOTED",rootContentId:e,rootContentType:"USER_TIP"},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to promote user tip, id is not provided.")}function be(e){return e?(0,Ie.post)(_store.basePath+"/rating/remove",{data:{contentType:"USER_TIP",contentId:e,ratingType:"PROMOTED",rootContentId:e,rootContentType:"USER_TIP"},jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to unpromote user tip, id is not provided.")}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||console.error("Unable to get communities list, contentType is not provided"),(0,Ie.get)(_store.basePath+"/list/community/"+e+"?children="+t)}function we(e){return e?(0,Ie.get)(_store.basePath+"/link/title?url="+e):void console.error("Unable to get title URL is not provided")}function Ae(e){return e?(0,Ie.post)(_store.basePath+"/content/userTip/"+e+"/approve",{jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to approve user tip, id is not provided.")}function Se(e){return e?(0,Ie.post)(_store.basePath+"/content/userTip/"+e+"/reject",{jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to reject user tip, id is not provided.")}function Ee(e){return e?(0,Ie.post)(_store.basePath+"/content/comment/"+e+"/approve",{jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to approve comment, id is not provided.")}function Te(e){return e?(0,Ie.post)(_store.basePath+"/content/comment/"+e+"/reject",{jsonHeader:!0,handlebarsHeader:!0}):void console.error("Unable to reject comment, id is not provided.")}function Oe(){return r({keys:["getIpDetails"],url:"/ipidentifier",savingOptions:{saveToLocalStorage:!1},mockDataOptions:null,requestOptions:{jsonHeader:!0,handlebarsHeader:!0,returnHeader:"X-Request-Apple-IP"}})}function ke(){_store||(_store={}),(0,De.initStorage)()}Object.defineProperty(t,"__esModule",{value:!0}),t.getGamificationData=s,t.getGamificationProgress=l,t.getUserData=u,t.deleteUserData=c,t.getLeaderBoardUsers=d,t.saveLeaderBoardUsers=f,t.getSubcommunityPosts=p,t.saveSubcommunityPosts=h,t.getArticlePosts=g,t.saveArticlePosts=m,t.getSubscriptionPosts=v,t.saveSubscriptionPosts=y,t.setSubscriptionsAsRead=b,t.getBrowsePosts=_,t.saveBrowsePosts=w,t.getThreadPosts=A,t.saveThreadPosts=S,t.deleteThreadPostsData=E,t.getSearchResults=T,t.validateYouTubeVideo=O,t.followUser=k,t.unfollowUser=I,t.reportTopic=L,t.followCommunity=C,t.unfollowCommunity=P,t.getSearchSuggesstions=x,t.validateUserName=D,t.createUser=j,t.reacceptance=M,t.getUsersSuggestions=U,t.updateUserPreference=R,t.uploadContentImage=N,t.uploadContentLog=H,t.uploadAvatar=q,t.updateAvatar=B,t.deleteCustomAvatar=K,t.likeContent=F,t.dislikeContent=G,t.rateContent=V,t.followContent=J,t.unfollowContent=Y,t.getTopicSuggestion=W,t.submitPost=z,t.submitUserTip=Q,t.postThreadReply=X,t.postComment=Z,t.iDoNotHaveThisQuestionAnyMore=$,t.iHaveThisQuestionToo=ee,t.markAnswerAsHelpful=te,t.markAnswerAsSolved=ne,t.getNumberOfNewActivitiesOnSubscribedThreads=oe,t.savePostDraft=re,t.readPostDraft=ae,t.getFollowReportOptions=ie,t.reportReadNotification=se,t.getQuestionContent=le,t.getAnswerContent=ue,t.getCommentContent=ce,t.getUserTipContent=de,t.editQuestion=fe,t.editAnswer=pe,t.editComment=he,t.editUserTip=ge,t.deleteContent=me,t.moveUserTip=ve,t.promoteUserTip=ye,t.unpromoteUserTip=be,t.getCommunitiesTree=_e,t.getTitleFromURL=we,t.approveUserTip=Ae,t.rejectUserTip=Se,t.approveComment=Ee,t.rejectComment=Te,t.getIpDetails=Oe,t.init=ke;var Ie=n(18),Le=n(7),Ce=o(Le),Pe=n(1),xe=o(Pe),De=n(19),je=n(17),Me=o(je),Ue=new Ce.default("Store"),Re=xe.default.USER_DATA_THROTTLE_TIME,Ne=xe.default.OWN_USER_DATA_THROTTLE_TIME,He=xe.default.LEADERBOARD_DATA_THROTTLE_TIME,qe=xe.default.SUBCOMMUNITY_POSTS_DATA_THROTTLE_TIME,Be=xe.default.ARTICLE_POSTS_DATA_THROTTLE_TIME,Ke=xe.default.GAMIFICATION_DATA_MAX_AGE,Fe=xe.default.BROWSE_POSTS_DATA_THROTTLE_TIME,Ge=xe.default.MYSUBS_POSTS_DATA_THROTTLE_TIME,Ve=xe.default.SUBS_POSTS_DATA_THROTTLE_TIME,Je=xe.default.THREAD_POSTS_DATA_THROTTLE_TIME,Ye=xe.default.SEARCH_DATA_THROTTLE_TIME,We=xe.default.CREATE_POST_DRAFT_MAX_AGE},function(e,t,n){"use strict";function o(e){e.classList.remove("hidden")}function r(e){e.classList.add("hidden")}function a(e){e.forEach(function(e){o(e)})}function i(e){e.forEach(function(e){r(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.showElement=o,t.hideElement=r,t.showElements=a,t.hideElements=i},function(e,t,n){"use strict";function o(e,t){var n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}function r(e,t){window.addEventListener(e,function(e){t(e.detail)},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.fire=o,t.on=r;t.messages={createPost:"create-post-mobile",toMobileSearch:"to-mobile-search",hideAllForVoiceover:"hide-all",showAllForVoiceover:"show-all",onloadPageSpecificData:"onload-page-specific-data",focusMobileSubNav:"focus-mobile-sub-nav",updateAvatar:"update-avatar",clearThreadPageCache:"clear-thread-page-cache"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],r=t;return r.shift(),r.forEach(function(e,t){o=o.replace("{"+t+"}",e)}),o}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";o(this,e),this.namespace=t,this.shouldLog="yup"===i.default.getParam("showLogs")}return r(e,[{key:"log",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.shouldLog&&console.log(this.namespace.toUpperCase()+": ",t)}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e){var t=e.getAttribute("href");if(!t)return!1;for(var n=!1,o=0;!n&&o<p.length;)t.substring(0,p[o].length)===p[o]&&(n=!0),o++;return n}function r(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(e){n&&e.preventDefault(),t()};"A"===e.nodeName&&o(e)||(e.addEventListener("click",function(e){r(e)}),e.addEventListener("keydown",function(t){(t.keyCode===f.default.SPACE_KEY&&"A"!==e.nodeName||t.keyCode===f.default.ENTER_KEY)&&r(t)}))}function a(e,t){"A"===e.nodeName&&o(e)||e.addEventListener("contextmenu",function(){t()})}function i(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r(e,function(){t();var o=e.getAttribute("href");n&&(/^https?:\/\//i.test(o)||"//"===o.substring(0,2)?window.location.href=o:window.location.href=window.location.origin+o)},n),a(e,t)}function s(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];o=!(e.target&&"_blank"===e.target),i(e,function(){var o={link_text:e.textContent,dest_url:e.getAttribute("href")};n&&(o=Object.assign(o,n)),(0,c.onAction)(t,o)},o)}function l(e,t,n){function o(){e.checked?t():n&&n()}e.addEventListener("change",function(){o()}),e.addEventListener("keydown",function(e){e.keyCode!==f.default.ENTER_KEY&&e.keyCode!==f.default.SPACE_KEY||o()})}function u(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r(e,function(){(0,c.onAction)(t,n)},o)}Object.defineProperty(t,"__esModule",{value:!0}),t.addGeneralListeners=r,t.addRightClickListener=a,t.addListenersOnLink=i,t.addLinkListeners=s,t.addListenersOnCheckbox=l,t.addButtonListeners=u;var c=n(9),d=n(0),f=function(e){return e&&e.__esModule?e:{default:e}}(d),p=["mailto:","tel:"]},function(e,t){e.exports=DTML},function(e,t,n){"use strict";function o(){s.style.position="fixed",s.style.overflow="hidden"}function r(){s.style.position="relative",s.style.overflow=""}function a(){l.style.height="100%",l.style.overflow="hidden"}function i(){l.style.height="",l.style.overflow=""}Object.defineProperty(t,"__esModule",{value:!0}),t.disableScroll=o,t.enableScroll=r,t.disableScrollAndKeepScrollPosition=a,t.enableScrollAndKeepScrollPosition=i;var s=document.querySelector("body"),l=document.querySelector("html")},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(){o(this,e),this.origin=window.location.origin,this.pathname=window.location.pathname,this.params=function(){var e=window.location.search.substr(1);if(!e)return{};var t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}),t}(),this.pathParts="/"===this.pathname.charAt(this.pathname.length-1)?this.pathname.substring(1,this.pathname.length-1).split("/"):this.pathname.substring(1,this.pathname.length).split("/")}return r(e,[{key:"addParam",value:function(e,t){this.params[e]=t,this.setWindowURL()}},{key:"removeParam",value:function(e){delete this.params[e],this.setWindowURL()}},{key:"getParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.params[e]||t}},{key:"getCurrentURL",value:function(){var e=this,t="";return Object.keys(this.params).forEach(function(n){t+=n+"="+encodeURIComponent(e.params[n])+"&"}),t=t.substr(0,t.length-1)}},{key:"setWindowURL",value:function(){var e=this.getCurrentURL();e&&(e="?"+e),window.history.pushState(null,null,""+this.origin+this.pathname+e)}},{key:"reload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?setTimeout(function(){window.location.href=e.getCurrentURL()},t):window.location.href=this.getCurrentURL()}},{key:"redirect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(n?setTimeout(function(){window.location.href=""+e.origin+t},n):window.location.href=""+this.origin+t)}},{key:"includes",value:function(e){return this.pathname.includes(e)||this.origin.includes(e)}}]),e}();t.default=new a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return'\n    <div class="error-box">\n      <p><strong>'+_store.i18n("common.error.title")+"</strong></p>\n      <p>\n        "+("page"===e?_store.i18n("common.error.pageAjaxFailed"):_store.i18n("common.error.componentAjaxFailed"))+"\n      </p>\n    </div>\n  "}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n,o,a,i){Array.isArray(n)||(n=Array.from(n));var s=void 0;s=e?[].concat(r(n.slice(t+1,n.length)),r(n.slice(0,t+1))):[].concat(r(n.slice(t,n.length)),r(n.slice(0,t))).reverse();var l=s[0];o&&(l=s.find(function(e){var t="input"===e.tagName.toLowerCase()&&"checkbox"===e.getAttribute("type");return!t&&(0,u.default)(e,i)&&!e.disabled||t&&a})),l.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];n&&window.addEventListener("keydown",function(t){(!e||e&&e.checked)&&t.keyCode===s.default.ESC_KEY&&n()}),t&&t.forEach(function(n,l){n.addEventListener("keydown",function(n){if((e&&e.checked||!e)&&n.keyCode===s.default.TAB_KEY){n.preventDefault();var u=!0;n.shiftKey&&(u=!1),a(u,l,t,o,r,i)}})})};var i=n(0),s=o(i),l=n(29),u=o(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={en:"en-US",es:"es-ES",pt:"pt-BR",de:"de-DE",fr:"fr-FR",zh:"zh-CN",ko:"ko-KR",ja:"ja-JP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={localeMatcher:"best fit",style:"decimal"},o=void 0;return t?(o=r.default[t])||(console.error("NUMBERFORMAT: Can't find local for language "+t+". Default to English."),o=r.default.en):console.error("NUMBERFORMAT: Lang is not provided. Default to English."),e.toLocaleString(o,n)};var o=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(n){var o=function(e){return n.target===e||e.contains(n.target)},r=!1;if(e.forEach&&e.length>0)for(var a=0;!r&&a<e.length;)r=o(e[a]),a++;else r=o(e);r||t()};document.addEventListener("click",function(e){n(e)}),document.addEventListener("touchstart",function(e){n(e)})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.imageQuality,o=t.imageScale;return new Promise(function(t){var r=null;try{var i=new FileReader;i.readAsDataURL(e),i.onload=function(i){r=i.target.result,(0,a.default)(e,function(a){a<0&&t([e,r]),(0,s.default)({orientation:a,selectedImageBase64:r,selectedFile:e,imageQuality:n,imageScale:o},function(e,n){return t([e,n])})})}}catch(n){console.error("Image file format is not supported. "+n),t([e,r])}})};var r=n(20),a=o(r),i=n(21),s=o(i)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.timeout||(n.timeout=h),n.jsonHeader||(n.jsonHeader=!1),new Promise(function(o,r){var a=new XMLHttpRequest;a.open(t,e),a.timeout=n.timeout,window._store&&window._store.token&&a.setRequestHeader("X-Token",window._store.token),n.handlebarsHeader&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.jsonHeader&&a.setRequestHeader("Content-Type","application/json"),n.contentDispositionHeader&&a.setRequestHeader("Content-Disposition",n.contentDispositionHeader),a.onload=function(){a.status>=200&&a.status<300?o("string"==typeof n.returnHeader?a.getResponseHeader(n.returnHeader):n.returnHeader?a.getAllResponseHeaders():a.response):r(Error(JSON.stringify({title:"Loading failed",data:a.response,code:a.status})))},a.onerror=function(){r(Error(JSON.stringify({title:"There was a network error.",message:a.statusText,code:a.status})))},a.ontimeout=function(){r(Error("There was a network error: Timeout"))},n.form?a.send(n.form):n.data?a.send(JSON.stringify(n.data)):a.send()})}function a(e){return r(e,"GET",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function i(e){return r(e,"POST",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function s(e){return r(e,"DELETE",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function l(e){return r(e,"PUT",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function u(e){var t=e.indexOf("{"),n=e.substring(t,e.length);return(0,p.default)(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=a,t.post=i,t.del=s,t.put=l,t.parse=u;var c=n(1),d=o(c),f=n(2),p=o(f),h=d.default.AJAX_REQUEST_TIMEOUT},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return E+"-"+e+"-"+_store.lang+"-"+t}function i(){for(var e=0;e<S;e++)!function(e){var t=a("hashes",e),n=(0,w.default)(localStorage.getItem(t));n&&n.forEach&&(n.forEach(function(t){var n=a(t,e);localStorage.removeItem(n),A.log("Old local storage key removed. Key: "+n)}),localStorage.removeItem(t),A.log("Old local storage list of keys removed. Key: "+t))}(e)}function s(e,t){var n=a("hashes"),o=(0,w.default)(localStorage.getItem(n));o||(o=[]);var i=[].concat(r(o));if("add"===t)i.push(e);else if("remove"===t){var s=i.indexOf(e);i.splice(s,1)}i!==o&&(localStorage.setItem(n,JSON.stringify(i)),A.log("List of hashes stored in local storage updated. Local storage key: "+n+". Old hashes: "+o+". New hashes "+i))}function l(){var e=a("hashes"),t=(0,w.default)(localStorage.getItem(e));t&&t.forEach?(A.log("Found data in local storage. Hashes:",t),t.forEach(function(e){var t=a(e),n=(0,w.default)(localStorage.getItem(t));if(n){if((new Date).getTime()>n.timestamp+n.localStorageMaxAge)A.log("Local storage data expired. Removing from local storage. Hash: "+e+". Local storage key: "+t,n),localStorage.removeItem(t),s(e,"remove");else{A.log("Data retrived from local storage. Hash: "+e+". Local storage key: "+t,n);var o={keys:n.keys,data:n.data};n.maxAge&&(o.maxAge=n.maxAge),f(o)}}})):A.log("No data in local storage found")}function u(e){var t=d(e.keys),n=a(t);e.timestamp=(new Date).getTime();try{localStorage.setItem(n,JSON.stringify(e)),A.log("Data saved to local storage. Hash: "+t+" Local storage key: "+n,e),s(t,"add")}catch(o){return A.log("Unable to save data to local storage. Hash: "+t+" Local storage key: "+n,e),!1}return!0}function c(e){var t=d(e),n=a(t),o=localStorage.getItem(n);o&&(localStorage.removeItem(n),A.log("Data deleted from local storage. Hash: "+t+" Local storage key: "+n,o),s(t,"remove"))}function d(e){return e.join("-")}function f(e){var t=d(e.keys),n={data:e.data,updateNeeded:!1};if(e.maxAge&&"number"==typeof e.maxAge&&(n.updateTimeout=setTimeout(function(){n.updateNeeded=!0,A.log("Data expired. Hash: "+t)},e.maxAge)),_store._storage[t]?A.log("Data overwritten. Hash: "+t):A.log("Data saved. Hash: "+t),_store._storage[t]=n,e.saveToLocalStorage)return u(e)}function p(e){var t=d(e),n=_store._storage[t];return n&&!n.updateNeeded?(A.log("Data retrived. Hash: "+t),n.data):(A.log("Data not found. Hash: "+t),null)}function h(e){var t=d(e);_store._storage[t]&&(delete _store._storage[t],c(e))}function g(){_store._storage||(_store._storage={}),_store._readData||(_store._readData=p),_store._saveData||(_store._saveData=f),l(),i()}Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=f,t.readData=p,t.deleteData=h,t.initStorage=g;var m=n(1),v=o(m),y=n(7),b=o(y),_=n(2),w=o(_),A=new b.default("Storage"),S=v.default.LOCAL_STORAGE_VERSION,E=v.default.LOCAL_STORAGE_PREFIX},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new FileReader;n.onload=function(e){var n=new DataView(e.target.result);if(65496!==n.getUint16(0,!1))return t(-1);for(var o=n.byteLength,r=2;r<o;){var a=n.getUint16(r,!1);if(r+=2,65505===a){if(1165519206!==n.getUint32(r+=2,!1))return t(-1);var i=18761===n.getUint16(r+=6,!1);r+=n.getUint32(r+4,i);var s=n.getUint16(r,i);r+=2;for(var l=0;l<s;l++)if(274===n.getUint16(r+12*l,i))return t(n.getUint16(r+12*l+8,i))}r+=n.getUint16(r,!1)}return t(-1)},n.readAsArrayBuffer(e.slice(0,65536))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.orientation,o=e.selectedImageBase64,r=e.selectedFile,a=e.imageQuality,i=e.imageScale,s=document.createElement("canvas"),l=new Image,u=s.getContext("2d");l.src=o,l.onload=function(){var e=void 0,o=void 0;switch(i?(e=l.width*i,o=l.height*i):(e=l.width,o=l.height),n>4?(s.width=o,s.height=e):(s.width=e,s.height=o),n){case 1:break;case 2:u.transform(-1,0,0,1,e,0);break;case 3:u.transform(-1,0,0,-1,e,o);break;case 4:u.transform(1,0,0,-1,0,o);break;case 5:u.transform(0,1,1,0,0,0);break;case 6:u.transform(0,1,-1,0,o,0);break;case 7:u.transform(0,-1,-1,0,o,e);break;case 8:u.transform(0,-1,1,0,0,e)}u.drawImage(l,0,0);var c=s.toDataURL(r.type,a);s.toBlob(function(e){var n=new File([e],r.name);t(n,c)},r.type,a)}}},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof Element))throw Error("DomUtil: elem is not an element.");var n=getComputedStyle(e);if("none"===n.display)return!1;if("visible"!==n.visibility)return!1;if(n.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;if(e.tabIndex<0)return!1;if(!t){var o={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(o.x<0)return!1;if(o.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(o.y<0)return!1;if(o.y>(document.documentElement.clientHeight||window.innerHeight))return!1}return!0}},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(13),l=r(s),u=n(15),c=r(u),d=n(3),f=n(5),p=o(f),h=n(0),g=r(h),m=n(4),v=n(10),y=o(v),b=n(12),_=r(b),w=n(2),A=r(w),S=n(31),E=r(S),T=function(){function e(){a(this,e),this._shown=!1,this.users=null,this._template=null,this.overlay=null,this.popup=null,this.wrapper=null,this.profile=null,this.close=null,this.prevFocus=null,this.clearUserDataOnCloseUserId=null}return i(e,[{key:"addCloseEvents",value:function(){var e=this;this.close.addEventListener("click",function(){e.shown=!1}),this.close.addEventListener("keydown",function(t){t.keyCode!==g.default.ENTER_KEY&&t.keyCode!==g.default.SPACE_KEY||(t.preventDefault(),e.shown=!1)})}},{key:"createWrapper",value:function(){this.overlay=document.createElement("div"),this.overlay.classList.add("user-profile-overlay"),this.popup=document.createElement("div"),this.popup.classList.add("user-profile-popup"),this.popup.setAttribute("data-action","user-profile-popup"),this.popup.setAttribute("role","dialog"),this.popup.setAttribute("aria-labelledby","user-profile-popup-title"),this.popup.setAttribute("tabindex","-1"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("user-profile-wrapper"),this.wrapper.setAttribute("data-action","user-profile-popup-wrapper"),this.profile=document.createElement("div"),this.profile.classList.add("profile-data"),this.close=document.createElement("button"),this.close.classList.add("icon"),this.close.classList.add("icon-close"),this.close.classList.add("close-popup"),this.close.setAttribute("aria-label",_store.i18n("common.user.a11y.closePopup")),this.overlay.appendChild(this.popup),this.popup.appendChild(this.wrapper),this.wrapper.appendChild(this.profile),document.querySelector("body").appendChild(this.overlay)}},{key:"addSlidingFunctionality",value:function(e){E.default.init(this.wrapper,e);var t=this.popup.querySelectorAll('[data-action="user-award"]'),n=this.popup.querySelectorAll('[data-action="user-speciality"]');if(t){var o={type:"award",items:[]};t.forEach(function(t,n){o.items.push({id:e.awards[n].id,element:t})}),E.default.addEvents(o)}if(n){var r={type:"expertise",items:[]};n.forEach(function(t,n){r.items.push({id:e.expertise[n].id,element:t})}),E.default.addEvents(r)}}},{key:"addFollowUnfollowEvents",value:function(e){var t=this,n=this.popup.querySelector('[data-action="user-popup-follow"]'),o=this.popup.querySelector('[data-action="user-popup-unfollow"]');n&&o&&(n.addEventListener("click",function(){n.setAttribute("disabled",!0),(0,d.followUser)(e.id).then(function(){(0,m.hideElement)(n),(0,m.showElement)(o),n.removeAttribute("disabled"),o.focus(),t.clearUserDataOnCloseUserId=e.id}).catch(function(e){console.error("Unable to follow user from dialog",e),n.removeAttribute("disabled"),n.focus()})}),o.addEventListener("click",function(){o.setAttribute("disabled",!0),(0,d.unfollowUser)(e.id).then(function(){(0,m.hideElement)(o),(0,m.showElement)(n),o.removeAttribute("disabled"),n.focus(),t.clearUserDataOnCloseUserId=e.id}).catch(function(e){console.error("Unable to unfollow user from dialog",e),o.removeAttribute("disabled"),o.focus()})}))}},{key:"addEvents",value:function(){var e=this,t=function(t,n){var o="keydown"===t.type;if(o&&t.keyCode===g.default.ENTER_KEY||t.keyCode===g.default.SPACE_KEY||!o){t.preventDefault(),e.prevFocus=n.element,e.template='<div class="spinner"></div>';var r=(0,d.getGamificationData)(),a=(0,d.getUserData)(n.id);Promise.all([r,a]).then(function(t){var o=(0,A.default)(t[1]),r=(0,A.default)(t[0]);if(!o.userId)return void(e.template=(0,_.default)());var a=e.constructor.transformUserData(o);n.badge?(E.default.init(e.wrapper,a),e.template=E.default.getTemplate(n.badge.id,n.badge.type,r),e.wrapper.classList.add("silent-slide"),e.wrapper.querySelector('[data-action="slide-back-button"]').remove(),e.close.setAttribute("aria-label",_store.i18n("common.popup.close")),e.popup.setAttribute("aria-labelledby","popup-details-title"),e.wrapper.querySelector("h2").focus()):(a.isEmployee?e.popup.classList.add("employee"):e.popup.classList.remove("employee"),e.template=e.constructor.profileTemplate(a,r),e.addSlidingFunctionality(a),e.addFollowUnfollowEvents(a))},function(t){console.error("Unable to get the data. "+t),e.template=(0,_.default)()}),e.shown=!0}};this.users&&this.users.forEach(function(e){e.element.setAttribute("role","button"),e.element.addEventListener("click",function(n){t(n,e)}),e.element.addEventListener("keydown",function(n){t(n,e)})}),window.addEventListener("keydown",function(t){t.keyCode===g.default.ESC_KEY&&e.shown&&(e.shown=!1)}),this.overlay.addEventListener("touchmove",function(t){parseInt(window.getComputedStyle(e.popup,null).getPropertyValue("height"),10)<=window.innerHeight&&t.preventDefault()})}},{key:"init",value:function(e){this.users=e,this.createWrapper(),this.addEvents()}},{key:"shown",set:function(e){this._shown=e,e?(this.overlay.classList.add("shown"),this.popup.focus(),p.fire(p.messages.hideAllForVoiceover,{element:this.overlay,container:document.body}),y.disableScrollAndKeepScrollPosition()):(this.overlay.classList.remove("shown"),this.prevFocus&&this.prevFocus.focus(),p.fire(p.messages.showAllForVoiceover),this.clearUserDataOnCloseUserId&&((0,d.deleteUserData)(this.clearUserDataOnCloseUserId),this.clearUserDataOnCloseUserId=null),y.enableScrollAndKeepScrollPosition())},get:function(){return this._shown}},{key:"template",set:function(e){this._template=e,this.profile.innerHTML=this._template,this.close=this.close.cloneNode(),this.addCloseEvents(),this.profile.insertBefore(this.close,this.profile.firstChild);var t=this.profile.querySelectorAll("button, a");(0,l.default)(null,t,null,!0,!0)}}],[{key:"profileTemplate",value:function(e,t){return"\n      "+(e.avatar?'<img class="avatar" src="'+e.avatar+'" alt="'+_store.i18n("common.user.a11y.avatar")+'">':"")+"\n      "+(e.name?'<h2 class="user-name" id="user-profile-popup-title"><span class="a11y">'+_store.i18n("common.user.a11y.userInfo")+" </span>"+e.name+"</h2>":"")+"\n      "+(e.loggedIn&&e.email?'<p class="user-email">\n            <span class="title">'+_store.i18n("common.email")+":</span> "+e.email+"\n        </p>":"")+"\n      "+(e.location?'<p class="user-location">\n          '+e.location+"\n        </p>":"")+"\n      "+(e.level?'<div class="user-level">\n          '+(e.levelIcon?e.isEmployee?'<img class="level-image" src="'+e.levelIcon+'" alt="" aria-hidden="true">':'<div class="level-image user-level-icon-'+e.levelNumber+'" aria-hidden="true"></div>':"")+'\n          <span class="level-label">\n            <span class="a11y">'+_store.i18n("common.user.a11y.userLevel")+"</span>\n            "+e.level+"\n            "+(e.isEmployee||"number"!=typeof e.points?"":'<span class="points">('+(0,c.default)(e.points,_store.lang)+" "+_store.i18n("common.user.points.name")+")</span>")+"\n          </span>\n        </div>":"")+"\n      "+(!e.isEmployee||e.isEmployee&&e.loggedIn?'<div class="user-specialities" role="section" aria-labelledby="user-profile-popup-expertise-title">\n            <h3 class="title" id="user-profile-popup-expertise-title">\n              <span class="a11y">'+_store.i18n("common.user.a11y.user")+"</span>\n              "+_store.i18n("common.user.expertise.name")+'\n              <span class="count">('+e.expertise.length+")</span>\n            </h3>\n            "+(e.expertise.length>0?'<div class="previews">\n                '+e.expertise.filter(function(e,t){return t<4?e:null}).map(function(e){return'\n                  <a href="#" class="user-speciality" data-action="user-speciality" aria-hidden="true">\n                    <div class="user-expertise">\n                      <span><div class="user-expertise-icon experertise-'+e.img+'" aria-hidden="true"></div></span>\n                      <div class="expertise-info">\n                        <div class="expertise-title">'+t.expertise[e.id]+'<span class="a11y">'+_store.i18n("common.user.a11y.expertiseLevel")+" "+e.level+'</span></div>\n                        <span class="progress-bar">\n                          <span class="dashes progress-level-'+e.level+'"></span>\n                          <span class="progress-dashes"></span>\n                        </span>\n                      </div>\n                    </div>\n                  </a>\n                '}).join("")+"\n              </div>":"")+"\n            "+(e.expertise.length>4?'<a href="'+_store.basePath+e.url+'" class="arrow-link all-specialities">'+_store.i18n("common.user.expertise.viewAll")+"</a>":"")+"\n            "+(0===e.expertise.length?'<a href="'+_store.i18n("link.TSpecialities")+'" class="block-link about-specialities">'+_store.i18n("common.user.expertise.learnMore")+"</a>":"")+"\n          </div>\n          "+(e.awards.length>0?'<div class="user-awards" role="section" aria-labelledby="user-profile-popup-awards-title">\n              <h3 class="title" id="user-profile-popup-awards-title">\n                <span class="a11y">'+_store.i18n("common.user.a11y.user")+"</span>\n                "+_store.i18n("common.user.awards.name")+'\n                <span class="count">('+e.awards.filter(function(e){return!0===e.status}).length+")</span>\n              </h3>\n              "+e.awards.map(function(e){return'\n                <a href="#" class="award '+(e.status?"award-icon-"+e.id:"award-icon-"+e.id+"-grey")+'" aria-hidden="true" data-action="user-award">\n                  <span class="a11y">\n                    '+(t.awards[e.id]?t.awards[e.id].title:e.id)+"\n                    "+(e.status?_store.i18n("common.user.a11y.awardAchieved"):_store.i18n("common.user.a11y.awardNotAchieved"))+"\n                  </span>\n                </a>\n              "}).join("")+"\n            </div>":"")+"\n          "+(e.loggedIn?'<div class="user-settings" role="section" aria-labelledby="user-profile-popup-settings-title">\n                <h3 class="title" id="user-profile-popup-settings-title">'+_store.i18n("common.user.settings.title")+'</h3>\n                <a href="'+_store.basePath+e.url+'/subscriptions" class="block-link" rel="nofollow">'+_store.i18n("common.user.settings.manageSubscriptions")+'</a>\n                <a href="'+_store.basePath+'/profile/preferences" class="mobile block-link">'+_store.i18n("common.user.settings.preferences")+'</a>\n                <a href="'+_store.basePath+'/logout" class="block-link">'+_store.i18n("common.user.settings.logOut")+"</a>\n              </div>":"")+"\n        ":"")+'\n      <div class="buttons">\n        '+(_store.user.loggedIn&&!e.loggedIn?'<button role="checkbox" aria-checked="true" class="button button-black-small-font button-checked'+(e.subscribed?"":" hidden")+'" data-action="user-popup-unfollow"><span class="icon icon-check"></span> '+_store.i18n("common.actions.following")+'</button>\n            <button role="checkbox" aria-checked="false" class="button button-white-small-font'+(e.subscribed?" hidden":"")+'" data-action="user-popup-follow">'+_store.i18n("common.actions.follow")+"</button>":"")+'\n        <a href="'+_store.basePath+e.url+'" class="button '+(e.loggedIn?"button-small-font":"button-white-small-font")+'">'+_store.i18n("common.viewProfile")+"</a>\n      </div>\n    "}},{key:"transformUserData",value:function(e){var t=null;e.reputation&&e.reputation.userLevel&&"number"==typeof e.reputation.userLevel.points&&(t=e.reputation.userLevel.points);var n=null;e.reputation&&e.reputation.userLevel&&e.reputation.userLevel.icon&&(n=e.reputation.userLevel.icon);var o=e.profile&&e.profile.appleEmployee,r=null;o?r=e.profile.groups&&Array.isArray(e.profile.groups)&&e.profile.groups.length>0?"groups.communityOperations"===e.profile.groups[0]?_store.i18n("common.user.groups.operations"):"groups.communitySpecialists"===e.profile.groups[0]?_store.i18n("common.user.groups.specialists"):"groups.communityManagers"===e.profile.groups[0]?_store.i18n("common.user.groups.managers"):"groups.communityHosts"===e.profile.groups[0]?_store.i18n("common.user.groups.hosts"):"groups.communityDevOps"===e.profile.groups[0]?_store.i18n("common.user.groups.devOps"):_store.i18n("common.user.groups.specialists"):_store.i18n("common.user.groups.specialists"):(r=_store.i18n("common.user.groups.users"),e.reputation&&e.reputation.userLevel&&e.reputation.userLevel.levelNumber&&(r+=" "+e.reputation.userLevel.levelNumber));var a=[];e.reputation&&e.reputation.rewards&&Array.isArray(e.reputation.rewards)&&e.reputation.rewards.length>0&&e.reputation.rewards.filter(function(e){return!e.hidden}).forEach(function(e){var t=e.steps&&e.steps.length,n=e.completedSteps&&e.completedSteps.length;a.push({id:e.id.replace(/\s/g,"").toLowerCase(),status:t&&n&&e.steps.length===e.completedSteps.length,steps:e.steps.map(function(t){var n={status:!1,vendorId:t.vendorId};return t.id&&e.completedSteps&&Array.isArray(e.completedSteps)&&e.completedSteps.includes(t.id)&&(n.status=!0),n})})});var i=[];e.reputation&&e.reputation.expertise&&Array.isArray(e.reputation.expertise)&&e.reputation.expertise.length>0&&e.reputation.expertise.sort(function(e,t){return t.noOfCompletedStages-e.noOfCompletedStages}).forEach(function(e){var t=e.stages&&Array.isArray(e.stages)&&e.stages[0],n=e.steps&&e.steps.length,o=e.completedSteps&&e.completedSteps.length,r=!1;t&&n&&o&&e.stages[0].steps.length===e.stages[0].completedSteps.length&&(r=!0);var a={id:e.id.replace(/\s/g,"").toLowerCase(),img:e.templateKey.replace("expertise.",""),level:e.noOfCompletedStages,status:r,steps:e.stages[0].steps.map(function(t){return{status:e.stages[0].completedSteps.includes(t.id)}})};if(t){var s=e.stages[0].steps.map(function(t){var n={status:!1,vendorId:t.vendorId},o=e.stages[0].completedSteps&&Array.isArray(e.stages[0].completedSteps);return t.id&&o&&e.stages[0].completedSteps.includes(t.id)&&(n.status=!0),n});a.steps=s}i.push(a)});var s=null;if(e.profile&&e.profile.fields&&e.profile.fields.filter){var l=e.profile.fields.filter(function(e){return"LOCATION"===e.id});l.length&&(s=l[0].value)}var u=null;return e.reputation&&e.reputation.userLevel&&"number"==typeof e.reputation.userLevel.levelNumber&&(u=e.reputation.userLevel.levelNumber),{id:e.userId,gamificationId:e.gamificationId,isEmployee:o,avatar:""+_store.basePath+e.avatarUrl,name:e.nickname,location:s,email:e.email,points:t,level:r,levelIcon:n,subscribed:e.subscribed,url:e.url,awards:a,expertise:i,levelNumber:u,loggedIn:_store.user.loggedIn&&_store.user.userId===e.userId}}}]),e}();t.default=new T},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,o){var r=(o-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}function i(e,t,n,o,r){var i=a(e,t,n,r),s=a(e,t,n,o),l=r-o<=180?"0":"1";return["M",i.x,i.y,"A",n,n,0,l,0,s.x,s.y].join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(13),u=o(l),c=n(6),d=o(c),f=n(2),p=o(f),h=n(3),g=n(0),m=o(g),v=function(){function e(){r(this,e),this._shown=!1,this.wrapper=null,this.backButton=null,this.prevFocus=null,this.popupDetail=null,this.popupLinks=null,this.user=null,this.header=null}return s(e,[{key:"getStepProgress",value:function(e,t){var n=this,o=function(e,o,r){n.popupDetail||(n.popupDetail=n.wrapper);var a=n.popupDetail.querySelector("["+t+"]"),s=a.querySelector(".spinner"),l=document.createElement("div");l.classList.add("status-text");var u='\n          <svg class="progressbar">\n            <path fill="none" d="'+i(15,15,13,0,360*e)+'" />\n          </svg>\n          <span aria-hidden="true">'+(o-r)+'x</span>\n          <span class="a11y">\n            '+(0,d.default)(_store.i18n("common.user.a11y.stepCompleted"),r,o)+"\n          </span>\n      ";l.innerHTML=u,a.replaceChild(l,s)};(0,h.getGamificationProgress)(this.user.gamificationId,e.vendorId).then(function(e){var t=(0,p.default)(e);if(t||o(0,1,0),t.progresses&&t.progresses.length&&t.progresses[0]&&"number"==typeof t.progresses[0].earned&&"number"==typeof t.progresses[0].possible){var n=t.progresses[0].earned/t.progresses[0].possible;o(n,t.progresses[0].possible,t.progresses[0].earned)}else o(0,1,0)}).catch(function(e){o(0,1,0),console.error("Gamification data failed: "+e)})}},{key:"getTemplate",value:function(e,t,n){var o=this,r=this.user.loggedIn?"private":"public",a={stepsType:"checkmark",accessType:r};if("award"===t)a.item=Object.assign({},this.user.awards.filter(function(t){return t.id===e})[0]),a.title=n.awards[e].title,a.logo='<div class="award-image award-icon-'+e+'" aria-hidden="true"></div>',a.backButtonTitle=n.awards.backToAwards,"legacy"===e?(a.subtitle=n.awards[e].subtitle,a.description=(0,d.default)(n.awards[e].description[r],this.user.name)):a.item.status?(a.subtitle=(0,d.default)(n.awards[e].subtitle.completed[r],this.user.name),a.description=(0,d.default)(n.awards[e].description.completed[r],this.user.name)):(a.subtitle=n.awards[e].subtitle.inprogress,a.description=n.awards[e].description.inprogress),n.awards[e].steps&&(a.steps=n.awards[e].steps),this.user.loggedIn&&a.item.steps?a.stepsType="number":a.item.steps=a.item.steps.map(function(e){return e.status}),n.awards[e].note&&(a.note=n.awards[e].note),a.footer=(0,d.default)(n.awards.footer,_store.i18n("link.TAwards"));else if("expertise"===t){a.item=Object.assign({},this.user.expertise.filter(function(t){return t.id===e})[0]),a.title=n.expertise[e],a.logo='<div class="award-image experertise-'+a.item.img+'" aria-hidden="true"></div>',a.level=a.item.level,a.backButtonTitle=n.expertise.backToExpertise;var i=0===a.item.steps.filter(function(e){return!1===e.status}).length,s=a.item.steps.filter(function(e){return!1===e.status}).length===a.item.steps.length,l=a.item.level,u=n.expertise[e];if(i&&10===l){var c=n.expertise.description.completed[r];a.description="private"===r?(0,d.default)(c,u):(0,d.default)(c,this.user.name,u)}else if(s&&0===l&&"public"===r)a.description=(0,d.default)(n.expertise.description.notStarted,this.user.name,u,l+1);else{var f=n.expertise.description.inprogress[r];a.description="private"===r?(0,d.default)(f,u,u,l+1):(0,d.default)(f,this.user.name,u,l+1)}"private"===r&&a.item.steps?a.stepsType="number":a.item.steps=a.item.steps.map(function(e){return e.status}),a.steps=10===l?n.expertise.stage[a.item.level-1].steps:n.expertise.stage[a.item.level].steps,a.item.status=i&&10===l,a.footer=(0,d.default)(n.expertise.footer,_store.i18n("link.TSpecialities"))}var p='    \n      <div class="popup-details" id="popup-details" data-action="popup-details">\n        <div class="award-wrapper">\n          <div class="award-head">\n            '+(a.logo?a.logo:"")+"\n            "+(a.title?'<h2 class="award-title" id="popup-details-title" tabindex="-1">'+a.title+"</h2>":"");return a.subtitle&&(p+='<h3 class="award-subtitle">'+a.subtitle+"</h3>"),"number"==typeof a.level&&(p+='\n        <span class="progress-bar">\n          <span class="dashes progress-level-'+a.level+'"></span>\n          <span class="progress-dashes"></span>\n          <span class="a11y">'+_store.i18n("common.user.a11y.expertiseLevel")+" "+a.level+"</span>\n        </span>\n      "),p+='\n          </div>\n          <div class="award-description">\n          '+(a.description?'<p class="award-message-desc">'+a.description+"</p>":""),a.steps&&a.steps.forEach&&a.item&&a.item.steps&&a.item.steps.forEach(function(e,t){if("number"===a.stepsType)if(e.status)p+='\n              <div class="status-container achieved">\n                <div class="status-img"></div>';else{var n="data-deffered-bage-"+t+'="true"';o.getStepProgress(e,n),p+='\n            <div class="status-container" '+n+'>\n              <div class="spinner"></div>'}else"public"===a.accessType?p+='\n          <div class="status-container'+(a.item.status?" achieved":"")+'">\n            <div class="status-img"></div>':p+='\n          <div class="status-container'+(e?" achieved":"")+'">\n            <div class="status-img"></div>';p+='\n            <span class="status-message">\n              '+a.steps[t]+"\n              "+("number"!==a.stepsType?'<span class="a11y">'+(a.item.status?_store.i18n("common.user.a11y.stepAchieved"):_store.i18n("common.user.a11y.stepNotAchieved"))+"</span>":"")+"\n              "+("number"===a.stepsType&&e.status?'<span class="a11y">'+_store.i18n("common.user.a11y.stepAchieved")+"</span>":"")+"\n            </span>\n          </div>\n        "}),a.note&&(p+='<p class="award-note">'+(0,d.default)(a.note,_store.basePath)+"</p>"),p+="\n          </div>\n          "+(a.footer?'<div class="award-footer">\n              <p>'+a.footer+"</p>\n            </div>":"")+'\n        </div>\n        <a id="slide-back" class="icon icon-chevronleft slide-back" href="#" data-action="slide-back-button" role="button" aria-label="'+a.backButtonTitle+'"></a>\n      </div>    \n    '}},{key:"addEvents",value:function(e){var t=this;e.items.forEach(function(n){n.element.removeAttribute("aria-hidden"),n.element.addEventListener("click",function(o){t.itemClicked(o,n.id,e.type)}),n.element.addEventListener("keydown",function(o){o.keyCode!==m.default.SPACE_KEY&&o.keyCode!==m.default.ENTER_KEY||t.itemClicked(o,n.id,e.type)})})}},{key:"backButtonClicked",value:function(e){var t="keydown"===e.type;(t&&e.keyCode===m.default.ENTER_KEY||e.keyCode===m.default.SPACE_KEY||!t)&&(e.preventDefault(),this.shown=!1)}},{key:"removeSliderFromDOM",value:function(){this.wrapper===this.popupDetail.parentNode&&this.wrapper.removeChild(this.popupDetail)}},{key:"itemClicked",value:function(e,t,n){var o=this;e.preventDefault();var r=(0,h.getGamificationData)();Promise.resolve(r).then(function(r){if("expertise"===n&&!o.user.expertise.filter(function(e){return e.id===t})[0].steps)return void console.error("Steps for "+t+" expertise are not avaliable");o.shown=!0,o.prevFocus=e.currentTarget,o.popupDetail=document.createElement("div"),o.popupDetail.classList.add("slide-popup");var a=o.getTemplate(t,n,(0,p.default)(r));o.popupDetail.innerHTML=a,o.wrapper.appendChild(o.popupDetail),o.backButton=o.popupDetail.querySelector('[data-action="slide-back-button"]'),o.backButton.addEventListener("click",function(e){o.backButtonClicked(e)}),o.backButton.addEventListener("keydown",function(e){o.backButtonClicked(e)}),o.header=o.popupDetail.querySelector("h2"),o.popupLinks=o.popupDetail.querySelectorAll("a"),(0,u.default)(!1,o.popupLinks,function(){o.shown=!1,o.removeSliderFromDOM()})})}},{key:"init",value:function(e,t){var n=this;this.wrapper=e,this.user=t,this.wrapper.addEventListener("transitionend",function(){n.shown?n.header.focus():(n.prevFocus&&n.prevFocus.focus(),n.removeSliderFromDOM())})}},{key:"shown",get:function(){return this._shown},set:function(e){this._shown=e,e?this.wrapper.classList.add("slide-left"):this.wrapper.classList.remove("slide-left")}}]),e}();t.default=new v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(16),s=o(i),l=n(4),u=n(35),c=o(u),d=n(7),f=o(d),p=new f.default("Common Drop Down"),h=[],g=function(){function e(t,n,o,a){var i=this;if(r(this,e),t){if(this._shown=!1,this.cb=n,this.disabled=!1,this.selectMode=o,this.ajaxMode=a,this.ajaxMode&&(this.futureLabelText=null,this.futureOptionIndex=null),this.component=t,this.button=this.component.querySelector('[data-action="drop-down-button"]'),this.dropdown=this.component.querySelector('[data-action="drop-down-menu"]'),this.links=this.component.querySelectorAll('[data-action="drop-down-menu"] li a'),this.buttonText=this.component.querySelector('[ data-action="drop-down-button-text"]'),!this.dropdown)return void p.log("Drop down options are empty.",this.component);this.addEvents(),(0,l.showElement)(this.component),this.component.dataset.actionAutoAlignment&&(this.fixAligment(),window.addEventListener("resize",function(){i.fixAligment()}))}}return a(e,[{key:"addEvents",value:function(){var e=this;this.links.forEach(function(t,n){t.addEventListener("click",function(o){if(e.cb){if(o.preventDefault(),e.disabled)return;e.selectMode&&(e.ajaxMode?(e.disabled=!0,e.futureLabelText=t.textContent.trim(),e.futureOptionIndex=n):e.buttonText.textContent=t.textContent.trim()),e.cb({key:t.getAttribute("href"),value:t.textContent.trim(),el:t})}e.shown=!1})}),this.button.addEventListener("click",function(){e.shown?e.shown=!1:e.shown=!0}),(0,s.default)([this.button,this.dropdown],function(){e.shown&&(e.shown=!1)}),(0,c.default)(this.button,this.links,function(){e.shown=!1},function(){e.shown=!1,e.button.focus()}),new MutationObserver(function(t){t.forEach(function(t){"childList"!==t.type||e.dropdown.children.length>0||(e.shown=!1,e.component.parentNode&&e.component.parentNode.removeChild(e.component))})}).observe(this.dropdown,{attributes:!1,childList:!0,subtree:!1})}},{key:"onChangeComplete",value:function(e){e&&this.futureLabelText&&(this.buttonText.textContent=this.futureLabelText),this.futureLabelText=null,this.futureOptionIndex=null,this.disabled=!1}},{key:"setOption",value:function(e){this.selectMode&&(this.buttonText.textContent=this.links[e].textContent)}},{key:"fixAligment",value:function(){var e=document.querySelector("body"),t=document.createElement("div"),n=this.dropdown.cloneNode(!0);t.classList.add("dropdown"),n.classList.remove("hidden"),t.appendChild(n);var o=this.button.getBoundingClientRect();e.appendChild(t);var r=n.getBoundingClientRect();e.removeChild(t),o.left<r.width?(this.dropdown.classList.remove("right"),this.dropdown.classList.add("left")):(this.dropdown.classList.remove("left"),this.dropdown.classList.add("right"))}},{key:"shown",set:function(e){if(this._shown=e,e){if((0,l.showElement)(this.dropdown),this.button.hasAttribute("aria-expanded")&&this.button.setAttribute("aria-expanded",!0),this.component.dataset.autoFocusFirstItem){var t=this.dropdown.querySelector('[data-action="drop-down-menu-item"]');t&&setTimeout(function(){t.focus()},500)}}else(0,l.hideElement)(this.dropdown),this.button.hasAttribute("aria-expanded")&&this.button.setAttribute("aria-expanded",!1)},get:function(){return this._shown}}]),e}();t.default={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach?e.forEach(function(e,r){h[r]=new g(e,t,n,o)}):h.push(new g(e,t,n,o))},onChangeComplete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;h.forEach(function(t){t.onChangeComplete(e)}),"function"==typeof t&&t()},setOption:function(e){Number.isInteger(e)&&h.forEach(function(t){t.setOption(e)})}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){Array.isArray(t)||(t=Array.from(t)),e&&e.addEventListener("keydown",function(e){e.shiftKey&&e.keyCode===r.default.TAB_KEY&&n()}),t&&t.length&&(t[0].addEventListener("keydown",function(e){e.shiftKey&&e.keyCode===r.default.TAB_KEY&&n()}),t[t.length-1].addEventListener("keydown",function(e){e.shiftKey||e.keyCode!==r.default.TAB_KEY||n()}),t[t.length-1].addEventListener("blur",function(){setTimeout(function(){t[t.length-2]===document.activeElement||n()},0)}),window.addEventListener("keydown",function(a){var i=document.activeElement,s=t.includes(i)||e&&e===i,l=t.findIndex(function(e){return e===i});if(a.keyCode===r.default.ESC_KEY&&s)o?o():n();else if(a.keyCode===r.default.DOWN_KEY&&s){a.preventDefault();var u=t[l+1];u&&u.focus()}else if(a.keyCode===r.default.UP_KEY&&s){a.preventDefault();var c=t[l-1];c&&c.focus()}}))};var o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o)},,,function(e,t,n){"use strict";function o(e,t){"script"!==t&&"styles"!==t&&console.error("Unable to load resource "+e+". Resource type (script or styles) is not specified.");for(var n=document.querySelectorAll(i[t].tag),o=!1,r=0;!o&&r<n.length;){if(n[r].hasAttribute(i[t].pathAttribute)){var a=n[r].getAttribute(i[t].pathAttribute);a&&a.length>0&&a.includes(e)&&(o=!0)}r++}if(!o){var s=document.createElement(i[t].tag);i[t].additionalAttributes.forEach(function(e){s.setAttribute(e.name,e.value)}),s.setAttribute(i[t].pathAttribute,e),document.querySelector(i[t].parentSelector).appendChild(s)}}function r(e){o(e,"script")}function a(e){o(e,"styles")}Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=r,t.loadStyles=a;var i={script:{tag:"script",pathAttribute:"src",additionalAttributes:[{name:"type",value:"text/javascript"}],parentSelector:"body"},styles:{tag:"link",pathAttribute:"href",additionalAttributes:[{name:"rel",value:"stylesheet"},{name:"type",value:"text/css"}],parentSelector:"head"}}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(e){var t=new a(e);return{notification:t,update:function(e){t.updateBody(e)},hide:function(){t.shown&&(t.shown=!1)},show:function(){t.shown||(t.shown=!0)},dismiss:function(e){t.dismiss(e)}}};var a=function(){function e(t){o(this,e),t.element&&(this.element=t.element,this.closeBtn=this.element.querySelector('[data-action="notification-close"]'),this.body=this.element.querySelector('[data-action="notification-body"]'),this.body&&this.closeBtn&&(t.onClose&&(this.onCloseCb=t.onClose),t.onAction&&(this.onActionCb=t.onAction),this.autoDismissable=!!t.autoDismissable&&t.autoDismissable,this._shown=this.element.classList.contains("shown"),this.addCloseEvents(),this.addActionEvents()))}return r(e,[{key:"updateBody",value:function(e){this.body.innerHTML=e,this.addActionEvents()}},{key:"addActionEvents",value:function(){var e=this;if(this.onActionCb){this.body.querySelectorAll("a").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),e.onActionCb()})})}}},{key:"addCloseEvents",value:function(){var e=this;this.closeBtn.addEventListener("click",function(){e.shown=!1,e.onCloseCb&&e.onCloseCb()})}},{key:"dismiss",value:function(e){var t=this;this.autoDismissable&&setTimeout(function(){t.shown=!1,t.onCloseCb&&t.onCloseCb()},e)}},{key:"shown",get:function(){return this._shown},set:function(e){this._shown=e,e?this.element.classList.add("shown"):this.element.classList.remove("shown")}}]),e}()},,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){w.okapiObj={omnitureId:w.omnitureUID,referrer:w.documentReferer,url:w.windowURL,userAgent:w.userAgent,browserVendor:w.browserVendor}}function a(e){if((y=document.cookie.split(";").find(function(e){return e.includes("s_fid")}))&&y.length){w.omnitureUID=y.split("=")[1],clearTimeout(b);try{"function"==typeof e&&e()}catch(e){w.log=Object.assign({},w.log,{error:e})}}else b=setTimeout(function(){a(e)},h.COOKIE_MONSTER_TIMEOUT)}function i(){r(),_.getOrAllocate(w.omnitureUID,w.projectSlug,w.testSlug.threadPage,w.okapiObj,w.token).then(function(e){w.show=!(!v||!e||"has_search"!==e)});var e=v.querySelector('[data-action="search"]');e&&e.addEventListener("focus",function(){_.trackGoal(w.omnitureUID,w.projectSlug,w.testSlug.threadPage,w.goalName,w.okapiObj,w.token).then(function(e){console.warn(e)})})}function s(){var e=function(e,t){var n=document.createElement("div");return n.style.width="1px",n.style.height="1px",n.style.float="right",n.dataset.analyticsGoal=t,n.dataset.analyticsVar=e,n},t=function(e,t){_.getOrAllocate(w.omnitureUID,w.projectSlug,e,w.okapiObj,w.token).then(function(e){"function"==typeof t&&e&&t(e)})};r(),t(w.testSlug.AB,function(t){var n=e(t,w.testSlug.AB);t.includes("a")?n.style.backgroundColor="#f2f2fa":t.includes("b")&&(n.style.backgroundColor="#f2f2fb"),n.addEventListener("click",function(){_.trackGoal(w.omnitureUID,w.projectSlug,w.testSlug.AB,w.goalName.AB,w.okapiObj,w.token).then(function(e){console.warn(e)})}),document.body.append(n)}),t(w.testSlug.ABN,function(t){var n=e(t,w.testSlug.ABN);t.includes("a")?n.style.backgroundColor="#f2f2fa":t.includes("b")?n.style.backgroundColor="#f2f2fb":t.includes("c")?n.style.backgroundColor="#f2f2fc":t.includes("d")&&(n.style.backgroundColor="#f2f2fd"),n.addEventListener("click",function(){_.trackGoal(w.omnitureUID,w.projectSlug,w.testSlug.ABN,w.goalName.ABN,w.okapiObj,w.token).then(function(e){console.warn(e)})}),document.body.append(n)}),t(w.testSlug.AABB,function(t){var n=e(t,w.testSlug.AABB);t.includes("a1")?n.style.backgroundColor="#f2f2a1":t.includes("a2")?n.style.backgroundColor="#f2f2a2":t.includes("b1")?n.style.backgroundColor="#f2f2b1":t.includes("b2")&&(n.style.backgroundColor="#f2f2b2"),n.addEventListener("click",function(){_.trackGoal(w.omnitureUID,w.projectSlug,w.testSlug.AABB,w.goalName.AABB,w.okapiObj,w.token).then(function(e){console.warn(e)})}),document.body.append(n)})}function l(){document.addEventListener("keydown",function(e){e&&e.shiftKey&&e.altKey&&79===e.keyCode&&console.warn(w)}),document.addEventListener("keydown",function(e){e&&e.shiftKey&&e.altKey&&83===e.keyCode&&(w.show=!0)}),document.addEventListener("keydown",function(e){e&&e.shiftKey&&e.altKey&&72===e.keyCode&&(w.show=!1)})}function u(){b=setTimeout(function(){a(s)},h.COOKIE_MONSTER_TIMEOUT)}function c(){b=setTimeout(function(){a(i)},h.COOKIE_MONSTER_TIMEOUT),l()}function d(){v=document.querySelector('[data-action="okapi-search"]'),v&&(w.elementHeight=v.offsetHeight+13,w.elementDisplay=v.style.display,v.style.display="none",v.style.maxHeight=0),w.documentReferer=document.referrer,w.windowURL=p.default.getCurrentURL(),w.userAgent=navigator.userAgent,w.browserVendor=navigator.vendor,w.token={"X-Token":window._store.token},w.projectSlug=_store.config("ui.okapi.projectSlug"),w.testSlug.threadPage=_store.config("ui.okapi.testSlug.threadPage"),w.goalName.threadPage=_store.config("ui.okapi.goalName.threadPage"),w.testSlug.AB=_store.config("ui.okapi.testSlug.AB"),w.goalName.AB=_store.config("ui.okapi.goalName.AB"),w.testSlug.ABN=_store.config("ui.okapi.testSlug.ABN"),w.goalName.ABN=_store.config("ui.okapi.goalName.ABN"),w.testSlug.AABB=_store.config("ui.okapi.testSlug.AABB"),w.goalName.AABB=_store.config("ui.okapi.goalName.AABB");try{_=new m.default(w.okapiConfig)}catch(e){w.log=Object.assign({},w.log,{error:e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.initOkapiPixel=u,t.initOkapiThreadPage=c,t.initOkapi=d;var f=n(11),p=o(f),h=n(1),g=n(62),m=o(g),v=void 0,y=void 0,b=void 0,_=void 0,w={okapiConfig:{cache:{duration:"VISIT",size:3},endpoints:{basePath:_store.basePath,getOrAllocatePath:"/okapi/getOrAllocate",forceAllocatePath:"/okapi/forceAllocate",trackGoalPath:"/okapi/track",timeout:1e4,retries:3}},_shown:!0,documentReferer:null,browserVendor:null,windowURL:null,userAgent:null,testSlug:{},projectSlug:null,goalName:{},omnitureUID:null,elementHeight:0,elementDisplay:null,variation:null,okapiObj:null,log:{},token:null,get show(){return this._shown},set show(e){this._shown=e,e?(v.style.display=w.elementDisplay,v.style.maxHeight=w.elementHeight,setTimeout(function(){v.classList.add("shown")},300)):(v.classList.remove("shown"),v.style.maxHeight=0,setTimeout(function(){v.style.display="none"},300))}}},function(e,t,n){"use strict";(function(e){var n,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,s){"object"==a(t)&&"object"==a(e)?e.exports=s():(o=[],n=s,void 0!==(r="function"==typeof n?n.apply(t,o):n)&&(e.exports=r))}(0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==(void 0===e?"undefined":a(e))&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(t){return e[t]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,n){e.exports=n(7)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){function n(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise(function(r,a){function i(e){n(l,r,a,i,s,"next",e)}function s(e){n(l,r,a,i,s,"throw",e)}var l=e.apply(t,o);i(void 0)})}}},function(e,t,n){var o=n(8);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t,n){var o=n(9),r=n(10),a=n(11);e.exports=function(e){return o(e)||r(e)||a()}},function(e,t,n){var o=function(e){function t(e,t,r,a){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),l=new f(a||[]);return s._invoke=function(e,t,o){var r=A;return function(a,i){if(r===E)throw new Error("Generator is already running");if(r===T){if("throw"===a)throw i;return h()}for(o.method=a,o.arg=i;;){var s=o.delegate;if(s){var l=u(s,o);if(l){if(l===O)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(r===A)throw r=T,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);r=E;var c=n(e,t,o);if("normal"===c.type){if(r=o.done?T:S,c.arg===O)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(r=T,o.method="throw",o.arg=c.arg)}}}(e,r,l),s}function n(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function r(){}function i(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){var t;this._invoke=function(o,r){function i(){return new Promise(function(t,i){!function t(o,r,i,s){var l=n(e[o],e,r);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==(void 0===c?"undefined":a(c))&&v.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},function(e){return t("throw",e,i,s)})}s(l.arg)}(o,r,t,i)})}return t=t?t.then(i,i):i()}}function u(e,t){var o=e.iterator[t.method];if(o===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var r=n(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,O;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,O):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function p(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return o.next=o}}return{next:h}}function h(){return{value:g,done:!0}}var g,m=Object.prototype,v=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",_=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag";e.wrap=t;var A="suspendedStart",S="suspendedYield",E="executing",T="completed",O={},k={};k[b]=function(){return this};var I=Object.getPrototypeOf,L=I&&I(I(p([])));L&&L!==m&&v.call(L,b)&&(k=L);var C=i.prototype=o.prototype=Object.create(k);return r.prototype=C.constructor=i,i.constructor=r,i[w]=r.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[_]=function(){return this},e.AsyncIterator=l,e.async=function(n,o,r,a){var i=new l(t(n,o,r,a));return e.isGeneratorFunction(o)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(C),C[w]="Generator",C[b]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,o){return a.type="throw",a.arg=e,n.next=t,o&&(n.method="next",n.arg=g),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var i=v.call(r,"catchLoc"),s=v.call(r,"finallyLoc");if(i&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&v.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,O):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),O}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){n.r(t);var o=n(0),r=n.n(o),a=n(4),i=n.n(a),s=n(1),l=n.n(s),u=n(2),c=n.n(u),d=n(3),f=n.n(d),p=n(5),h=n.n(p),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";l()(this,e),this.namespace=t,this.shouldLog=!1}return c()(e,[{key:"_checkLogStatus",value:function(){var e=new URL(window.location.href),t="object"===f()(e.searchParams)&&"yup"===e.searchParams.get("showOkapiLogs");this.shouldLog=t}},{key:"log",value:function(){var e;this._checkLogStatus();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];this.shouldLog&&(e=console).log.apply(e,["".concat(this.namespace.toUpperCase(),": ")].concat(n))}}]),e}(),m=new g("Utils"),v=function(){function e(){l()(this,e)}return c()(e,null,[{key:"flattenObject",value:function(e){return function e(t,n,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={},i=n;return void 0!==o&&""!==o&&(i=r?"".concat(o,"[").concat(n,"]"):"".concat(o,".").concat(n)),"object"!==f()(t)?(a[i]=t,a):(Object.keys(t).forEach(function(n){var o=Array.isArray(t),r=e(t[n],n,i,o);a=function(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}([a,r])}),a)}(e)}},{key:"validateArguments",value:function(e){for(var t,n=null,o=!0,r=0;o&&r<e.length;)"string"==typeof e[r].type&&f()(e[r].argument)!==e[r].type||Array.isArray(e[r].type)&&!e[r].type.includes(f()(e[r].argument))?(o=!1,t="".concat(e[r].name," is not a valid argument. Value: ").concat(e[r].argument),n=new Error(t)):(t="".concat(e[r].name," is a valid argument."),r++),m.log(t);return{isArgumentsValid:o,argumentsError:n}}}]),e}(),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e);var n=new g("Config");n.log("Initializing config");var o={"endpoints.timeout":{value:3e3,allowOverwrite:!0,type:"number"},"endpoints.retries":{value:0,allowOverwrite:!0,type:"number"},"endpoints.basePath":{value:"",allowOverwrite:!0,type:"string"},"endpoints.getOrAllocatePath":{value:"",allowOverwrite:!0,type:"string"},"endpoints.trackMetricPath":{value:"",allowOverwrite:!0,type:"string"},"endpoints.forceAllocatePath":{value:"",allowOverwrite:!0,type:"string"},"cache.duration":{value:"VISIT",allowOverwrite:!0,type:["string","number"],validator:function(e){return"number"==typeof e||["VISIT","SESSION"].includes(e)}},"cache.size":{value:100,allowOverwrite:!0,type:"number"},_getValues:function(){var e=this,t={};return Object.keys(this).filter(function(e){return"_getValues"!==e}).forEach(function(n){t[n]=e[n].value}),t}};n.log("Client config",t);var r=v.flattenObject(t);n.log("Flattened client config",r),n.log("Default config",o._getValues());var a=this.constructor._merge(r,o,n);this.config=Object.freeze(a._getValues()),n.log("Final config",this.config)}return c()(e,null,[{key:"_merge",value:function(e,t,n){var o=h()({},t);return Object.keys(e).forEach(function(r){var a,i,s;if(r.startsWith("_")||void 0===t[r])n.log("".concat(r," is not a valid config prop."));else if(!0===t[r].allowOverwrite)if(a=e[r],i=t[r].type,s=function(e,t){return"array"===t?Array.isArray(e):f()(e)===t},"string"==typeof i?s(a,i):!!Array.isArray(i)&&i.some(function(e){return s(a,e)})){if("function"==typeof t[r].validator&&!t[r].validator(e[r]))return void n.log("".concat(r," config prop has not passed custom property validation check. Validator: ").concat(t[r].validator,"."));if(function(e,t){return"object"===f()(e)?JSON.stringify(e)===JSON.stringify(t):"function"!=typeof e&&e===t}(e[r],t[r].value))n.log("".concat(r," config prop value is the same as current config value."));else{if("function"==typeof t[r].modifier){var l=t[r].modifier(e[r]);n.log("".concat(r," user config prop value has been modified by modifier. New value: ").concat(l,". Old value: ").concat(o[r],".")),e[r]=l}n.log("".concat(r," config prop value has been updated. New value: ").concat(e[r],". Old value: ").concat(t[r].value,".")),o[r].value=e[r]}}else n.log("".concat(r," config prop has invalid type. Allowed types: ").concat(t[r].type,"."));else n.log("".concat(r," config prop is read-only."),t[r])}),o}}]),e}(),b=n(6),_=n.n(b),w=function(){function e(t){if(l()(this,e),this.logger=new g("Cache"),this.logger.log("Initializing cache"),this.storagePrefix="okapi",this.storeKey="".concat(this.storagePrefix,"store"),this.orderKey="".concat(this.storagePrefix,"order"),this.cacheSize=t["cache.size"],this.cacheDuration=t["cache.duration"],this.store={},this.order=[],this.logger.log("Cache size",this.cacheSize),this.logger.log("Cache duration",this.cacheDuration),this.logger.log("Cache store key",this.storeKey),this.logger.log("Cache order key",this.orderKey),"SESSION"===this.cacheDuration){this.logger.log("Getting cache form session storage:");try{this.store=JSON.parse(sessionStorage.getItem(this.storeKey)),this.logger.log("Read store:",JSON.parse(JSON.stringify(this.store))),null!==this.store&&"object"===f()(this.store)||(this.logger.log("Store is not an object, converting to empty object."),this.store={},this.logger.log("Cache store state:",JSON.parse(JSON.stringify(this.store)))),this.order=JSON.parse(sessionStorage.getItem(this.orderKey)),this.logger.log("Read order:",JSON.parse(JSON.stringify(this.order))),Array.isArray(this.order)||(this.logger.log("Order is not an array, converting to empty array."),this.order=[],this.logger.log("Cache order state:",JSON.parse(JSON.stringify(this.order)))),this._clearLocalStorage()}catch(e){this.logger.log("Unable to read cache from session storage",e)}}else if("number"==typeof this.cacheDuration){this.logger.log("Getting cache form local storage:");try{this.store=JSON.parse(localStorage.getItem(this.storeKey)),this.logger.log("Read store:",JSON.parse(JSON.stringify(this.store))),null!==this.store&&"object"===f()(this.store)||(this.logger.log("Store is not an object, converting to empty object."),this.store={},this.logger.log("Cache store state:",JSON.parse(JSON.stringify(this.store)))),this.order=JSON.parse(localStorage.getItem(this.orderKey)),this.logger.log("Read order:",JSON.parse(JSON.stringify(this.order))),Array.isArray(this.order)||(this.logger.log("Order is not an array, converting to empty array."),this.order=[],this.logger.log("Cache order state:",JSON.parse(JSON.stringify(this.order)))),this._clearSessionStorage()}catch(e){this.logger.log("Unable to read cache from local storage",e)}}else this._clearLocalStorage(),this._clearSessionStorage();this.logger.log("Cache is ready"),this.logger.log("Initial cache",this.store),this.logger.log("Initial cache order",this.order)}return c()(e,[{key:"_clearSessionStorage",value:function(){this.logger.log("Cleaning session storage:");try{sessionStorage.removeItem(this.storeKey),sessionStorage.removeItem(this.orderKey),this.logger.log("Session storage cleared.")}catch(e){this.logger.log("Unable to clean session storage",e)}}},{key:"_clearLocalStorage",value:function(){this.logger.log("Cleaning local storage:");try{localStorage.removeItem(this.storeKey),localStorage.removeItem(this.orderKey),this.logger.log("Local storage cleared.")}catch(e){this.logger.log("Unable to clean local storage",e)}}},{key:"_remove",value:function(e){this.logger.log("Removing item from the cache. Hash:",e),delete this.store[e];var t=this.order.indexOf(e);this.order.splice(t,1),this.logger.log("Item removed")}},{key:"get",value:function(e,t,n){this.logger.log("Get cached item called. UserId: ".concat(e,". ProjectSlug: ").concat(t,". TestSlug: ").concat(n,"."));var o=this.constructor._getHash(e,t,n);this.logger.log("Hash:",o);var r=this.store[o];if(!r)return this.logger.log("Item not found in the cache.",r),null;if(this.logger.log("Item found in the cache.",r),"never"===r.expirationTime)return r.data;var a=(new Date).getTime();return r.expirationTime>a?r.data:(this.logger.log("Item expired. Expiration time: ".concat(r.expirationTime,". Now: ").concat(a,".")),delete this.store[o],this.order.splice(this.order.indexOf(o),1),this.logger.log("Item removed from the cache."),null)}},{key:"set",value:function(e,t,n,o){this.logger.log("Set item called. UserId: ".concat(e,". ProjectSlug: ").concat(t,". TestSlug: ").concat(n,"."));var r=this.constructor._getHash(e,t,n);this.logger.log("Hash:",r);var a="never";if("number"==typeof this.cacheDuration&&(a=(new Date).getTime()+this.cacheDuration),this.order.length>=this.cacheSize){this.logger.log("Cache is full. Cache size: ".concat(this.order.length,".")),this.logger.log("Cache state:",h()({},this.store)),this.logger.log("Order state:",_()(this.order)),this.logger.log("Removing oldest item:");var i=this.order[0];this.logger.log("Item to remove hash:",i),this._remove(i),this.logger.log("Cache state:",h()({},this.store)),this.logger.log("Order state:",_()(this.order))}var s={data:o,expirationTime:a};if(this.logger.log("Adding item to the cache:",s),this.order.includes(r)&&(this.logger.log("Item is already cached."),this.logger.log("Cache state:",h()({},this.store)),this.logger.log("Order state:",_()(this.order)),this._remove(r),this.logger.log("Cache state:",h()({},this.store)),this.logger.log("Order state:",_()(this.order))),this.store[r]=s,this.order.push(r),this.logger.log("Item added to the cache."),this.logger.log("Cache state:",h()({},this.store)),"SESSION"===this.cacheDuration){this.logger.log("Updating cache and cache order in session storage:");try{sessionStorage.setItem(this.storeKey,JSON.stringify(this.store)),sessionStorage.setItem(this.orderKey,JSON.stringify(this.order)),this.logger.log("Session storage updated."),this.logger.log("Session storage store:",sessionStorage.getItem(this.storeKey)),this.logger.log("Session storage order:",sessionStorage.getItem(this.orderKey))}catch(e){this.logger.log("Unable to write cache to session storage:",e)}}else if("number"==typeof this.cacheDuration){this.logger.log("Updating cache and cache order in local storage:");try{localStorage.setItem(this.storeKey,JSON.stringify(this.store)),localStorage.setItem(this.orderKey,JSON.stringify(this.order)),this.logger.log("Local storage updated."),this.logger.log("Local storage store:",localStorage.getItem(this.storeKey)),this.logger.log("Local storage order:",localStorage.getItem(this.orderKey))}catch(e){this.logger.log("Unable to write cache to local storage:",e)}}}}],[{key:"_getHash",value:function(e,t,n){return"".concat(e,"-").concat(t,"-").concat(n)}}]),e}(),A=function(){function e(t){l()(this,e),this.logger=new g("api"),this.logger.log("Initializing APIs:"),this.config=t,this.logger.log("APIs initialized."),this.errors=Object.freeze({internal:Error("Internal Error"),timeout:Error("Timeout"),notFound:Error("Endpoint not found"),unauthorized:Error("Unauthorized")})}return c()(e,[{key:"post",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.logger.log("Making ajax call. URL: ".concat(e,". Try number: ").concat(a,". Data:"),t),new Promise(function(i,s){var l=function(l){n.logger.log("Retrying. Try number: ".concat(a,". Max num of retries: ").concat(n.config["endpoints.retries"],".")),a<n.config["endpoints.retries"]?i(n.post(e,t,o,r,++a)):(n.logger.log("Maximum number of retries reached."),s(l))},u=new XMLHttpRequest;u.open("POST",e),u.timeout=n.config["endpoints.timeout"],u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Cache-Control","no-cache"),Object.keys(o).forEach(function(e){u.setRequestHeader(e,o[e])}),u.onload=function(){if(u.status>=200&&u.status<300)if(n.logger.log("Success response received:",u.response),r)try{n.logger.log("Parsing response:");var e=JSON.parse(u.response);n.logger.log("Parsed:",e),i(e)}catch(e){n.logger.log("Unable to parse response.",e),s(n.errors.internal)}else i();else 404===u.status?(n.logger.log("Not found response received:",u.response),l(n.errors.notFound)):401===u.status?(n.logger.log("Unauthorized response received:",u.response),i(n.errors.unauthorized)):(n.logger.log("Error response received:",u.response),l(n.errors.internal))},u.onerror=function(){n.logger.log("Error received:",u.response),l(n.errors.internal)},u.ontimeout=function(){n.logger.log("Timeout."),l(n.errors.timeout)},u.send(JSON.stringify(t))})}},{key:"getOrAllocate",value:function(){var e=i()(r.a.mark(function e(t,n,o,a,i){var s,l,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(this.config["endpoints.basePath"]).concat(this.config["endpoints.getOrAllocatePath"]),l={userId:t,projectSlug:n,testSlug:o,data:a},this.logger.log('Calling "getOrAllocate" API. URL: '.concat(s,". Data:"),l),e.prev=3,e.next=6,this.post(s,l,i);case 6:return u=e.sent,this.logger.log('"getOrAllocate" response received:',u),e.abrupt("return",u);case 11:throw e.prev=11,e.t0=e.catch(3),this.logger.log('"getOrAllocate" error occur:',e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t,n,o,r,a){return e.apply(this,arguments)}}()},{key:"forceAllocate",value:function(){var e=i()(r.a.mark(function e(t,n,o,a,i){var s,l,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(this.config["endpoints.basePath"]).concat(this.config["endpoints.forceAllocatePath"]),l={userId:t,projectSlug:n,testSlug:o,variationName:a},this.logger.log('Calling "forceAllocate" API. URL: '.concat(s,". Data:"),l),e.prev=3,e.next=6,this.post(s,l,i);case 6:return u=e.sent,this.logger.log('"forceAllocate" response received:',u),e.abrupt("return",u);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t,n,o,r,a){return e.apply(this,arguments)}}()},{key:"trackMetric",value:function(){var e=i()(r.a.mark(function e(t,n,o,a,i,s){var l,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l="".concat(this.config["endpoints.basePath"]).concat(this.config["endpoints.trackMetricPath"]),u={userId:t,projectSlug:n,testSlug:o,metricName:a,data:i},this.logger.log('Calling "trackMetric" API. URL: '.concat(l,". Data:"),u),e.prev=3,e.next=6,this.post(l,u,s,!1);case 6:return this.logger.log('"trackMetric" response received.'),e.abrupt("return",!0);case 10:throw e.prev=10,e.t0=e.catch(3),e.t0;case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,n,o,r,a,i){return e.apply(this,arguments)}}()}]),e}();n.d(t,"default",function(){return S});var S=function(){function e(t){l()(this,e),this.logger=new g("Main"),this.logger.log("Initializing Okapi JS Thin Client."),this.config=new y(t),this.cache=new w(this.config.config),this.api=new A(this.config.config)}return c()(e,[{key:"getOrAllocate",value:function(){var e=i()(r.a.mark(function e(t,n,o,a,i){var s,l,u,c,d,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.log("getOrAllocate method called."),this.logger.log('Validating "getOrAllocate" arguments.'),s=v.validateArguments([{argument:t,name:"userId",type:["number","string"]},{argument:n,name:"projectSlug",type:"string"},{argument:o,name:"testSlug",type:"string"},{argument:a,name:"userDataObj",type:["null","undefined","object"]},{argument:i,name:"headers",type:["object","undefined"]}]),l=s.isArgumentsValid,u=s.argumentsError,l){e.next=5;break}throw u;case 5:if(this.logger.log('All "arguments" are valid.'),this.logger.log("Checking cache:"),!(c=this.cache.get(t,n,o))){e.next=11;break}return this.logger.log("Cached value:",c),e.abrupt("return",c);case 11:return d=null,a&&(this.logger.log("Generating map from the user data object."),d=v.flattenObject(a),this.logger.log("User data map is generated:",d)),e.prev=13,this.logger.log('Calling "getOrAllocate" API.'),e.next=17,this.api.getOrAllocate(t,n,o,d,i);case 17:return f=e.sent,this.logger.log('"getOrAllocate" response received:',f.variation),this.logger.log("Caching response:"),this.cache.set(t,n,o,f.variation),this.logger.log("Response cached."),e.abrupt("return",f.variation);case 25:throw e.prev=25,e.t0=e.catch(13),e.t0;case 28:case"end":return e.stop()}},e,this,[[13,25]])}));return function(t,n,o,r,a){return e.apply(this,arguments)}}()},{key:"forceAllocate",value:function(){var e=i()(r.a.mark(function e(t,n,o,a,i){var s,l,u,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.log('Validating "forceAllocate" arguments.'),s=v.validateArguments([{argument:t,name:"userId",type:["number","string"]},{argument:n,name:"projectSlug",type:"string"},{argument:o,name:"testSlug",type:"string"},{argument:a,name:"variationName",type:"string"},{argument:i,name:"headers",type:["object","undefined"]}]),l=s.isArgumentsValid,u=s.argumentsError,l){e.next=4;break}throw u;case 4:return this.logger.log('All "arguments" are valid.'),e.prev=5,this.logger.log('Calling "forceAllocate" API.'),e.next=9,this.api.forceAllocate(t,n,o,a,i);case 9:return c=e.sent,this.logger.log('"forceAllocate" response received:',c),this.logger.log("Caching response:"),this.cache.set(t,n,o,c),this.logger.log("Response cached."),e.abrupt("return",c);case 17:throw e.prev=17,e.t0=e.catch(5),e.t0;case 20:case"end":return e.stop()}},e,this,[[5,17]])}));return function(t,n,o,r,a){return e.apply(this,arguments)}}()},{key:"trackMetric",value:function(){var e=i()(r.a.mark(function e(t,n,o,a,i,s){var l,u,c,d,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.log('Validating "trackMetric" arguments.'),l=v.validateArguments([{argument:t,name:"userId",type:["number","string"]},{argument:n,name:"projectSlug",type:"string"},{argument:o,name:"testSlug",type:"string"},{argument:a,name:"metricName",type:"string"},{argument:i,name:"metricDataObj",type:["null","undefined","object"]},{argument:s,name:"headers",type:["object","undefined"]}]),u=l.isArgumentsValid,c=l.argumentsError,u){e.next=4;break}throw c;case 4:return this.logger.log('All "arguments" are valid.'),d=null,i&&(this.logger.log("Generating map from the metric data object."),d=v.flattenObject(i),this.logger.log("Metric data map is generated:",d)),e.prev=7,this.logger.log('Calling "trackMetric" API.'),e.next=11,this.api.trackMetric(t,n,o,a,d,s);case 11:return f=e.sent,this.logger.log('"trackMetric" response received:',f),e.abrupt("return",f);case 16:throw e.prev=16,e.t0=e.catch(7),e.t0;case 19:case"end":return e.stop()}},e,this,[[7,16]])}));return function(t,n,o,r,a,i){return e.apply(this,arguments)}}()}]),e}()}])})}).call(t,n(63)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,,,,,function(e,t,n){n(73),e.exports=n(79)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){_.isLoaded&&_.onloadDataReady&&((0,l.onLoad)(Object.assign({contentServer:"vNext",personID:_store.user.userId?_store.user.userId:-1,locale:document.querySelector("html").getAttribute("lang"),signedIn:_store.user.loggedIn,userLevel:_store.user.userLevel?_store.user.userLevel:0,announcementType:_store.analytics.pageAnnouncements},_.onloadPageSpecificData)),(0,f.loadScript)(_store.cdnPrefix+"/public/scripts/dtm.js"))}function i(){var e=document.querySelector("body"),t=!1,n=!1;e.addEventListener("keydown",function(){t="key"},!0),e.addEventListener("mousedown",function(){"touch"!==t&&(t="mouse")},!0),e.addEventListener("touchstart",function(){t="touch"},!0),e.addEventListener("focus",function(e){e.target.classList.contains("ql-editor")||(t||(t=n),e.target.setAttribute("data-focus",t),n=t,t=!1)},!0),e.addEventListener("blur",function(e){e.target.classList.contains("ql-editor")||e.target.removeAttribute("data-focus")},!0),window.addEventListener("blur",function(){t=!1})}function s(){var e=document.getElementById("http-request-id");e&&document.addEventListener("keydown",function(t){t&&t.shiftKey&&t.altKey&&82===t.keyCode&&(e.style.display="block",e.select(),document.execCommand("Copy"),window.scrollTo(0,0),e.style.display="none",window.alert("Request-ID "+e.value+" is copied to clipboard"))})}var l=n(9),u=n(3),c=n(5),d=r(c),f=n(38),p=n(61),h=n(74),g=r(h),m=n(76),v=o(m),y=n(78),b=o(y),_={_onloadDataReady:!1,_isLoaded:!1,onloadPageSpecificData:{},hiddenForVoiceover:[],get isLoaded(){return this._isLoaded},set isLoaded(e){this._isLoaded=e,e&&a()},get onloadDataReady(){return this._onloadDataReady},set onloadDataReady(e){this._onloadDataReady=e,e&&a()}};d.on(d.messages.onloadPageSpecificData,function(e){_.onloadPageSpecificData=e,_.onloadDataReady=!0}),document.addEventListener("DOMContentLoaded",function(){(0,u.init)(),g.init(),(0,v.default)(),(0,b.default)(),d.on(d.messages.toMobileSearch,g.mobileSearchOpened),d.on(d.messages.focusMobileSubNav,g.focusMobileMenu),d.on(d.messages.updateAvatar,g.updateAvatar);var e=function(e,t){var n=function(e){_.hiddenForVoiceover.push(e),e.setAttribute("aria-hidden","true")};document.querySelectorAll(e+" > *").forEach(function(e){var o="true"!==e.getAttribute("aria-hidden");e!==t&&o&&n(e)})};d.on(d.messages.hideAllForVoiceover,function(t){var n=document,o=n.body,r=document.querySelector("#main-content"),a=document.querySelector("#main-content .page");t.container===o?e("body",t.element):t.container===r?(e("body",r),e("#main-content",t.element)):t.container===a&&(e("body",r),e("#main-content",a),e("#main-content .page",t.element))}),d.on(d.messages.showAllForVoiceover,function(){_.hiddenForVoiceover.forEach(function(e){e.removeAttribute("aria-hidden")}),_.hiddenForVoiceover=[]}),i(),s(),"true"===_store.config("ui.okapi.enabled")&&((0,p.initOkapi)(),(0,p.initOkapiPixel)())}),window.addEventListener("load",function(){_.isLoaded=!0})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){e.preventDefault(),J[t]?J[t]=!1:J[t]=!0,n&&n()}function a(){x=document.querySelector('[data-action="to-mobile-post-creation"]'),D=document.querySelector('[data-action="sub-nav-mobile-checkbox"]'),j=document.querySelector('[data-action="sub-nav-mobile-menu"]'),M=document.querySelector('[data-action="sub-nav-mobile-menu-list"]'),M&&(U=M.querySelectorAll('a, [tabindex="0"]')),R=document.querySelector('[data-action="sub-nav-mobile-dim"]'),N=document.querySelector('[data-action="sub-nav-mobile-menu-label"]'),H=document.querySelector('[data-action="menu-search"]'),q=document.querySelector('[data-action="sub-nav-user-profile-popup"]'),K=document.querySelectorAll('[data-action="sub-nav-drop-down"]'),F=document.querySelectorAll('[data-action="sub-nav-user-avatar-image"]'),G=document.querySelector('[data-action="login-drop-down"]'),V=document.querySelector('[data-action="mobile-login-link"]')}function i(){if(H.setAttribute("tabindex","-1"),x&&x.addEventListener("click",function(e){e.preventDefault(),p.fire(p.messages.createPost),J.mobileMenuShown=!1},!1),j&&(j.addEventListener("click",function(e){e.stopPropagation()},!1),j.addEventListener("touchstart",function(e){e.stopPropagation()},!1),function(e,t,n){e.addEventListener("change",function(e){r(e,t,n)})}(D,"mobileMenuShown"),R.addEventListener("touchstart",function(){J.mobileMenuShown=!1}),R.addEventListener("mousedown",function(){J.mobileMenuShown=!1}),(0,O.default)(j,function(){J.mobileMenuShown&&(J.mobileMenuShown=!1)}),N.addEventListener("click",function(e){e.preventDefault(),J.mobileMenuShown?J.mobileMenuShown=!1:J.mobileMenuShown=!0}),window.addEventListener("resize",function(){window.innerWidth>P&&(J.mobileMenuShown=!1)},!1),window.addEventListener("scroll",function(){J.mobileMenuShown&&(J.mobileMenuShown=!1)})),q){var e=[{element:q,id:B}];_.default.init(e)}if("true"===_store.config("ui.subNav.corporateLoginEnabled")){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(e,t){return'<li role="presentation"><a data-action="menu-item" class="menu-item" href="'+t+'">'+e+"</a></li>"};return n?'<ul role="menu" data-action="mobile-signin-menu" class="'+t+'">'+e.map(function(e){return""+o(e.text,e.href)}).join("")+"</ul>":""+e.map(function(e){return""+o(e.text,e.href)})},n=function(){(0,C.fireSignInClickEvent)(),L.default.redirect("/login")};if(G){var o=G.querySelector('[data-action="drop-down-button"]');G.addEventListener("click",function e(){G.setAttribute("disabled","disabled");try{(0,y.getIpDetails)().then(function(t){"true"===t?(g.default.init(G),G.removeEventListener("click",e),G.removeAttribute("disabled"),o&&o.click()):n()})}catch(e){console.error("Unable to get login. "+e),n()}})}V&&V.addEventListener("click",function e(){V.setAttribute("disabled","disabled");try{(0,y.getIpDetails)().then(function(o){if("true"===o){V.removeEventListener("click",e),V.removeAttribute("disabled"),(0,k.hideElement)(V);var r=t([{text:_store.i18n("common.nav.signIn"),href:_store.basePath+"/login"},{text:_store.i18n("common.nav.signIn.corporate"),href:_store.basePath+"/ilogin"}],"mobile-login-dropdown",!0);V.insertAdjacentHTML("afterend",r),setTimeout(function(){var e=j.querySelector('[data-action="mobile-signin-menu"] [data-action="menu-item"]');e&&e.focus()},500)}else n()})}catch(e){console.error("Unable to get login. "+e),n()}})}}function s(){var e=Array.from(U);e.unshift(D),(0,v.default)(D,e,function(){J.mobileMenuShown=!1,D.focus()},!0,!0),function(e,t){e.addEventListener("keydown",function(e){e.keyCode!==E.default.ENTER_KEY&&e.keyCode!==E.default.SPACE_KEY||r(e,t)})}(D,"mobileMenuShown")}function l(){a(),j&&(J.postDropDownShown=!1,J.loungeDropDownShown=!1,J.mobileMenuShown=!1,q&&(B=q.getAttribute("data-user-id"),(0,y.getGamificationData)()),i(),s(),K&&g.default.init(K),(0,C.initAnalytics)())}function u(){J.mobileMenuShown&&(J.mobileMenuShown=!1)}function c(){D.focus()}function d(e){F&&F.forEach(function(t){t.src=e[Object.keys(e)[0]]})}Object.defineProperty(t,"__esModule",{value:!0}),t.init=l,t.mobileSearchOpened=u,t.focusMobileMenu=c,t.updateAvatar=d;var f=n(5),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=n(32),g=o(h),m=n(13),v=o(m),y=n(3),b=n(30),_=o(b),w=n(1),A=o(w),S=n(0),E=o(S),T=n(16),O=o(T),k=n(4),I=n(11),L=o(I),C=n(75),P=A.default.TABLET_VIEWPORT_MAX_WIDTH,x=void 0,D=void 0,j=void 0,M=void 0,U=void 0,R=void 0,N=void 0,H=void 0,q=void 0,B=void 0,K=void 0,F=void 0,G=void 0,V=void 0,J={_mobileMenuShown:null,get mobileMenuShown(){return this._mobileMenuShown},set mobileMenuShown(e){D&&(this._mobileMenuShown=e,D.checked=e,D.setAttribute("aria-expanded",e),e?p.fire(p.messages.hideAllForVoiceover,{element:j,container:document.querySelector("#main-content")}):p.fire(p.messages.showAllForVoiceover))}}},function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e;if(c=document.querySelector('[data-analytics="nav:desktop"]'),d=document.querySelector('[data-analytics="nav:mobile"]'),f=document.querySelectorAll('[data-analytics="nav:login"]'),p=document.querySelectorAll('[data-analytics="nav:logout"]'),h=document.querySelectorAll('[data-analytics="nav:profile"]'),g=document.querySelector('[data-anlaytics="nav:profile:mobile"]'),c&&(m=c.querySelectorAll('[data-analytics="nav:link"]')),d){var t;m=Array.from(m),(t=m).push.apply(t,o(d.querySelectorAll('[data-analytics="nav:link"]')))}c&&(v=c.querySelectorAll('[data-analytics="nav:dropdown"] a')),d&&(y=d.querySelector('[data-analytics="nav:search"]')),Array.isArray(m)||(m=Array.from(m)),(e=m).push.apply(e,o(Array.from(v)))}function a(){var e=function(){(0,l.onAction)("nav:profile",{link_text:"user details"})};h.forEach(function(t){(0,u.addGeneralListeners)(t,e),(0,u.addRightClickListener)(t,e)}),g&&(0,u.addLinkListeners)(g,"nav:profile",{link_text:"user details"}),f.forEach(function(e){(0,u.addListenersOnLink)(e,function(){(0,l.onAction)("nav:profile",{link_text:"signin"})})}),p.forEach(function(e){(0,u.addListenersOnLink)(e,function(){(0,l.onAction)("nav:profile",{link_text:"signout"})})}),m.forEach(function(e){(0,u.addLinkListeners)(e,"nav:link")}),y&&(0,u.addGeneralListeners)(y,function(){(0,l.onAction)("nav:link",{link_text:"search",dest_url:""})})}function i(){(0,l.onAction)("nav:profile",{link_text:"signin"})}function s(){r(),a()}Object.defineProperty(t,"__esModule",{value:!0}),t.fireSignInClickEvent=i,t.initAnalytics=s;var l=n(9),u=n(8),c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,g=void 0,m=void 0,v=void 0,y=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,r.default)()};var o=n(77),r=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r=document.querySelector('[data-analytics="nav:breadcrumb"]'),r&&(a=r.querySelectorAll('[data-analytics="nav:link"]')),a&&a.forEach(function(e){(0,o.addLinkListeners)(e,"nav:link")})};var o=n(8),r=void 0,a=void 0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=p.find(function(e){return e.shown});e&&e.autoDismissable&&(e.dismiss(d),h=setTimeout(function(){e.shown&&((0,i.reportReadNotification)(e.element.dataset.actionId),h=null)},f))}function a(){var e=[];document.querySelectorAll('[data-action="gamification-notification"]').forEach(function(t){e.push((0,c.default)({element:t,onClose:function(){(0,i.reportReadNotification)(t.dataset.actionId),h&&clearTimeout(h),r()},autoDismissable:"true"===t.dataset.autoDismissable||!1}).notification)}),e.length>0&&p.push.apply(p,e),p.reverse(),r()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(3),s=n(1),l=o(s),u=n(57),c=o(u),d=l.default.GAMIFICATION_NOTIFICATION_AUTO_DISMISS_TIMEOUT,f=l.default.GAMIFICATION_NOTIFICATION_IS_READ_TIMEOUT,p=[],h=void 0},function(e,t){}]);