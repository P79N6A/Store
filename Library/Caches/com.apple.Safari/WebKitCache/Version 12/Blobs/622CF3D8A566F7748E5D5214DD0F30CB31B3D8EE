(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4DKO":function(e,t,a){"use strict";var o=a("QILm"),r=a.n(o),n=a("17x9"),i=function(e,t){e.children;var a=r()(e,["children"]);return(0,t.setPageType)(a),null};i.contextTypes={setPageType:a.n(n).a.func},t.a=i},VRn3:function(e,t,a){"use strict";var o=a("gcR/"),r=a.n(o),n=(a("q1tI"),a("17x9"),r()("title",{},void 0,"Check")),i=r()("polyline",{id:"check",points:"0 14.3034231 2.82657701 17.1300001 9.95657713 10"});function s(e){var t=e.className,a=e.stroke;return r()("svg",{className:t,width:"12px",height:"10px",viewBox:"0 0 12 10"},void 0,n,r()("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},void 0,r()("g",{id:"Lockup-/-Copy-/-Basic",transform:"translate(1.000000, -9.000000)",strokeWidth:"2",stroke:a},void 0,i)))}s.displayName="CheckIcon",s.defaultProps={className:void 0,stroke:"#4A4A4A"},t.a=s},fnBi:function(e,t,a){"use strict";var o,r=a("gcR/"),n=a.n(r),i=a("lwsE"),s=a.n(i),c=a("W8MJ"),d=a.n(c),l=a("a1gu"),u=a.n(l),m=a("Nsbk"),p=a.n(m),f=a("7W2i"),v=a.n(f),h=a("q1tI"),g=a("vftj"),y=a("rI8Z"),b=a("X6oL"),E=a.n(b),N=a("C9qx"),O=a("4DKO"),C=a("rnzX"),w=a("UmXO"),x=a("wXC7"),I=a.n(x),D=Object(w.css)("color:",I.a.color.gray30,";font-family:",I.a.font.sansBase,";font-size:13px;margin:0 auto;max-width:",I.a.breakpoint.maxMobileContentWidth,"px;padding:15px;"),S=n()(O.a,{type:"Error"}),k=n()(N.a,{code:500}),A=E()({presentation:{pageType:"Error"}})(o=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"render",value:function(){return n()(C.a,{},void 0,n()("div",{className:D},void 0,S,k,n()(g.Helmet,{},void 0,n()("title",{},void 0,y.b.title500)),Object(y.a)(y.b.text500,{})))}}]),t}(h.Component))||o;t.a=A},u06c:function(e,t,a){"use strict";a.r(t);a("jm62"),a("ioFf"),a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V");var o,r,n,i,s=a("lSNA"),c=a.n(s),d=(a("pIFo"),a("SRfc"),a("gcR/")),l=a.n(d),u=a("lwsE"),m=a.n(u),p=a("W8MJ"),f=a.n(p),v=a("a1gu"),h=a.n(v),g=a("Nsbk"),y=a.n(g),b=a("7W2i"),E=a.n(b),N=(a("OG14"),a("VkAN")),O=a.n(N),C=a("q1tI"),w=a.n(C),x=(a("17x9"),a("i9j7")),I=a.n(x),D=a("hHXl"),S=a("Dugd"),k=a.n(S),A=a("vftj"),R=a("cr+I"),j=a.n(R),_=a("QS0n"),P=a("fnBi"),T=a("X6oL"),L=a.n(T),G=a("ZKN5"),M=a("UmXO"),B=a("J4zp"),F=a.n(B),W=(a("SMB2"),a("3Rk2")),U=a.n(W),Y=a("wXC7"),z=a.n(Y),X=U()(["@media (min-width: 360px)","@media (min-width: 475px)","@media (min-width: 764px)"]),q=Object(M.css)("text-align:center;border-bottom:1px solid ",z.a.color.gray50,";position:fixed;top:0;padding:20px 0;width:100%;background-color:",z.a.color.white,";z-index:100;"),H=Object(M.css)("font-weight:",z.a.font.weight.bold,";"),V=Object(M.css)("height:100%;",X({width:["164px","180px","177px"]}),";"),K=Object(M.css)("max-width:1200px;margin:4rem auto 0;padding:3rem 2rem;"),$=Object(M.css)("min-height:calc(100vh - 55px);background-color:",z.a.color.gray90,";"),Z=Object(M.css)("max-width:500px;margin:0 auto;"),J=Object(M.css)("text-align:center;"),Q=Object(M.css)("text-align:center;width:100%;padding:20px 0;color:",z.a.color.gray40,";font-family:",z.a.font.franklinBase,";border-top:1px solid ",z.a.color.gray60,";font-size:",z.a.font.size(12),";background-color:",z.a.color.white,";"),ee=Object(M.css)("color:",z.a.color.white,";padding:12px 20px;background-color:",z.a.color.gray20,";border:1px solid ",z.a.color.gray20,";border-radius:3px;text-align:center;font-family:",z.a.font.franklinBase,";font-weight:",z.a.font.weight.mediumBold,";height:42px;font-size:",z.a.font.size(16),";width:100%;margin:0.7rem 0;display:block;box-sizing:border-box;&:hover,&:active{background-color:",z.a.color.black,";}"),te=Object(M.css)("font-weight:",z.a.font.weight.bold,";font-family:",z.a.font.franklinBase,";line-height:24px;font-size:18px;margin:1rem 0;color:",z.a.color.gray10,";"),ae=Object(M.css)("text-align:center;font-family:",z.a.font.serifMedium,";padding:0 2rem 1rem;font-size:29px;line-height:36px;"),oe=Object(M.css)("text-align:center;font-family:",z.a.font.serifMedium,";padding:0;margin-bottom:2rem;font-size:20px;line-height:28px;color:",z.a.color.gray20,";"),re=Object(M.css)("font-family:",z.a.font.franklinBase,";line-height:16px;font-size:12px;text-align:center;margin:1rem 0;color:",z.a.color.gray25,";"),ne=Object(M.css)("font-family:",z.a.font.franklinBase,";line-height:21px;font-size:16px;text-align:center;color:",z.a.color.gray20,";font-weight:",z.a.font.weight.light,";margin-bottom:0.5rem;"),ie=Object(M.css)("font-family:",z.a.font.franklinBase,";line-height:12px;font-weight:100;cursor:pointer;display:inline-block;color:",z.a.color.blue30,";background:none;&:hover{color:",z.a.color.blue20,";}"),se=Object(M.css)("font-family:",z.a.font.franklinBase,";max-width:475px;font-size:12px;line-height:16px;text-align:center;margin-bottom:0.5rem;position:relative;top:85px;padding:0 1rem;display:flex;"),ce=Object(M.css)("display:inline;"),de=a("3NoI"),le=a.n(de),ue=Object(M.css)("padding-top:0;padding-bottom:1rem;"),me=Object(M.css)("background-color:",z.a.color.white,";"),pe=Object(M.css)("flex-basis:33.33%;text-align:center;margin-bottom:4rem;padding:1rem;"),fe=Object(M.css)("width:50%;min-width:200px;margin-bottom:1rem;",z.a.breakpoint.mediumLarge,"{width:100%;}"),ve=Object(M.css)("text-align:center;margin:0rem auto 3rem;"),he=Object(M.css)(z.a.breakpoint.mediumLarge,"{display:flex;align-items:baseline;}"),ge=Object(M.css)("text-align:center;background-color:",z.a.color.gray90,";padding:0;",z.a.breakpoint.medium,"{padding:2rem 2rem 0;}"),ye=Object(M.css)("font-weight:600;margin-top:3rem;"),be=Object(M.css)(z.a.breakpoint.mediumLarge,"{display:flex;align-items:center;flex-direction:column;}"),Ee=Object(M.css)("margin-bottom:2rem;padding:0rem;&:nth-child(1) > p{margin-top:0rem;}"),Ne=le()("input",{target:"egynk030"})(function(e){return Object(M.css)('&[type="text"],&[type="text"]:focus{border:1px solid;border-color:',e.formError?z.a.color.red20:z.a.color.gray60,";width:100%;box-shadow:inset 0px 1px 3px rgba(0,0,0,0.148183);height:42px;padding:1rem;")}),Oe=Object(M.css)("color:",z.a.color.red20,";line-height:18px;font-size:12px;font-family:",z.a.font.franklinBase,";text-align:left;font-weight:100;margin-top:0.3rem;"),Ce=a("06b3"),we=a("XWHH"),xe=a.n(we),Ie="4e99ad9f60d38598fed0",De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi.env.ENVIRONMENT,a="dam/mkt_assets/gift";switch(t){case"prd":return"https://mwcm.nyt.com/".concat(a,"/").concat(e);default:return"https://mwcm.stg.nyt.com/".concat(a,"/").concat(e)}},Se="https://cooking.nytimes.com/",ke="https://www.nytimes.com/crosswords",Ae="/get-started",Re="All Access",je="All Access Plus",_e="Basic Digital",Pe="Cooking",Te="Crossword",Le=(o={},c()(o,Pe,{URL:Se,IMAGE:De("headers/cooking.png")}),c()(o,Te,{URL:ke,IMAGE:De("headers/crossword.png")}),o),Ge={types:{INTERNAL:"internal",EXTERNAL:"external"},locations:{COOKING:Se,CROSSWORDS:ke,ONBOARDING:Ae}},Me={REDEEM:"redeem",WELCOME:"welcome",BASE:"code"},Be={ACCESS:(r={},c()(r,Me.REDEEM,{whatsIncludedSections:[{LABEL:"Unlimited Articles",IMAGE:De("redeem/basic-one.png"),COPY:"Enjoy unlimited article access anytime, anywhere on NYTimes.com and in the NYT app."},{LABEL:"Countless Topics",IMAGE:De("redeem/basic-two.png"),COPY:"Find something for everyone — from coverage to critical issues to cooking to opinions."},{LABEL:"Subscriber Exclusives",IMAGE:De("redeem/basic-three.png"),COPY:"Access to exclusive features and newsletters, along with early access to new media releases."}]}),c()(r,Me.WELCOME,{exitButton:{copy:"Continue",href:{type:Ge.types.INTERNAL,location:Ge.locations.ONBOARDING}}}),r),COOKING:(n={},c()(n,Me.REDEEM,{asset:{src:De("redeem/cooking.png"),alt:"Cooking Gift"},whatsIncludedSections:[{LABEL:"Access to Unlimited Recipes",COPY:"Search 19,000 recipes that are tried, tested and truly delicious."},{LABEL:"Easy-to-follow Cooking Guides",COPY:"Discover videos, techniques and tips for novices and master chefs."},{LABEL:"Your Personal Recipe Box",COPY:"Save all your culinary inspirations in a digital recipe box, including recipes from outside the Times."}]}),c()(n,Me.WELCOME,{exitButton:{copy:"Explore recipes",href:{type:Ge.types.EXTERNAL,location:Ge.locations.COOKING}},asset:{src:De("welcome/cooking.png"),alt:"Welcome to your Cooking Gift"}}),n),CROSSWORDS:(i={},c()(i,Me.REDEEM,{asset:{src:De("redeem/crosswords.png"),alt:"Crossword Gift"},whatsIncludedSections:[{LABEL:"New puzzles everyday",COPY:"Play the newest daily or mini puzzles from any device."},{LABEL:"Archives Access",COPY:"Choose from hundreds of minis and over 20 years of daily puzzles."},{LABEL:"Additional Games",COPY:["Try more fun word games like Spelling Bee and Letter Boxed.","Download the New York Times Crossword app to take our games with you everywhere."]}]}),c()(i,Me.WELCOME,{exitButton:{copy:"Start playing",href:{type:Ge.types.EXTERNAL,location:Ge.locations.CROSSWORDS}},asset:{src:De("welcome/crosswords.png"),alt:"Welcome to your Crossword Gift"}}),i)},Fe={SESSION_EXPIRED:"SessionExpired",USER_SUBSCRIBED:"GiftUserSubscribed",GIFT_CODE_EXPIRED:"GiftCodeExpired",GIFT_CODE_REDEEMED:"GiftCodeAlreadyRedeemed",GIFT_CODE_INVALID:"GiftCodeInvalid",GIFT_CODE_SUCCESS:"GiftInfo",GIFT_CODE_REDEEM_SUCCESS:"GiftCodeRedeemed",GIFT_CODE_REFUNDED:"GiftCodeRefunded",CREDIT_CARD_DECLINED:"GiftCreditCardDeclined",CREDIT_CARD_PENDING:"GiftCreditCardPending",SERVER_ERROR:"ServerError"},We={adjective:"1-month",prepositionalPhrase:"for 1 month"},Ue={adjective:"3-month",prepositionalPhrase:"for 3 months"},Ye={adjective:"6-month",prepositionalPhrase:"for 6 months"},ze={adjective:"12-month",prepositionalPhrase:"for 12 months"};function Xe(e){for(var t=1;t<arguments.length;t++)if(t%2){var a=null!=arguments[t]?arguments[t]:{},o=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.forEach(function(t){c()(e,t,a[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var qe=function(e){switch(e){case"MAX_ADA_CR":case"MAX_ADA_CR_CK":case"ADA":case"MAX_ADA":case"ADA_CR":case"A":case"S":return Re;case"MAX_ADA_PLUS_RET":case"ADA_PLUS_ACQ":case"MAX_ADA_PLUS_ACQ":case"ADA_PLUS_RET":return je;case"X":case"XPASS":return _e;case"CK":return Pe;case"CR":case"CW":case"MAX_CW":return Te;default:return e}},He=function(e,t){switch(e){case _e:case Re:case je:return Be.ACCESS[t];case Pe:return Be.COOKING[t];case Te:return Be.CROSSWORDS[t];default:return}},Ve=function(e){switch(e){case 28:case 30:return We;case 84:case 90:return Ue;case 168:case 180:return Ye;case 336:case 364:case 365:return ze;default:return{}}},Ke=function(e){switch(e){case"prd":return"https://myaccount.nytimes.com/auth";default:return"https://myaccount.stg.nytimes.com/auth"}},$e=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi.env.ENVIRONMENT;switch(e){case"prd":return"https://account.nytimes.com/svc/api/v1/refresh-entitlements";default:return"https://account.stg.nytimes.com/svc/api/v1/refresh-entitlements"}}();return xe()(e,{credentials:"include"}).then(function(e){return e.ok||Ce.a.remove("NYT-S",{domain:".nytimes.com",path:"/"}),!0})},Ze=l()("span",{},void 0,l()("strong",{className:H},void 0,"This code is invalid.")," Please try again. If you continue to have problems, please call Customer Care at ",l()("a",{className:ie,href:"tel:1-800-698-4637"},void 0,"800-698-4637.")),Je=l()("span",{},void 0,"This code has already been redeemed. For any questions, please call Customer Care at ",l()("a",{className:ie,href:"tel:1-800-698-4637"},void 0,"800-698-4637.")),Qe=l()("span",{},void 0,"We’re sorry, but we had trouble processing your gift. For any questions, please call Customer Care at ",l()("a",{className:ie,href:"tel:1-800-698-4637"},void 0,"800-698-4637.")),et=l()("span",{},void 0,"We’re sorry, but we’re having a technical issue right now. If you continue to have problems, please call Customer Care at ",l()("a",{className:ie,href:"tel:1-800-698-4637"},void 0,"800-698-4637.")),tt=function(e){switch(e){case Fe.GIFT_CODE_REFUNDED:case Fe.GIFT_CODE_INVALID:return Ze;case Fe.GIFT_CODE_EXPIRED:return"This code has expired.";case Fe.GIFT_CODE_MISSING:return"Please enter a code.";case Fe.GIFT_CODE_REDEEMED:return Je;case Fe.CREDIT_CARD_PENDING:return"We’re sorry, but this purchase is still being processed. Please try again later.";case Fe.CREDIT_CARD_DECLINED:return Qe;default:return et}},at=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi.env.ENVIRONMENT,a=j.a.stringify(Xe({referrer:"code-redemption"},e)),o=Ce.a.load("NYT-S"),r=o?"login":"register",n=Ke(t),i="".concat(n,"/").concat(r),s="".concat(window.location.origin,"/").concat(Me.BASE,"/").concat(Me.WELCOME,"?").concat(a),c=encodeURIComponent(s);return"".concat(i,"?client_id=gftrdm&display=gift&response_type=cookie&redirect_uri=").concat(c)},ot=function(e){return"/".concat(Me.BASE,"/").concat(Me.REDEEM).concat(e)};var rt=Pe,nt=Te,it=Fe.GIFT_CODE_SUCCESS,st=Fe.USER_SUBSCRIBED,ct=function(e){var t=e.bundle,a=e.senderName,o=e.validForInDays,r=e.submitForm,n=e.queryParams,i=Object(C.useState)(n.gift_code),s=F()(i,2),d=s[0],u=s[1],m=Object(C.useState)(""),p=F()(m,2),f=p[0],v=p[1],h=Ve(o).adjective,g=t;h&&t&&t!==nt&&t!==rt&&(g="".concat(h," ").concat(t));return l()("div",{className:ge},void 0,l()("div",{className:K},void 0,l()("div",{"data-testid":"code-redeem-gift-header",className:Z},void 0,a&&l()("h1",{className:ae},void 0,"Your gift from ",a," is waiting"),!a&&l()("h1",{className:ae},void 0,"Your gift is waiting"),l()("h2",{"data-testid":"code-redeem-gift-subheader",className:ne},void 0,"Enter your gift code below to start your ",g," ",t?"Subscription":"subscription","."),l()("form",{"data-testid":"code-redeem-gift-form",onSubmit:function(e){return e.preventDefault(),d?r({code:d}).then(function(e){var t=e.data.giftInfo.__typename,a=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var a=null!=arguments[t]?arguments[t]:{},o=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.forEach(function(t){c()(e,t,a[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}({},n,{gift_code:d});switch(t){case it:case st:return window.location=at(a),null;default:return v(tt(t))}}):v("Please enter a code.")}},void 0,l()(Ne,{formError:f,"data-testid":"input-code",onChange:function(e){return u(e.target.value)},type:"text",value:d}),l()("p",{className:Oe},void 0,f),l()("button",{className:ee,type:"submit"},void 0,"Redeem")))))};ct.displayName="Form",ct.defaultProps={queryParams:{},senderName:void 0,validForInDays:void 0,bundle:void 0};var dt=ct,lt=function(e){var t=e.bundle,a=e.assets,o=a.asset;return l()("div",{className:me},void 0,l()("div",{className:K},void 0,l()("h2",{className:Object(M.cx)(oe,ue)},void 0,"What’s included in your ",t," Subscription"),o&&l()("div",{className:Object(M.cx)(Z,ve)},void 0,l()("img",{alt:o.alt,src:o.src})),l()("div",{className:Object(M.cx)(he,c()({},be,o))},void 0,a.whatsIncludedSections.map(function(e){return l()("section",{className:Object(M.cx)(pe,c()({},Ee,o))},e.LABEL,e.IMAGE&&l()("img",{className:fe,alt:e.LABEL,src:e.IMAGE}),l()("p",{className:te},void 0,e.LABEL),Array.isArray(e.COPY)?e.COPY.map(function(e,t){return l()("p",{className:Object(M.cx)(re,c()({},ye,1===t))},e,e)}):l()("p",{className:re},void 0,e.COPY))}))))};lt.displayName="WhatsIncluded",lt.defaultProps={bundle:null,assets:{whatsIncludedSections:[]}};var ut=lt,mt=a("Lkij"),pt=a("VRn3"),ft=Object(M.css)("position:relative;margin:-1rem 0 3rem;"),vt=Object(M.css)("position:relative;left:-5px;top:1px;display:inline-block;height:11px;width:13px;"),ht=Object(M.css)("background-color:",z.a.color.black,";border-color:",z.a.color.black,";&:hover,&:active{background-color:",z.a.color.black,";}"),gt=Object(M.css)("margin-bottom:2rem;"),yt=Object(M.css)("margin-bottom:0.5rem;text-align:center;"),bt=Object(M.css)("margin-top:1.5rem;"),Et=Object(M.css)("text-transform:uppercase;font-size:11px;line-height:22px;margin:0.5rem 0;"),Nt=Object(M.css)("background-color:",z.a.color.gray70,";border-color:",z.a.color.gray70,";color:",z.a.color.gray20,";&:hover,&:active{background-color:",z.a.color.gray55,";}"),Ot=Object(M.css)("font-size:34px;font-weight:100;text-align:center;font-family:",z.a.font.serifMedium,";padding:0 2rem 1rem;"),Ct=Object(M.css)("font-family:",z.a.font.serifMedium,";font-family:NYTCheltenham;font-size:24px;text-align:center;font-weight:100;"),wt=Object(M.css)("background-color:",z.a.color.cookingPrimaryColor,";border-color:",z.a.color.cookingPrimaryColor,";&:hover,&:active{background-color:",z.a.color.cookingHoverColor,";}"),xt=Object(M.css)("margin:2rem 0;"),It=Object(M.css)("margin-top:4rem;"),Dt=l()("br",{}),St=l()("br",{}),kt=function(e){var t=e.email,a=e.isPartnerships;return l()("p",{className:Object(M.cx)(re,ft),"data-testid":"code-redeem-welcome-userinfo"},void 0,l()(pt.a,{className:vt,stroke:"green"}),!a&&w.a.createElement(w.a.Fragment,null,"You redeemed your gift. ",Dt),"We’ve sent a confirmation email to",St,l()("strong",{className:H},void 0,t||"your inbox","."))};kt.displayName="EmailConfirmation",kt.defaultProps={isPartnerships:!1};var At=kt,Rt=function(){return l()("div",{"data-testid":"code-redeem-welcome-already-subscribed",className:K},void 0,l()("div",{className:Z},void 0,l()("h1",{className:ae},void 0,"It looks like you’re already a subscriber."),l()("h2",{className:ne},void 0,"At this time, pre-existing Digital or Home Delivery subscribers are not eligible to receive gift subscriptions."),l()("div",{},void 0,l()("p",{className:re},void 0,l()("a",{className:ie,href:"https://help.nytimes.com/hc/en-us/articles/115015385887-Contact-us"},void 0,"Chat")," ","with us or"," ",l()("a",{className:ie,href:"https://help.nytimes.com/hc/en-us/articles/115015919807-Gift-subscriptions"},void 0,"learn more.")))))};Rt.displayName="AlreadySubscribedErrorView";var jt=Rt,_t=function(e){var t,a=e.bundle,o=e.assets,r=o.exitButton,n=o.asset,i=e.isPartnerships;return w.a.createElement(w.a.Fragment,null,!n&&l()("h2",{"data-testid":"code-redeem-welcome-giftinfo",className:ne},void 0,"Set up your ",!i&&a," subscription experience in a few quick steps."),(null==n?void 0:n.src)&&l()("div",{className:xt},void 0,l()("img",{src:n.src,alt:n.alt})),r.href.type===Ge.types.INTERNAL&&l()(_.Link,{"data-testid":"code-redeem-welcome-exit-button",className:ee,to:r.href.location,type:"button"},void 0,r.copy),r.href.type===Ge.types.EXTERNAL&&l()("a",{className:Object(M.cx)(ee,(t={},c()(t,ht,a===Te),c()(t,wt,a===Pe),t)),href:r.href.location,type:"button"},void 0,r.copy))};_t.defaultProps={bundle:null,isPartnerships:!1,assets:{exitButton:{copy:"Continue",href:{type:Ge.types.INTERNAL,location:Ge.locations.ONBOARDING}}}};var Pt=_t,Tt=a("wd/R"),Lt=a.n(Tt),Gt=l()("div",{className:ne},void 0,l()("span",{className:te},void 0,"Subscription start: "),"Today"),Mt=l()("h3",{className:ne},void 0,"You can cancel anytime."),Bt=Object(_.withRouter)(L()({event:"moduleInteraction",eventData:{pagetype:"gift-upsell",trigger:"module",type:"click"}})(function(e){var t=e.validForInDays,a=e.tracking,o=e.history,r=Lt()().add(t,"days").format("LL"),n={offerHeader:"Would you like to continue your subscription after your gift ends on ".concat(r,"?"),offerChainId:"20000188820"};return w.a.createElement(w.a.Fragment,null,Gt,l()("div",{className:It},void 0,l()("div",{},void 0,l()("h2",{className:Object(M.cx)(Ct,yt)},void 0,n.offerHeader),Mt),l()("div",{className:bt},void 0,l()("button",{className:ee,onClick:function(){return function(e,t){return e.trackEvent({module:{element:{name:"extend-subscription",label:"gift-upsell-page"}},eventCallback:function(){window.open("".concat(vi.env.AUTH_HOST,"/get-started?OC=").concat(t.offerChainId,"&mode=gift_upsell"),"_blank")},eventTimeout:120})}(a,n)},type:"button"},void 0,"Yes, extend at a special rate of $1/week"),l()("button",{type:"button",onClick:function(){return function(e,t){return e.trackEvent({module:{element:{name:"do-not-extend-subscription",label:"gift-upsell-page"}},eventCallback:function(){t.push("/get-started")},eventTimeout:120})}(a,o)},className:ee},void 0,"No thanks, just get started"))))})),Ft=l()("h3",{className:ne},void 0,"Today"),Wt=function(e){var t=e.bundle,a=e.validForInDays;return l()("div",{className:gt},void 0,l()("div",{},void 0,l()("h2",{className:Object(M.cx)(te,Et)},void 0,"Access"),l()("h3",{className:ne},void 0,t," ",Ve(a).prepositionalPhrase)),l()("div",{},void 0,l()("h2",{className:Object(M.cx)(te,Et)},void 0,"Access Starts"),Ft),!!a&&a<366&&l()("div",{},void 0,l()("h2",{className:Object(M.cx)(te,Et)},void 0,"Access Ends"),l()("h3",{className:ne},void 0,Lt()().add(a,"days").format("ll"))))};Wt.displayName="SubscriptionInfo";var Ut=Wt,Yt=l()("h1",{className:ae},void 0,"Your access code is valid."),zt=l()("h3",{className:ne},void 0,"You can cancel anytime."),Xt=function(e){var t=e.bundle,a=e.upsell,o=e.redeemGift,r=e.validForInDays;return l()("div",{className:K},void 0,l()("div",{className:Object(M.cx)(Z,J)},void 0,Yt,l()(Ut,{bundle:t,validForInDays:r}),l()("div",{},void 0,l()("h2",{className:Object(M.cx)(te,yt)},void 0,a.upsellOfferHeader),zt),l()("div",{className:bt},void 0,l()("a",{className:ee,href:"https://myaccount.nytimes.com/get-started?OC=".concat(a.offerChainId),type:"button"},void 0,"Yes, subscribe now"),l()("button",{className:Object(M.cx)(ee,Nt),onClick:o,type:"button"},void 0,"No thanks, just redeem"))))};Xt.displayName="UpsellOffer";var qt=Xt,Ht=l()("h1",{className:ae},void 0,"Enjoy your access from",l()("br",{}),"The New York Times."),Vt=function(e){var t=e.email,a=e.assets,o=e.bundle;return l()("div",{className:K},void 0,l()("div",{className:Z},void 0,l()(At,{isPartnerships:!0,email:t}),Ht,l()(Pt,{isPartnerships:!0,bundle:o,assets:a})))};Vt.displayName="UpsellWelcome";var Kt=Vt,$t=l()("h1",{className:ae},void 0,"Your access code is valid."),Zt=function(e){var t=e.bundle,a=e.validForInDays,o=e.email,r=e.assets;return l()("div",{className:K},void 0,l()("div",{className:Object(M.cx)(Z,J)},void 0,l()(At,{isPartnerships:!0,email:o}),$t,l()(Ut,{bundle:t,validForInDays:a}),l()(Pt,{isPartnerships:!0,bundle:t,assets:r})))};Zt.displayName="NoUpsellWelcome";var Jt,Qt=Zt;function ea(){var e=O()(["\n  mutation RedeemGiftCode($code: NonEmptyString!, $campaignId: String) {\n    __typename\n    redeemGiftCode(code: $code, campaignId: $campaignId) {\n      ... on GiftCodeRedeemed {\n        code\n      }\n      ... on GiftErrorResult {\n        error\n      }\n    }\n  }\n"]);return ea=function(){return e},e}var ta=Fe.USER_SUBSCRIBED,aa=Fe.SESSION_EXPIRED,oa=Fe.GIFT_CODE_REDEEM_SUCCESS,ra=function(e,t,a){return e===_e&&Object(mt.c)("VG_gift_upsell_x_only","1_upsell")?l()(Bt,{bundle:e,validForInDays:a}):l()(Pt,{bundle:e,assets:t})};ra.displayName="renderWelcomeContent";var na=l()("br",{}),ia=function(e){var t=e.senderName,a=e.bundle,o=e.email,r=e.assets,n=e.validForInDays;return l()("div",{className:K},void 0,l()("div",{className:Z},void 0,l()(At,{email:o}),l()("h1",{className:Ot},void 0,"Enjoy your gift ",na,t&&l()("span",{},void 0,"from ",t,"!")),ra(a,r,n)))};ia.displayName="WelcomeView",ia.defaultProps={senderName:"",email:"",bundle:null,validForInDays:void 0};var sa=k()(ea()),ca=l()(jt,{}),da=Object(D.graphql)(sa,{name:"redeemGiftCodeMutation",options:function(e){var t=e.queryParams;return{variables:{code:t.gift_code,campaignId:t.campaignId},fetchPolicy:"no-cache"}}})(Jt=L()({presentation:{pageType:"code-redemption"},module:{context:"/code/welcome",region:"body"},eventData:{pagetype:"code-redemption-welcome"}})(Jt=function(e){function t(){var e,a;m()(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=h()(this,(e=y()(t)).call.apply(e,[this].concat(r)))).state={error:!1,loading:!0,redeemed:!1},a.redeemGift=function(){var e=a.props,t=e.redeemGiftCodeMutation,o=e.queryParams,r=e.redirectUserAndShowToastError;return"prd"!==vi.env.ENVIRONMENT&&(null==o?void 0:o.gift_code)===Ie?a.setState({loading:!1}):"prd"!==vi.env.ENVIRONMENT&&o&&"44ff8df6f099b52950df"===o.gift_code?a.setState({loading:!1}):t&&t({queryParams:o}).then(function(e){var t=e.data.redeemGiftCode.__typename;switch(t){case ta:return a.setState({error:ta,loading:!1});case aa:return window.location=at(o),null;case oa:return a.setState({loading:!1,redeemed:!0}),$e();default:return r(t)}}).catch(function(){return r()})},a}return E()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props.upsell,t=this.props.queryParams.referrer;return e&&"code-redemption"!==t?this.setState({loading:!1}):this.redeemGift()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.error,o=e.redeemed,r=this.props,n=r.senderName,i=r.bundle,s=r.assets,c=r.email,d=r.upsell,u=r.validForInDays,m="code-redemption"!==r.queryParams.referrer;return t?null:a===ta?ca:m&&d&&o?l()(Kt,{assets:s,bundle:i,email:c}):m&&d?l()(qt,{validForInDays:u,bundle:i,redeemGift:this.redeemGift,upsell:d}):m?l()(Qt,{email:c,validForInDays:u,bundle:i,assets:s}):l()(ia,{error:a,email:c,senderName:n,bundle:i,assets:s,validForInDays:u})}}]),t}(w.a.Component))||Jt)||Jt,la=l()("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,l()("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM1.64582 10.656C2.71232 13.2228 5.22044 14.894 8 14.89C11.7903 14.8845 14.86 11.8103 14.86 8.02C14.86 5.24043 13.1851 2.73475 10.6167 1.672C8.04835 0.60924 5.09266 1.19884 3.12864 3.16572C1.16462 5.1326 0.579325 8.08915 1.64582 10.656Z",fill:"#EC6824"}),l()("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34998 3.73999L7.34998 8.96999H8.63998L9.63998 3.73999H6.34998ZM9.13493 11.1063C8.93443 10.6569 8.48177 10.3737 7.98998 10.39H7.99998C7.6817 10.3953 7.37856 10.5268 7.15726 10.7556C6.93595 10.9844 6.81463 11.2917 6.81998 11.61C6.82431 12.102 7.12619 12.5425 7.58355 12.724C8.04091 12.9055 8.56265 12.792 8.90324 12.4368C9.24383 12.0817 9.33543 11.5557 9.13493 11.1063Z",fill:"#EC6824"})),ua=function(e){var t=e.className;return l()("div",{className:t},void 0,la)};ua.displayName="InfoIcon";var ma,pa,fa,va=ua;function ha(e){for(var t=1;t<arguments.length;t++)if(t%2){var a=null!=arguments[t]?arguments[t]:{},o=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.forEach(function(t){c()(e,t,a[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}function ga(){var e=O()(["\n    query CodeRedeemQuery($code: NonEmptyString!) {\n      __typename\n      giftInfo(code: $code) {\n        ... on GiftInfo {\n          senderName\n          bundleType\n          validForInDays\n          upsell {\n            upsellOfferHeader\n            offerChainId\n          }\n        }\n        ... on GiftErrorResult {\n          error\n        }\n      }\n      user {\n        profile {\n          email\n        }\n      }\n    }\n  "]);return ga=function(){return e},e}var ya=l()(P.a,{}),ba=l()(A.Helmet,{},void 0,l()("title",{},void 0,"Code Redemption")),Ea=l()("p",{},void 0,"© 2019 The New York Times Company"),Na=(ma=Object(D.graphql)(k()(ga()),{name:"codeRedeemData",options:function(e){var t=e.location;return{variables:{code:j.a.parse(t.search).gift_code||"empty"},ssr:!1}}}),pa=L()({presentation:{pageType:"code-redemption"},module:{context:"/code",region:"body"},eventData:{pagetype:"code-redemption"}}),ma(fa=Object(G.a)(fa=pa(fa=function(e){function t(){var e,a;m()(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=h()(this,(e=y()(t)).call.apply(e,[this].concat(r)))).state={queryParams:j.a.parse(a.props.location.search),loading:!0,toastErrors:!1},a.renderHeader=function(e){var t=Le[e];return t?l()("a",{href:t.URL},void 0,l()("img",{src:t.IMAGE,alt:"header",className:V})):l()(_.Link,{to:"/"},void 0,l()(I.a,{className:V}))},a.renderRoute=function(e){var t=a.state,o=t.bundle,r=t.email,n=t.senderName,i=t.validForInDays,s=t.queryParams,c=t.upsell,d=t.refetch,u=He(o,e);switch(e){case Me.REDEEM:return w.a.createElement(w.a.Fragment,null,a.state.toastErrors&&l()("div",{className:Object(M.cx)(Z,se)},void 0,l()(va,{className:ce}),a.state.toastErrors),l()(dt,{senderName:n,validForInDays:i,bundle:o,assets:u,submitForm:d,queryParams:s}),o&&l()(ut,{bundle:o,assets:u}));case Me.WELCOME:return l()(da,{assets:u,email:r,senderName:n,bundle:o,validForInDays:i,queryParams:s,upsell:c,redirectUserAndShowToastError:a.redirectUserAndShowToastError});default:return null}},a}return E()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location.search,a=e.match.params.path,o=e.history,r=this.state.queryParams.gift_code;return a?r&&""!==r?null:this.setState({loading:!1}):o.replace(ot(t))}},{key:"redirectUserAndShowToastError",value:function(e){var t=this.props,a=t.history,o=t.location;this.setState({toastErrors:tt(e)}),a.replace(ot(o.search))}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.match.params.path,o=this.state,r=o.loading,n=o.bundle,i=o.__typename;return t?ya:r?null:(this.state.toastErrors||n||a!==Me.WELCOME||this.redirectUserAndShowToastError(i),l()("div",{},void 0,ba,l()("div",{"data-testid":"code-redeem-header",className:q},void 0,this.renderHeader(n)),l()("div",{"data-testid":"code-redeem-content",className:$},void 0,this.renderRoute(a)),l()("div",{"data-testid":"code-redeem-footer",className:Q},void 0,Ea)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,o=e.codeRedeemData,r=o.giftInfo,n=o.user,i=o.refetch,s=o.loading,c=(r||{}).bundleType;return t.loading?ha({},t,{},r,{email:null==n?void 0:null===(a=n.profile)||void 0===a?void 0:a.email,bundle:qe(c),refetch:i,loading:s}):ha({},t)}}]),t}(C.Component))||fa)||fa)||fa);Na.defaultProps={error:"",codeRedeemData:{}};t.default=Na}}]);
//# sourceMappingURL=coderedeem-e955d542ede11004bc21.js.map