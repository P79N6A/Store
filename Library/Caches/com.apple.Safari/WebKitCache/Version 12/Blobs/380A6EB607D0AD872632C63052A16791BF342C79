(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"4gx8":function(e,t,a){"use strict";var n=a("gcR/"),o=a.n(n),i=(a("q1tI"),a("17x9"),a("UmXO")),r=a("41jq"),s=a("wXC7"),l=a.n(s),c=Object(i.css)("color:",l.a.color.blue20,";font-family:",l.a.font.franklin,";font-size:11px;font-style:normal;font-weight:",l.a.font.weight.book,";line-height:14px;text-transform:uppercase;&:hover{text-decoration:underline;}"),p={"en-US":{seeSample:"See Sample"},es:{seeSample:"Ver muestra"}},m=function(e){var t=e.url,a=e.className,n=e.dataTestId,r=e.theme,s=r.language&&p[r.language]||p["en-US"];return t?o()("a",{rel:"noopener noreferrer",className:Object(i.cx)(c,a),target:"_blank",href:t,"data-testid":n||null},void 0,s.seeSample):null};m.defaultProps={className:"",dataTestId:void 0,url:""},t.a=Object(r.withTheme)(m)},F9BO:function(e,t,a){"use strict";var n=a("17x9"),o=function(e,t){var a=e.children,n=void 0===a?null:a,o=e.value;return(0,t.setSurrogateControl)(o),n};o.contextTypes={setSurrogateControl:a.n(n).a.func},t.a=o},xSp6:function(e,t,a){"use strict";var n=a("gcR/"),o=a.n(n),i=a("lSNA"),r=a.n(i),s=(a("a1Th"),a("Btvt"),a("Z2Ku"),a("L9s1"),a("lwsE")),l=a.n(s),c=a("W8MJ"),p=a.n(c),m=a("a1gu"),u=a.n(m),d=a("Nsbk"),f=a.n(d),h=a("7W2i"),g=a.n(h),b=a("VkAN"),w=a.n(b),v=a("q1tI"),y=a.n(v),x=(a("17x9"),a("UmXO")),k=a("hHXl"),O=a("Dugd"),j=a.n(O),C=a("X6oL"),S=a.n(C),N=a("TZiV"),z=a.n(N),T=a("41jq"),E=(a("SMB2"),a("84bF"),a("wXC7")),F=a.n(E),I=Object(x.keyframes)("0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"),P=Object(x.css)("animation:",I," 1500ms cubic-bezier(0.77,0.1,0.45,0.8) infinite;position:relative;width:15px;height:15px;margin:auto;border:2px solid ",F.a.color.white,";border-radius:50%;&:after{content:'';width:90%;height:100%;background:-webkit-linear-gradient( 45deg,rgba(93,133,163,0) 0%,rgba(93,133,163,0.5) 30%,rgba(93,133,163,1) 50%,rgba(93,133,163,1) 100% );position:absolute;top:35%;left:35%;transform:translate(-5%,-5%);}"),U=Object(x.css)("&:hover{background-color:",F.a.color.blue20,";color:",F.a.color.white,";}&:focus{background-color:",F.a.color.blue20,";color:",F.a.color.white,";}"),B=Object(x.css)(F.a.breakpoint.small,"{margin-top:0;width:30%;}"),R=Object(x.css)("position:relative;height:35px;margin:0;border-radius:4px;width:100%;"),A=Object(x.css)(R," background:",F.a.color.white,";color:",F.a.color.blue30,";"),V=Object(x.css)("margin-top:0;"),Y=Object(x.css)("background:",F.a.color.blue30,";border:1px solid ",F.a.color.blue30,";border-radius:0 4px 4px 0;color:",F.a.color.white,";font-family:",F.a.font.franklinBase,";font-size:12px;font-style:normal;font-weight:",F.a.font.weight.bold,";line-height:12px;height:40px;right:0;top:0;text-transform:uppercase;width:20%;min-width:120px;position:absolute;transition:ease 0.6s;margin-top:10px;"),L={"en-US":{signUpButton:"Sign Up"},es:{signUpButton:"Suscribirse"}},M=function(e){var t=e.pageType,a=e.isProcessing,n=e.message;return"newsletter"===t?"Sign Up":n?o()("div",{className:Object(x.cx)(r()({},P,a))},void 0,!a&&n.signUpButton):o()("div",{className:Object(x.cx)(r()({},P,a))},void 0,!a&&"Sign Up")};M.displayName="SubmitButtonText";var D=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(i)))).onChange=function(){a.props.handleSubmit(a.props.userEmail)},a.renderForm=function(){var e,t=a.props,n=t.captchaSubmitRef,i=t.inputInFocus,s=t.isProcessing,l=t.pageType,c=t.recaptchaElementRef,p=t.validation,m=t.userEmail,u=t.theme;return o()("form",{onSubmit:function(e){e.preventDefault(),p(m)}},void 0,y.a.createElement("button",{ref:function(e){n(e)},pageType:l,type:"submit",isProcessing:s,"data-testid":"newsletter-submit-button",className:Object(x.cx)(Y,(e={},r()(e,B,"article-full"===l),r()(e,A,"newsletter"===l),r()(e,R,"article-companion"===l),r()(e,V,"collection-page"===l),r()(e,U,!s),e))},o()(M,{isProcessing:s,pageType:l,message:u.language&&L[u.language]||L["en-US"]})),i&&y.a.createElement(z.a,{ref:function(e){c(e)},size:"invisible",sitekey:vi.env.RECAPTCHA_SITEKEY,onChange:a.onChange}))},a.renderCompanionButton=function(){return a.props.showCompanionForm?a.renderForm():null},a}return g()(t,e),p()(t,[{key:"render",value:function(){return o()("div",{},void 0,"article-companion"===this.props.pageType?this.renderCompanionButton():this.renderForm())}}]),t}(v.Component);D.displayName="InvisibleCaptcha";var H=Object(T.withTheme)(D),_=a("pVnL"),K=a.n(_),q=a("QILm"),X=a.n(q),Z=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(o)))).state={checked:a.props.checked},a}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.checkboxHandler,X()(t,["checkboxHandler"]));return y.a.createElement("input",K()({},a,{type:"checkbox",checked:this.state.checked,onChange:function(){e.props.checkboxHandler&&e.props.checkboxHandler(),e.setState({checked:!e.state.checked})}}))}}]),t}(v.Component);Z.displayName="Checkbox",Z.defaultProps={checked:!0,checkboxHandler:null};var J=a("06b3"),Q=Object(x.css)("margin:5px 0;display:flex;"),W=Object(x.css)("margin:0 5px 0 0;"),$=(F.a.color.gray20,F.a.font.franklinBase,F.a.font.weight.medium,Object(x.css)("margin:5px 0;color:",F.a.color.gray40,";font-family:",F.a.font.franklinBase,";font-size:",F.a.font.size(11),";font-style:normal;font-weight:",F.a.font.weight.medium,";line-height:",F.a.font.size(13),";display:flex;")),G=Object(x.css)("font-size:",F.a.font.size(10),";line-height:0.84rem;color:",F.a.color.gray40,";"),ee=Object(x.css)("color:",F.a.color.gray40,";font-family:",F.a.font.franklinBase,";font-size:12px;font-style:normal;font-weight:",F.a.font.weight.medium,";line-height:16px;display:flex;"),te={"en-US":{autoSpecialOffers:"Emails may include promotional content from The New York Times. You may opt out at any time.",specialOffers:"I want to receive updates and promotions from The New York Times. I can opt out any time."},es:{autoSpecialOffers:"Los correos electrónicos pueden incluir contenido promocional de The New York Times. Usted puede optar por no participar en cualquier momento.",specialOffers:"Quiero recibir actualizaciones y promociones de The New York Times. Puedo optar por salir en cualquier momento."}},ae=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(o)))).state={isClient:!1},a}return g()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.setState({isClient:!0})}},{key:"render",value:function(){var e=this.props,t=e.checked,a=e.checkboxHandler,n=e.pageType,i=e.theme,s=i.language&&te[i.language]||te["en-US"];return this.state.isClient?"1"===J.a.load("nyt-us")?o()("div",{className:$},void 0,s.autoSpecialOffers):o()("div",{className:Q},void 0,o()("label",{htmlFor:"special-offers"},void 0,o()(Z,{checkboxHandler:a,id:"special-offers",className:W,name:"special-offers",value:"MM",checked:t})),o()("span",{className:Object(x.cx)(ee,r()({},G,"article-companion"===n))},void 0,s.specialOffers)):null}}]),t}(v.Component);ae.displayName="SpecialOffers";var ne=Object(T.withTheme)(ae),oe=a("4gx8"),ie=a("mczz"),re=a("ZKN5"),se=Object(x.css)("color:",F.a.color.red10,";display:none;font-family:",F.a.font.franklin,";"),le=Object(x.css)("display:none;"),ce=Object(x.css)("margin-bottom:10px;",F.a.breakpoint.medium,"{margin-bottom:5px;}"),pe=(F.a.color.gray60,F.a.font.franklinBase,F.a.font.weight.bold,"@media (max-width: 1066px)"),me=Object(x.css)("border-radius:4px;",pe,"{width:80%;}"),ue=Object(x.css)("width:80%;border-radius:4px 0 0 4px;"),de=Object(x.css)("border:1px solid ",F.a.color.gray60,";border-radius:4px 0 0 4px;display:block;font-family:",F.a.font.franklinBase,";font-size:13px;font-style:normal;font-weight:",F.a.font.weight.book,";height:30px;line-height:15px;padding:4px 4px 4px 8px;position:relative;"),fe=Object(x.css)("color:",F.a.color.red10,";font-family:",F.a.font.franklin,";font-size:0.8rem;margin-top:10px;"),he=(F.a.font.franklinBase,F.a.font.weight.bold,Object(x.css)(pe,"{font-size:10px;}")),ge=Object(x.css)("color:",F.a.color.gray20,";border:0;border-radius:3px;box-shadow:none;box-sizing:border-box;font-family:",F.a.font.franklinBase,";font-size:13px;font-style:normal;font-weight:",F.a.font.weight.book,";height:30px;line-height:15px;padding:0;vertical-align:middle;width:100%;"),be={"en-US":{pleaseVerify:"Please verify you’re not a robot by clicking the box.",invalidEmail:"Invalid email address. Please re-enter.",mustSelect:"You must select a newsletter to subscribe to.",placeholder:"Enter your email address"},es:{pleaseVerify:"Please verify you’re not a robot by clicking the box.",invalidEmail:"Invalid email address. Please re-enter.",mustSelect:"You must select a newsletter to subscribe to.",placeholder:"Escribe tu correo electrónico"}},we=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(o)))).handlerInputOnChange=function(e){return a.props.inputOnChange&&(e.preventDefault(),a.props.inputOnChange(e.target.value)),null},a}return g()(t,e),p()(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.emailFailure,i=void 0!==n&&n,s=a.handleEnterKey,l=a.inputOnFocus,c=a.inputRef,p=void 0===c?null:c,m=a.pageType,u=a.theme,d=u.language&&be[u.language]||be["en-US"];return o()("div",{className:ce},void 0,o()("p",{className:se},void 0,d.pleaseVerify),o()("p",{className:se},void 0,d.invalidEmail),o()("p",{className:se},void 0,d.mustSelect),o()("label",{className:Object(x.cx)(de,(e={},r()(e,me,"article-companion"===m),r()(e,ue,"article-full"===m),e)),htmlFor:"email"},void 0,y.a.createElement("input",{className:Object(x.cx)(ge,r()({},he,"article-companion"===m)),"data-testid":"newsletter-email-input",autoFocus:"article-companion"===m,ref:function(e){t.input=e,p&&p(e)},id:"email",name:"email",type:"email","aria-required":"true",placeholder:d.placeholder,onKeyUp:s,onChange:this.handlerInputOnChange,onFocus:l})),o()("p",{"data-testid":"invalid-email-error",className:i?fe:le},void 0,"* Invalid email address. Please try again."))}}]),t}(v.Component);we.displayName="InputControl";var ve,ye=Object(T.withTheme)(we),xe=Object(x.css)("font-family:",F.a.font.franklinBase,";font-size:16px;font-style:normal;font-weight:",F.a.font.weight.bold,";line-height:17px;margin-bottom:10px;"),ke=Object(x.css)("font-size:",F.a.font.size(14),";line-height:",F.a.font.size(18),";"),Oe=Object(x.css)("display:none;"),je=Object(x.css)("font-family:",F.a.font.franklinBase,";font-size:",F.a.font.size(16),";font-style:normal;font-weight:",F.a.font.weight.bold,";line-height:",F.a.font.size(22),";margin-bottom:5px;color:",F.a.color.black,";"),Ce=Object(x.css)("font-size:0.8rem;margin-bottom:10px;"),Se=Object(x.css)("font-size:0.8rem;"),Ne=Object(x.css)("text-decoration-color:",F.a.color.blue20,";transition:all 0.4s ease-in-out;font-family:",F.a.font.franklinBase,";font-size:",F.a.font.size(16),";color:",F.a.color.gray30,";line-height:",F.a.font.size(22),";margin-bottom:10px;&:hover{text-decoration-color:",F.a.color.blue20,";}"),ze=Object(x.css)("font-size:",F.a.font.size(13),";line-height:",F.a.font.size(16),";"),Te=Object(x.css)("text-decoration:underline;text-decoration-color:",F.a.color.blue20,";transition:all 0.4s ease-in-out;font-family:",F.a.font.franklinBase,";font-size:",F.a.font.size(16),";color:",F.a.color.blue20,";margin-bottom:10px;&:hover{text-decoration:none;}"),Ee=Object(x.css)("font-family:",F.a.font.franklin,";color:",F.a.color.red10,";"),Fe=Object(x.css)("color:",F.a.color.blue10,";font-family:",F.a.font.franklinBase,";font-size:14px;font-style:normal;font-weight:",F.a.font.weight.bold,";line-height:17px;margin:10px 0 33px;a:visited{color:#669;}"),Ie={"en-US":{alreadySubscribed:"You are already subscribed to this email.",captchaError:"Captcha is incomplete. Please try again.",manageNewsletters:["You can also view our ","other newsletters","or visit your account to opt out or ","manage email preferences"],submitError:"An error has occurred. Please try again later.",thankYou:"Thank you for subscribing",viewAll:"View all New York Times newsletters."},es:{alreadySubscribed:" Ya estás suscrito a este correo.",captchaError:"Captcha está incompleto. Inténtalo de nuevo.",manageNewsletters:["También puedes ver nuestra ","otros boletines","o visite su cuenta para darse de baja o ","administrar las preferencias de correo electrónico"],submitError:"Se ha producido un error. Por favor, inténtelo de nuevo más tarde.",thankYou:"Gracias por suscribirse",viewAll:"Ver todos los boletines del New York Times."}},Pe=S()()(ve=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(o)))).handleLinkClickImpression=function(e){e.preventDefault();var t=e.target?e.target.innerHTML:"Default Fallback";a.props.tracking.trackEvent({event:"moduleInteraction",eventData:{pagetype:a.props.pageType,trigger:"module",type:"click"},module:{name:"newsletters",context:"",label:"",region:"body",element:{name:e.target.href,label:t}}}),window.location.href=e.target.href},a}return g()(t,e),p()(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.success,i=a.failure,s=a.captchaError,l=a.pageType,c=a.theme,p=c.language&&Ie[c.language]||Ie["en-US"];return y.a.createElement(y.a.Fragment,null,o()("h2",{className:Object(x.cx)(je,(e={},r()(e,ke,"article-companion"===l),r()(e,Oe,!n),e))},void 0,p.thankYou),o()("p",{className:Object(x.cx)(Ne,(t={},r()(t,Se,"article-companion"===l),r()(t,Oe,!n),t)),"data-testid":"newsletter-sign-up-success"},void 0,p.manageNewsletters[0],o()("a",{className:Object(x.cx)(Te,r()({},ze,"article-companion"===l)),href:"/newsletters"},void 0,p.manageNewsletters[1])," ",p.manageNewsletters[2],o()("a",{className:Object(x.cx)(Te,r()({},ze,"article-companion"===l)),target:"_blank",rel:"noopener noreferrer",onClick:this.handleLinkClickImpression,href:"https://account.nytimes.com/settings"},void 0,p.manageNewsletters[3]),"."),o()("h2",{"data-testid":"newsletter-sign-up-error",className:Object(x.cx)(Ee,Ce,r()({},Oe,!i))},void 0,s?p.captchaError:p.submitError),o()("h2",{"data-testid":"newsletter-sign-up-already-subscribed",className:Object(x.cx)(Oe,xe)},void 0,p.alreadySubscribed),o()("p",{"data-testid":"newsletter-sign-up-view-all",className:Object(x.cx)(Fe,Oe)},void 0,o()("a",{href:"/newsletters"},void 0,p.viewAll)))}}]),t}(v.Component))||ve;Pe.defaultProps={tracking:void 0};var Ue,Be=Object(T.withTheme)(Pe),Re=Object(x.css)("color:",F.a.color.gray40,";font-family:",F.a.font.serifBase,";font-size:10px;font-style:normal;font-weight:",F.a.font.weight.book,";line-height:15px;"),Ae=Object(x.css)("border-left:1px solid ",F.a.color.gray40,";display:inline;font-family:",F.a.font.franklinBase,";font-size:10px;font-style:normal;font-weight:",F.a.font.weight.book,";line-height:13px;padding:0 5px;text-transform:uppercase;width:auto;&:first-child{border-left:0;padding-left:0;}"),Ve=Object(x.css)(Ae,";color:",F.a.color.blue20,";padding:0;"),Ye=Object(x.css)("color:",F.a.color.blue20,";&:hover{text-decoration:underline;}"),Le={"en-US":{manage:"Manage Email Preferences",optOut:"Contact us",privacyPolicy:"Privacy Policy"},es:{manage:"Administrar las preferencias de correo electrónico",optOut:"Contáctenos",privacyPolicy:"Política de privacidad"}},Me=S()()(Ue=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(o)))).handleLinkClickImpression=function(e){e.preventDefault();var t=e.target?e.target.innerHTML:"Default Fallback";a.props.tracking.trackEvent({event:"moduleInteraction",eventData:{pagetype:a.props.pageType,trigger:"module",type:"click"},module:{name:"newsletters",context:"",label:"",region:"body",element:{name:e.target.href,label:t}}}),window.location.href=e.target.href},a}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this.props.theme,t=e.language&&Le[e.language]||Le["en-US"];return o()("ul",{className:Re},void 0,!!this.props.sampleUrl&&o()("li",{className:Ae},void 0,o()(oe.a,{url:this.props.sampleUrl,className:Ve})),o()("li",{className:Ae},void 0,o()("a",{target:"_blank",rel:"noopener noreferrer",onClick:this.handleLinkClickImpression,className:Ye,href:"https://www.nytimes.com/privacy"},void 0,t.privacyPolicy)),o()("li",{className:Ae},void 0,o()("a",{target:"_blank",rel:"noopener noreferrer",onClick:this.handleLinkClickImpression,className:Ye,href:"https://www.nytimes.com/help/index.html"},void 0,t.optOut)))}}]),t}(v.Component))||Ue,De=Object(T.withTheme)(Me);Me.defaultProps={sampleUrl:"",tracking:void 0};var He,_e=Object(x.css)("width:100%;",F.a.breakpoint.medium,"{margin:0;}"),Ke=Object(x.css)(F.a.breakpoint.medium,"{margin-left:3%;margin-right:3%;max-width:",F.a.breakpoint.maxDesktopContentWidth,"px;}@media (min-width:1280px){margin-left:auto;margin-right:auto;}"),qe=Object(x.css)("margin-top:0px;align-self:center;",F.a.breakpoint.small,"{margin-left:0;margin-right:0;max-width:100%;}@media (max-width:",F.a.breakpoint.width.large,"px){width:100%;}@media (min-width:1020px){margin-left:2%;margin-right:2%;}"),Xe=Object(x.css)("border-top:1px solid ",F.a.color.black,";"),Ze=Object(x.css)("margin-top:25px;",F.a.breakpoint.small,"{margin-left:auto;margin-right:auto;max-width:100%;}@media print{display:none;}"),Je=Object(x.css)(F.a.breakpoint.medium,"{margin-left:auto;}"),Qe=Object(x.css)(F.a.breakpoint.medium,"{margin-left:0;margin-right:auto;}",F.a.breakpoint.mediumLarge,"{width:74.5%;}"),We=Object(x.css)("padding-top:22px;width:auto;margin:auto;@media (min-width:",F.a.breakpoint.width.small,"px) and (max-width:",F.a.breakpoint.width.large,"px){margin:auto;padding-top:22px;}",F.a.breakpoint.medium,"{border-top:none;}"),$e=Object(x.css)("width:100%;margin:0;",F.a.breakpoint.medium,"{margin-left:0;margin-right:auto;padding-top:0;}",F.a.breakpoint.mediumLarge,"{padding-top:0;}"),Ge=Object(x.css)("margin:0;max-width:100%;padding:0;",F.a.breakpoint.small,"{margin:0;}"),et=Object(x.css)("margin:0;padding-top:0;"),tt=Object(x.css)("overflow:hidden;margin:30px 0 0;padding-top:15px;",F.a.breakpoint.medium,"{padding-left:0;padding-right:0;}"),at=Object(x.css)(Xe," display:flex;flex-direction:column;padding:20px;",F.a.breakpoint.small,"{margin:0 auto;padding:20px 0 0;}",F.a.breakpoint.medium,"{flex-direction:row;}"),nt=Object(x.css)("display:flex;flex-direction:column;padding:0 16px;",F.a.breakpoint.medium,"{flex-direction:row;padding:0;}"),ot=Object(x.css)("background-color:",F.a.color.white,";"),it=Object(x.css)("margin-right:0;width:100%;",F.a.breakpoint.medium,"{margin-right:0;width:100%;}"),rt=Object(x.css)("padding-right:30px;",F.a.breakpoint.small,"{min-width:360px;}",it,";"),st=Object(x.css)(F.a.breakpoint.medium,"{min-width:auto;}",F.a.breakpoint.large,"{min-width:360px;}"),lt=Object(x.css)("display:block;margin:0;position:relative;width:100%;"),ct=Object(x.css)("height:auto;width:100%;margin-top:10px;",F.a.breakpoint.small,"{margin-top:0;}"),pt=Object(x.css)(F.a.breakpoint.mediumLarge,"{max-width:210px;}",F.a.breakpoint.large,"{max-width:180px;}"),mt=Object(x.css)("width:100%;margin:0;height:35px;",pt,";"),ut=Object(x.css)("background:",F.a.color.blue30,";border:1px solid ",F.a.color.blue30,";border-radius:4px;color:",F.a.color.white,";font-family:",F.a.font.franklinBase,";font-size:13px;font-style:normal;font-weight:",F.a.font.weight.bold,";height:auto;line-height:13px;margin-bottom:10px;padding:10px;text-transform:uppercase;width:100%;&:hover{background-color:",F.a.color.blue20,";color:",F.a.color.white,";}&:focus{background-color:",F.a.color.blue20,";color:",F.a.color.white,";}"),dt=Object(x.css)("font-family:",F.a.font.franklin,";font-size:0.8rem;color:",F.a.color.red10,";margin-top:5px;margin-bottom:10px;"),ft=Object(x.css)("display:none;"),ht=Object(x.css)("font-size:",F.a.font.size(13),";line-height:",F.a.font.size(16),";color:",F.a.color.gray30,";",pt,";"),gt=Object(x.css)("color:",F.a.color.gray30,";font-family:",F.a.font.franklinBase,";font-size:",F.a.font.size(16),";font-style:normal;font-weight:",F.a.font.weight.medium,";line-height:",F.a.font.size(22),";",F.a.breakpoint.small,"{margin-bottom:10px;}margin-left:0;"),bt=Object(x.css)(F.a.breakpoint.small,"{margin-bottom:0;}"),wt=Object(x.css)("display:none;color:",F.a.color.blue30,";font-size:",F.a.font.size(10),";line-height:0.75rem;margin-bottom:20px;text-transform:uppercase;"),vt=Object(x.css)("font-size:",F.a.font.size(14),";line-height:",F.a.font.size(18),";margin-bottom:5px;",pt,";"),yt=Object(x.css)("font-size:",F.a.font.size(16),";line-height:",F.a.font.size(22),";color:",F.a.color.black,";font-family:",F.a.font.franklinBase,";font-style:normal;font-weight:",F.a.font.weight.bold,";margin-bottom:15px;",F.a.breakpoint.small,"{font-size:",F.a.font.size(18),";line-height:",F.a.font.size(24),";}"),xt=Object(x.css)("margin:0;",F.a.breakpoint.small,"{font-size:",F.a.font.size(16),";}@media (min-width:1020px){display:none;}");function kt(){var e=w()(["\n    mutation CreateNewsletterSubscriptionInput(\n      $newsletterInput: CreateNewsletterSubscriptionInput!\n    ) {\n      createNewsletterSubscription(input: $newsletterInput) {\n        clientMutationId\n        userErrors\n      }\n    }\n  "]);return kt=function(){return e},e}var Ot=/^[a-zA-Z0-9._+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,jt=Object(k.graphql)(j()(kt()))(He=S()()(He=Object(re.a)(He=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=u()(this,(e=f()(t)).call.apply(e,[this].concat(i)))).state={specialOffersChecked:!1,success:!1,failure:!1,emailFailure:!1,captchaFailure:!1,captchaError:!1,userEmail:"",showCompanionForm:!1,emailInputInFocus:!1,isProcessing:!1},a.captchaSubmitRef=null,a.captchaRef=null,a.handleSpecialOffers=function(){a.setState({specialOffersChecked:!a.state.specialOffersChecked})},a.handleCaptchaRefAssignment=function(e){a.captchaSubmitRef=e},a.handleRecaptchaRefAssignment=function(e){a.captchaRef=e},a.handleEnterKey=function(e){"Enter"===e.key&&a.captchaSubmitRef.click()},a.sendSuccessImpression=function(){var e=a.props.newsletter,t=e.code,n=e.headline;a.props.tracking.trackEvent({event:"moduleInteraction",eventData:{pagetype:a.props.pageType,trigger:"module",type:"click"},module:{name:"newsletters",context:"",label:"",region:"body",element:{name:"subscribe",label:"opt in ".concat(a.state.specialOffersChecked||"1"===J.a.load("nyt-us")?"t":"f")}},newsletter:{product:t,productName:n}})},a.handleValidation=function(e){a.setState({isProcessing:!0},function(){var t=!Ot.test(e);a.setState({emailFailure:t}),t?a.setState({isProcessing:!1}):(a.captchaRef.reset(),a.captchaRef.execute(),setTimeout(function(){a.setState({isProcessing:!1})},1e4))})},a.handleSubmit=function(e){var t="newsletter"===a.props.pageType?"Vi_Signup_Page_v1":"Vi_Story_Page_v1",n=!1,o=null;window.grecaptcha&&(o=window.grecaptcha.getResponse());var i=!Ot.test(e),r=!o;if(i||r)a.setState({emailFailure:i,captchaFailure:r,isProcessing:!1});else{i=!1,r=!1,n=!1;var s=[a.props.newsletter.code];("1"===J.a.load("nyt-us")||a.state.specialOffersChecked)&&s.push("MM"),a.props.mutate({variables:{newsletterInput:{clientMutationId:"0",userCaptchaToken:o,newsletterCodes:s,userEmail:e,referrer:Object(ie.d)(Object(ie.c)(),"nlc"),signupFormVersion:t}}}).then(function(){a.sendSuccessImpression(),a.setState({emailFailure:i,captchaFailure:r,captchaError:n,success:!0,failure:!1,isProcessing:!1})}).catch(function(e){"prd"!==vi.env.ENVIRONMENT&&console.warn("If you are in dev mode, you will get a (1) TypeError for transaction.getError (2) GraphQL CreateNewsletterSubscriptionInput: Forbidden error - these are expected. You need to use the prod siteKey to go through the full workflow.");var t=e.getError()||new Error("Mutation failed");n=t.toString().includes("userCaptchaToken"),a.setState({emailFailure:i,captchaFailure:r,captchaError:n,success:!1,failure:!0,isProcessing:!1})})}},a.inputOnFocus=function(){a.state.emailInputInFocus||a.setState({emailInputInFocus:!0})},a.inputOnChange=function(e){a.setState({userEmail:e})},a.showCompanionForm=function(){a.setState({showCompanionForm:!a.state.showCompanionForm})},a.renderCompanionForm=function(){return"article-companion"===a.props.pageType&&a.state.showCompanionForm?a.renderInput():o()("button",{className:Object(x.cx)(ut,r()({},mt,"article-companion"===a.props.pageType)),type:"submit","data-testid":"newsletter-sign-up-button",onClick:a.showCompanionForm},void 0,"Sign Up")},a.renderMeta=function(){var e,t,n=a.props,i=n.newsletter,s=i.headline,l=i.summary,c=i.sampleUrl,p=n.pageType,m="article-companion"===p?it:rt;return"newsletter"===p?null:!a.state.success&&o()("div",{className:Object(x.cx)(m,r()({},st,"collection-page"===p))},void 0,o()("h2",{className:Object(x.cx)(yt,(e={},r()(e,vt,"article-companion"===p),r()(e,xt,"collection-page"===p),e))},void 0,s),o()("p",{className:Object(x.cx)(gt,(t={},r()(t,ht,"article-companion"===p),r()(t,bt,"collection-page"===p),t))},void 0,l),o()("p",{className:wt},void 0,o()(oe.a,{url:c})))},a.renderCompanionFooter=function(){var e=a.props,t=e.newsletter.sampleUrl,n=e.pageType;return a.state.success?o()(De,{pageType:n,sampleUrl:t}):null},a.renderInput=function(){var e=a.props.newsletter.hideSpecialOffers;return y.a.createElement(y.a.Fragment,null,o()(ye,{inputRef:function(e){a.input=e},emailFailure:a.state.emailFailure,inputOnChange:a.inputOnChange,inputOnFocus:a.inputOnFocus,pageType:a.props.pageType,handleEnterKey:a.handleEnterKey}),!e&&o()(ne,{checkboxHandler:a.handleSpecialOffers,checked:a.state.specialOffersChecked,pageType:a.props.pageType}))},a}return g()(t,e),p()(t,[{key:"render",value:function(){var e,t,a,n,i=this.props,s=i.newsletter,l=i.pageType,c=i.newsletterRef,p=i.lonelyTrendingVisible;if(!s)return null;var m=!this.state.emailFailure&&this.state.captchaFailure;return o()("div",{className:Object(x.cx)(Ze,(e={},r()(e,Xe,"article-full"===l),r()(e,Ke,"newsletter"!==l),r()(e,_e,"regilite"===l),r()(e,qe,"collection-page"===l),e)),"data-testid":"".concat(l,"-wrapper")},void 0,o()("div",{className:Object(x.cx)(tt,(t={},r()(t,$e,"article-companion"===l),r()(t,We,"article-full"===l),r()(t,Qe,"article"===l),r()(t,Ge,"regilite"===l),r()(t,et,"collection-page"===l),r()(t,Je,p),t)),id:"newsletter-module"},void 0,o()("div",{className:Object(x.cx)(ot,(a={},r()(a,nt,"article-full"===l),r()(a,at,"article"===l),a))},void 0,this.renderMeta(),y.a.createElement("div",{className:lt,ref:c},!this.state.success&&o()("div",{name:"regilite",className:ct,method:"post",autoComplete:"off"},void 0,"article-companion"===l?this.renderCompanionForm():this.renderInput(),o()(H,{inputInFocus:this.state.emailInputInFocus,handleSubmit:this.handleSubmit,userEmail:this.state.userEmail,pageType:l,showCompanionForm:this.state.showCompanionForm,captchaSubmitRef:this.handleCaptchaRefAssignment,recaptchaElementRef:this.handleRecaptchaRefAssignment,validation:this.handleValidation,isProcessing:this.state.isProcessing}),o()("p",{className:Object(x.cx)((n={},r()(n,dt,m),r()(n,ft,!m),n))},void 0,"* Captcha is incomplete. Please try again.")),o()(Be,{success:this.state.success,failure:this.state.failure,captchaError:this.state.captchaError,pageType:l}),"article-companion"===l?this.renderCompanionFooter():o()(De,{sampleUrl:s.sampleUrl,pageType:l})))))}}]),t}(v.Component))||He)||He)||He;jt.defaultProps={lonelyTrendingVisible:!1},jt.defaultProps={mutate:void 0,newsletterRef:void 0};t.a=jt}}]);
//# sourceMappingURL=newsletter~regilite-8d560235116668e6885a.js.map