(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"B+6A":function(e,n,t){"use strict";t.r(n);var i={};t.r(i),t.d(i,"textContainer",function(){return ie}),t.d(i,"label",function(){return oe}),t.d(i,"breaking",function(){return re}),t.d(i,"developing",function(){return ae}),t.d(i,"columnistName",function(){return ce}),t.d(i,"headline",function(){return se}),t.d(i,"summary",function(){return le}),t.d(i,"timestamp",function(){return de}),t.d(i,"recirculationItemContent",function(){return pe}),t.d(i,"imageContainer",function(){return ue}),t.d(i,"recirculationItemContainer",function(){return ge}),t.d(i,"moreInItemContainer",function(){return fe}),t.d(i,"firstMoreInItem",function(){return he}),t.d(i,"adReplacement",function(){return be}),t.d(i,"moreInNoPromoMedia",function(){return ve}),t.d(i,"lonelyTrendingContainer",function(){return ye});var o=t("lSNA"),r=t.n(o),a=t("pVnL"),c=t.n(a),s=t("gcR/"),l=t.n(s),d=(t("a1Th"),t("Btvt"),t("lwsE")),p=t.n(d),m=t("W8MJ"),u=t.n(m),g=t("a1gu"),f=t.n(g),h=t("Nsbk"),b=t.n(h),v=t("7W2i"),y=t.n(v),x=t("VkAN"),k=t.n(x),w=t("q1tI"),I=t.n(w),O=t("Dugd"),j=t.n(O),S=t("hHXl"),N=(t("17x9"),t("9/5/")),P=t.n(N),C=t("yDJ3"),T=t.n(C),z=t("UmXO"),E=t("X6oL"),M=t.n(E),_=t("E00O"),L=t("ZKN5"),R=t("vEu8"),A=t("Vc97"),B=t("369f"),U=t("aRw7"),D=t("Lkij"),W=t("HUmG"),$=t("OO03"),F=t("60Ks"),H=(t("f3/d"),t("dlEz")),q=t("5dFD"),K=t("QNJC"),V=t("hG4R"),Q=t("wXC7"),X=t.n(Q),J=Object(z.css)("margin:0 0 10px;",X.a.breakpoint.medium,"{margin-bottom:0;}"),G=Object(z.css)("font-family:",X.a.font.franklin,";margin-top:3px;min-height:12px;"),Y=Object(z.css)("text-align:right;color:",X.a.color.gray40,";font-size:0.6em;line-height:1.23em;margin:3px 15px 0;",X.a.breakpoint.medium,"{margin:3px 0 0;}");function Z(){var e=k()(["\n    fragment ImageWithCredit_media on CreativeWork {\n      __typename\n      ...SpanAssetCredit_media\n      ...SpanImage_media\n      ...EmbeddedInteractive_media\n      ... on HasPromotionalProperties {\n        imageWithCreditPromotionalMedia: promotionalMedia {\n          ...SpanImage_media\n        }\n      }\n    }\n\n    fragment SpanAssetCredit_media on CreativeWork {\n      __typename\n      ... on Image {\n        credit\n      }\n      ... on HasPromotionalProperties {\n        # this is kind of gross, but necessary, since non-Image types should get\n        # their credits from their image stills (their promotionalMedia)\n        promotionalMedia {\n          ... on Image {\n            credit\n          }\n        }\n      }\n    }\n\n    ","\n    ","\n  "]);return Z=function(){return e},e}var ee=function(e){var n,t=e.media,i=e.crop,o=e.preferredCrop,r=t&&"Image"!==t.__typename&&"EmbeddedInteractive"!==t.__typename?t.imageWithCreditPromotionalMedia:t;return r?(n="Image"!==t.__typename&&t.promotionalMedia?"Video"===t.__typename&&t.promotionalMedia.credit?"Image by ".concat(t.promotionalMedia.credit):t.promotionalMedia.credit:t.credit,l()("figure",{className:J},void 0,"EmbeddedInteractive"===r.__typename?l()(K.a,{media:r}):l()("div",{},void 0,l()(V.a,{media:r,crop:i,preferredCrop:o}),l()("figcaption",{className:G},void 0,n&&l()("section",{className:Y,dangerouslySetInnerHTML:{__html:n}}))))):null};ee.displayName="ImageWithCredit",ee.defaultProps={preferredCrop:null,crop:["largeHorizontalJumbo"]},ee.fragments={media:j()(Z(),V.a.fragments.media,K.a.fragments.media)};var ne=ee,te=t("B2Q+"),ie=(t("84bF"),Object(z.css)("font-family:",X.a.font.serifMedium,";font-weight:",X.a.font.weight.medium,";padding-right:1rem;min-width:375px;color:",X.a.color.gray20,";font-size:",X.a.font.size(18),";line-height:1.375rem;text-align:left;flex-grow:1;@media (min-width:300px){min-width:195px;}@media (min-width:375px){min-width:250px;}",X.a.breakpoint.small,"{padding-right:10px;min-width:190px;}",X.a.breakpoint.medium,"{font-size:",X.a.font.size(16),";min-width:110px;}",X.a.breakpoint.large,"{min-width:150px;}")),oe=Object(z.css)("font-family:",X.a.font.franklinBase,";font-size:",X.a.font.size(11),";line-height:0.85rem;font-weight:",X.a.font.weight.medium,";text-transform:uppercase;color:",X.a.color.gray10,";"),re=Object(z.css)(oe," color:",X.a.color.breakingColor,";"),ae=Object(z.css)(oe," color:",X.a.color.developingColor,";"),ce=Object(z.css)("color:",X.a.color.opinionGray,";"),se=Object(z.css)("color:",X.a.color.gray10,";&:hover{color:",X.a.color.gray30,";}",X.a.breakpoint.small,"{font-size:",X.a.font.size(16),";line-height:20px;}"),le=Object(z.css)("font-size:",X.a.font.size(14),";font-weight:",X.a.font.weight.medium,";line-height:1.36;color:",X.a.color.gray20,";margin-top:5px;"),de=Object(z.css)("font-family:",X.a.font.franklinBase,";font-weight:",X.a.font.weight.medium,";font-size:",X.a.font.size(12),";line-height:",X.a.font.size(20),";letter-spacing:0.3px;color:",X.a.color.gray40,";"),pe=Object(z.css)("border-bottom:1px solid ",X.a.color.gray60,";display:flex;padding-bottom:15px;padding-top:15px;flex-direction:row-reverse;&.firstItem{padding-top:0;}&.thirdItem{border-bottom:none;padding-bottom:20px;}",X.a.breakpoint.small,"{border-bottom:none;padding-top:0;}",X.a.breakpoint.mediumLarge,"{padding-bottom:0;}",X.a.breakpoint.large,"{&.secondItem{margin-left:-6px;}}"),me=Object(z.css)("display:block;font-family:",X.a.font.serifSmall,";"),ue=Object(z.css)("min-width:60px;img{width:60px;}figure{padding-bottom:0;margin:0;}figcaption{display:none;section{font-size:",X.a.font.size(10),";text-transform:none;}}",X.a.breakpoint.medium,"{figcaption{section{padding-bottom:4px;}}}"),ge=Object(z.css)("height:100%;padding-left:20px;padding-right:20px;background-color:",X.a.color.white,";",X.a.breakpoint.small,"{padding-top:0;justify-content:flex-end;border-left:1px solid ",X.a.color.gray60,";&.firstItem{border-left:none;}}",X.a.breakpoint.medium,"{padding-left:0;&.firstItem{padding-right:10px;}&.secondItem{padding-right:0;padding-left:10px;}}",X.a.breakpoint.mediumLarge,"{&.secondItem{padding-right:10px;}&.thirdItem{padding-right:0;padding-left:10px;}}",X.a.breakpoint.large,"{&.secondItem{padding-right:10px;padding-left:15px;}}"),fe=Object(z.css)("width:100%;.",pe,"{display:flex;&.secondMoreInItem{border-top:1px solid ",X.a.color.gray60,";}&.thirdMoreInItem{border-bottom:none;padding-bottom:20px;}}.",ce,",.",se,"{font-size:",X.a.font.size(18),";}.",ue,"{min-width:60px;img{width:60px;}}",X.a.breakpoint.small,"{border-left:none;.",pe,"{display:block;&.secondMoreInItem{border-top:none;}}.",se,",.",ce,"{font-size:",X.a.font.size(18),";line-height:22px;}.",ue,"{width:100%;height:100%;max-width:inherit;img{width:100%;}figure{padding-bottom:0;}figcaption{",me," section{padding-bottom:4px;}}}}",X.a.breakpoint.medium,"{padding-right:0;.",ue,"{width:100%;height:100%;}}"),he=Object(z.css)("padding-left:0;padding-right:0;.",pe,"{display:flex;flex-direction:column;padding-top:0;border-bottom:none;}.",ie,"{padding-left:20px;max-width:550px;}.",ce,",.",se,"{font-size:",X.a.font.size(21),";line-height:24px;}.",ue,"{width:100%;height:100%;max-width:inherit;img{width:100%;}figcaption{",me," section{padding-bottom:4px;}}}",X.a.breakpoint.small,"{padding-left:20px;padding-right:20px;.",ie,"{padding-left:0;}.",ce,",.",se,"{font-size:",X.a.font.size(18),";line-height:22px;}}",X.a.breakpoint.medium,"{padding-left:0;padding-right:0;}"),be=Object(z.css)("width:auto;"),ve=Object(z.css)("font-size:",X.a.font.size(21),";line-height:23px;color:",X.a.color.gray10,";font-weight:",X.a.font.weight.medium,";"),ye=Object(z.css)(".",pe,"{padding:15px 0;&.sixthTrendingItem{border-bottom:none;padding-bottom:20px;}}",X.a.breakpoint.small,"{padding:0;.",se,"{font-size:",X.a.font.size(16),";}}",X.a.breakpoint.medium,"{.",pe,"{padding:0;}}"),xe=t("yPK1");function ke(){var e=k()(["\n  fragment RecirculationItem_personalized on PersonalizedItemsConnection {\n    edges {\n      ... on PersonalizedItemsEdge {\n        trackingParams {\n          key\n          value\n        }\n      }\n      node {\n        ...RecirculationItem_item\n      }\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function we(){var e=k()(["\n  fragment RecirculationItem_fallback on LegacyCollection {\n    id\n    url\n    assets(first: 12) {\n      edges {\n        node {\n          ... on Published {\n            sourceId\n            url\n            lastMajorModification\n            lastModified\n            firstPublished\n          }\n          ... on Node {\n            id\n          }\n          ... on CreativeWork {\n            headline {\n              default\n            }\n            summary\n            bylines {\n              creators {\n                ... on Person {\n                  displayName\n                }\n              }\n            }\n          }\n          ... on HasPromotionalProperties {\n            newsStatus\n            promotionalMedia {\n              ...ImageWithCredit_media\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return we=function(){return e},e}function Ie(){var e=k()(["\n  fragment RecirculationItem_item on CreativeWork {\n    ... on Node {\n      id\n    }\n    ... on Published {\n      sourceId\n      url\n      shortUrl\n      lastMajorModification\n      lastModified\n      firstPublished\n    }\n    headline {\n      default\n    }\n    summary\n    section {\n      id\n      displayName\n    }\n    subsection {\n      id\n      displayName\n    }\n    ... on HasPromotionalProperties {\n      newsStatus\n      promotionalMedia {\n        ...ImageWithCredit_media\n      }\n    }\n    bylines {\n      creators {\n        ... on Person {\n          displayName\n          url\n        }\n      }\n    }\n  }\n  ","\n"]);return Ie=function(){return e},e}var Oe=function(e){var n,t=e.section,o=e.item,a=e.index,c=e.replacesAd,s=e.params;if(!o)return null;var d=Object(xe.a)(o),p="Collection"===t,m="MoreIn"===t||"Signature"===t,u="Signature"===t,g="Trending"===t,f=m&&0===a,h=m&&1===a,b=m&&2===a,v=p&&0===a,y=p&&1===a,x=p&&2===a,k=g&&5===a,w=m||g,I=m&&!f&&"smartphone"===Object(te.a)()&&window.innerWidth<_.a.BREAKPOINT_S||!w?"thumbLarge":"threeByTwoSmallAt2X",O=d.newsStatus&&l()("p",{className:i["".concat(d.newsStatus)]},void 0,d.newsStatus),j=d.label&&l()("p",{className:oe},void 0,d.label),S=s&&"?".concat(s&&s.map(function(e){return"".concat(e.key,"=").concat(e.value)}).join("&")),N=d.byline&&l()(q.a,{link:o,search:S},void 0,l()("h2",{className:Object(z.cx)(ce,r()({},ve,null===d.promotionalMedia))},void 0,d.byline)),P=d.headline&&l()(q.a,{link:o,search:S},void 0,l()("h2",{className:Object(z.cx)(se,r()({},ve,null===d.promotionalMedia))},void 0,d.isOpinion&&(g||u)?"Opinion: ".concat(d.headline):d.headline)),C=d.firstPublished&&l()("span",{className:de},void 0,l()(H.a,{formatter:"elapsed",iso:d.firstPublished})),T=d.promotionalMedia&&l()(q.a,{link:o,search:S},void 0,l()(ne,{media:d.promotionalMedia,preferredCrop:g?"threeByTwoSmallAt2X":I})),E=d.summary&&l()("p",{className:le},void 0,d.summary);return l()("div",{className:Object(z.cx)(ge,(n={},r()(n,fe,w),r()(n,ye,g),r()(n,he,f),r()(n,be,c),r()(n,"firstItem",v),r()(n,"secondItem",y),r()(n,"thirdItem",x),n))},void 0,l()("div",{className:Object(z.cx)(pe,{firstItem:v,secondItem:y,thirdItem:x,secondMoreInItem:h,thirdMoreInItem:b,sixthTrendingItem:k})},void 0,null!==d.promotionalMedia&&l()("div",{className:ue},void 0,T),l()("div",{className:ie},void 0,O,j,d.isOpinion&&!p&&N,P,null===d.promotionalMedia&&w&&E,C)))};Oe.displayName="RecirculationItem",Oe.defaultProps={item:null,index:0,section:"MoreIn",replacesAd:!1,params:[]},(Oe.fragments={}).item=j()(Ie(),ne.fragments.media),Oe.fragments.fallback=j()(we(),ne.fragments.media),Oe.fragments.personalized=j()(ke(),Oe.fragments.item);var je,Se,Ne,Pe=M()()(Oe),Ce=(t("SMB2"),t("3Rk2")),Te=t.n(Ce),ze=X.a.breakpoint,Ee=X.a.color,Me=X.a.font,_e=X.a.grid,Le=Object(z.css)("border-top:1px solid ",Ee.black,";"),Re=Object(z.css)("display:flex;border-top:1px solid ",Ee.black,";justify-content:space-between;background-color:",Ee.white,";"),Ae=Object(z.css)("margin-bottom:12px;"),Be=Object(z.css)("margin-top:45px;border-top:1px ",Ee.gray60," solid;padding-top:20px;background-color:",Ee.gray90,";margin-left:auto;margin-right:auto;",ze.medium,"{padding-left:3%;padding-right:3%;display:flex;max-width:1200px;background-color:",Ee.white,";border-top:none;}",ze.extraLarge,"{width:1200px;}@media print{display:none;}"),Ue=Te()([ze.medium,ze.mediumLarge]),De=Object(z.css)("max-width:","852px",";background-color:",Ee.white,";",Ue({width:["100%","70%","80%"]})),We=Object(z.css)("display:flex;flex-wrap:wrap;",ze.small,"{background-color:white;}",ze.medium,"{width:100%;}"),$e=(ze.large,ze.extraLarge,Object(z.css)("width:100%;&:nth-child(3){margin-bottom:20px;border-bottom:1px solid ",Ee.gray60,";}",ze.small,"{width:50%;padding:0;max-width:","852px",";padding-bottom:20px;&:nth-child(3){display:none;margin-bottom:0;border-bottom:none;}}",ze.medium,"{max-width:",NaN,";}",ze.mediumLarge,"{width:33.3%;max-width:",NaN,";&:nth-child(3){display:block;}}")),Fe=Object(z.css)("&:nth-child(4),&:nth-child(5),&:nth-child(6){display:flex;}}",ze.medium,"{&:nth-child(5){padding-left:0;}&:nth-child(6){padding-right:0;}}",ze.mediumLarge,"{width:25%;&:nth-child(2){padding-left:0;padding-right:0;}&:nth-child(4){display:flex;}}"),He=Object(z.css)("width:100%;display:flex;flex-grow:1;flex-basis:auto;> article{width:100%;}&:nth-child(4),&:nth-child(5),&:nth-child(6){display:none;}",ze.small,"{width:50%;padding-bottom:20px;&:nth-child(4){display:flex;}}",ze.medium,"{padding:0 20px;max-width:48%;&:nth-child(1){padding-left:0;padding-right:0;padding-bottom:20px;}&:nth-child(2){border-right:none;padding:0;padding-bottom:20px;}&:nth-child(3){padding:0;padding-bottom:20px;}&:nth-child(4){padding:0;border-right:none;padding-bottom:20px;}&:nth-child(5){padding:0 ","14.49px",";padding-bottom:20px;}&:nth-child(6){padding:0;padding-bottom:20px;}&:nth-child(5),&:nth-child(6){display:none;}padding-bottom:20px;}",ze.mediumLarge,"{",_e.widthHelper(6,30,24),";max-width:32%;flex-basis:32%;padding-right:","14.49px",";padding-left:","14.49px",";&:nth-child(2){padding-bottom:20px;}&:nth-child(3){border-right:none;padding:0;padding-bottom:20px;}&:nth-child(4){padding:0;padding-bottom:20px;}&:nth-child(5){padding:0;padding-bottom:20px;}&:nth-child(5),&:nth-child(6){display:flex;}&:nth-child(6){border-right:none;padding:0;padding-bottom:20px;}}",ze.extraLarge,"{width:263.75px;}"),qe=Object(z.css)("display:block;"),Ke=Object(z.css)("max-width:","852px",";padding:0;"),Ve=Object(z.css)("display:flex;flex-wrap:wrap;max-width:","852px",";border-bottom:1px solid ",Ee.gray60,";padding-top:15px;",ze.medium,"{width:100%;justify-content:space-between;border-bottom:none;}"),Qe=Object(z.css)("&:nth-child(3){display:flex;",ze.small,"{display:none;}",ze.mediumLarge,"{display:flex;}}"),Xe=Object(z.css)("padding:17px 20px 0;background-color:white;box-sizing:border-box;font-family:",Me.franklinBase,";font-weight:",Me.weight.bold,";font-size:",Me.size(14),";line-height:","".concat(20/Me.baseFontSize,"rem"),";max-width:851.25px;",ze.medium,"{font-size:",Me.size(16),";line-height:","".concat(22/Me.baseFontSize,"rem"),";padding-right:0;padding-left:0;}"),Je=Object(z.css)("display:inline-block;font-size:",Me.size(13),";line-height:","".concat(19/Me.baseFontSize,"rem"),";max-width:600px;font-weight:",Me.weight.medium,";font-family:",Me.franklinBase,";color:",Ee.gray30,";margin-top:0;padding:0 20px 15px;",ze.medium,"{font-size:",Me.size(14),";line-height:","".concat(20/Me.baseFontSize,"rem"),";padding-left:0;}"),Ge=Object(z.css)("&:hover{text-decoration:underline;}"),Ye=Object(z.css)("margin-left:auto;margin-right:auto;"),Ze=Object(z.css)(ze.small,"{border-bottom:none;}",ze.medium,"{justify-content:space-between;width:100%;max-width:none;margin:auto;}"),en=Object(z.css)("width:100%;max-width:none;display:flex;",ze.small,"{width:30%;display:inline-block;margin:0 auto;&:nth-child(4),&:nth-child(5),&:nth-child(6){display:none;}}",ze.medium,"{display:flex;margin:0;}",ze.mediumLarge,"{max-width:23%;&:nth-child(4){display:flex;}}"),nn=(ze.medium,Object(z.css)("margin-left:auto;margin-right:auto;background-color:",Ee.white,";width:100%;border-bottom:1px solid ",Ee.gray60,";padding-bottom:20px;",ze.medium,"{background-color:none;border-bottom:none;}"));function tn(){var e=k()(["\n    query FollowChannelRecircQuery($id: String!) {\n      channel(id: $id) {\n        id\n        metadata {\n          description\n          shortDescription\n          name\n        }\n        followAssetsConnection {\n          edges {\n            node {\n              ...RecirculationItem_item\n            }\n          }\n        }\n      }\n    }\n    ","\n  "]);return tn=function(){return e},e}var on=(je=Object(S.graphql)(j()(tn(),Pe.fragments.item),{options:function(e){var n={variables:{id:e.followChannelUri},ssr:!1,fetchPolicy:"cache-first",partialRefetch:!0};return n}}),Se=M()(),je(Ne=Object(R.a)(Ne=Object(L.a)(Ne=Se(Ne=function(e){function n(){return p()(this,n),f()(this,b()(n).apply(this,arguments))}return y()(n,e),u()(n,[{key:"render",value:function(){var e=this.props,n=e.data,t=n.loading,i=n.channel,o=e.articleUrl;return t||!i?null:l()("div",{"data-testid":"follow-channel-recirc",id:"recirc-follow-channel"},void 0,l()("section",{className:Re},void 0,l()("h2",{className:Xe},void 0,i.metadata.name)),l()("span",{className:Je,dangerouslySetInnerHTML:{__html:i.metadata.description}}),l()("div",{className:We},void 0,i.followAssetsConnection.edges.filter(function(e){return T()(e,"node.id")&&T()(e,"node.url")!==o}).slice(0,3).map(function(e,n){return l()("div",{className:$e},e.node.id,l()(Pe,{item:e.node,index:n,section:"Collection"}))})))}}]),n}(w.Component))||Ne)||Ne)||Ne)||Ne),rn=(t("OG14"),t("QYgy")),an=t("WXMI"),cn=t("IcCd"),sn=t("cr+I"),ln=t.n(sn),dn=Object(z.css)("border:1px solid ",X.a.color.black,";padding:8px;padding-top:9px;border-radius:3px;display:flex;flex-direction:row-reverse;height:32px;margin-top:9px;margin-right:20px;margin-bottom:5px;&:hover{background-color:",X.a.color.gray90,";border-color:",X.a.color.gray27,";}",X.a.breakpoint.medium,"{margin-right:0;}"),pn=Object(z.css)("font-size:",X.a.font.size(12),";font-family:",X.a.font.franklinBase,";font-weight:",X.a.font.weight.mediumBold,";padding-left:0;padding-right:6px;padding-top:1px;min-width:95px;"),mn=Object(z.css)("height:15px;margin-top:-1px;"),un=function(e){var n=e.saveKey,t=e.stories,i=e.user,o=e.handleSave,r=e.saved,a=e.tracking,c=e.meterCount,s=Object(rn.a)("?save=nyt-save-".concat(n)),d="".concat(an.d,"&redirect_uri=").concat(encodeURIComponent(s),"&application=Free_Experience&asset=save_test"),p=ln.a.parse(window.location.search).save==="nyt-save-".concat(n)&&Object(W.c)(i),m={strokeColorNotSaved:X.a.color.black,strokeColorSaved:X.a.color.black,fillColorNotSaved:"none",fillColorSaved:X.a.color.black},u=Object(W.c)(i)?o:function(e){e.preventDefault();var i="nyt-save-".concat(n);Object(rn.f)(t,i),window.location.assign(d)},g=r||p;return l()(cn.a,{buttonClass:dn,childrenStyleClass:pn,svgStyleClass:mn,handleSave:g?null:function(e){a.trackEvent({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click"},module:{name:n,context:t.toString(),label:"Save these stories",region:c,element:{name:"login-to-save",label:"Save these stories",url:Object(W.c)(i)?"":d}}}),u(e)},saved:g,iconProps:m},void 0,g?"Stories saved":"Save these stories")};un.displayName="SaveButton",un.defaultProps={saveKey:void 0,stories:void 0,saved:!1,handleSave:function(){},meterCount:void 0};var gn=M()()(un);t("91GP"),t("Z2Ku"),t("L9s1");function fn(){var e=k()(['\n  query SignatureRecirculationQuery {\n    signature: legacyCollection(id: "/list/signature-journalism") {\n      ...RecirculationItem_fallback\n    }\n  }\n  ',"\n"]);return fn=function(){return e},e}var hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(function(e){return T()(e,"node.sourceId")&&!n.includes(e.node.sourceId)}).slice(3,6).map(function(e){if(e.trackingParams){var n=e.trackingParams.concat({key:"imp_id",value:Math.floor(1e9*Math.random())});return Object.assign({},e,{trackingParams:n})}return e})},bn=function(e){var n=e.articles,t=void 0===n?[]:n,i=e.trackingFunction,o=void 0===i?function(e){return e}:i;return 3===t.length&&I.a.createElement("div",{ref:function(e){o(e,t)},id:"recirc-editors-picks",className:Ke},l()("section",{className:Re},void 0,l()("h2",{className:Xe},void 0,l()("span",{className:Ge},void 0,"Editors’ Picks"))),l()("div",{className:Ve},void 0,t.map(function(e,n){return l()("div",{className:Object(z.cx)(He,Qe)},e.node.id,l()(Pe,{item:e.node,params:Object(xe.c)(e.trackingParams),index:n,section:"Signature"}))})))},vn=j()(fn(),Pe.fragments.fallback),yn=function(e){var n=e.articlesToDeduplicate,t=e.trackingFunction;return l()(S.Query,{fetchPolicy:"cache-first",query:vn,name:"data",ssr:!1},void 0,function(e){var i=e.data,o=e.loading,r=e.error;if(!i||o||r)return null;if(!i.signature||!i.signature.assets||!i.signature.assets.edges)return null;var a=i.signature.assets.edges;return l()(bn,{articles:hn(a,n),trackingFunction:t})})};yn.displayName="QueriedSignatureJournalismArticles";var xn,kn=function(e){var n=e.articles,t=void 0===n?[]:n,i=e.articlesToDeduplicate,o=void 0===i?[]:i,r=e.trackingFunction,a=hn(t,o);return 0===a.length?l()(yn,{articlesToDeduplicate:o,trackingFunction:r}):l()(bn,{articles:a,trackingFunction:r})};function wn(){var e=k()(["\n    query EditorsPicksQueryPersonalized(\n      $listUri: PersonalizedListUri!\n      $referrer: String\n      $originalReferrer: String\n      $deviceType: PersonalizationDeviceType!\n    ) {\n      list: lists {\n        editorsPicksList: personalizedList(\n          first: 10\n          listUri: $listUri\n          personalizedListContext: {\n            referrer: $referrer\n            originalReferrer: $originalReferrer\n            deviceType: $deviceType\n            appType: WEB\n          }\n        ) {\n          ...RecirculationItem_personalized\n        }\n      }\n    }\n    ","\n  "]);return wn=function(){return e},e}var In="nyt://per/personalized-list/home-featured",On=Object(S.graphql)(j()(wn(),Pe.fragments.personalized),{name:"dataPersonalized",options:function(){return{variables:{listUri:In,referrer:window.location.href||null,originalReferrer:document.referrer||null,deviceType:"desktop"===Object(te.a)()?"DESKTOP":"MOBILE"},ssr:!1,fetchPolicy:"cache-first"}}})(xn=M()()(xn=function(e){function n(){var e,t;p()(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=f()(this,(e=b()(n)).call.apply(e,[this].concat(o)))).editorsPicksAppearedInViewport=!1,t.setupEditorsPicksIntersectionObserver=function(e,n){t.observer&&(t.observer.disconnect(),t.observer=null);e&&(t.observer=new IntersectionObserver(function(e){!t.editorsPicksAppearedInViewport&&e&&e[0]&&e[0].isIntersecting&&(t.editorsPicksAppearedInViewport=!0,t.observer.disconnect(),t.observer=null,n.forEach(function(e,n){var i=Object(xe.c)(e.trackingParams),o={event:"impression",block:{template:"bottomRecirculationEditorsPicks",name:"editorsPicks",label:"Editors Picks",list:{uri:In}},card:{index:n,id:e.node.sourceId,url:"".concat(e.node.url,"?").concat(i&&i.map(function(e){return"".concat(e.key,"=").concat(e.value)}).join("&"))}};t.props.tracking.trackEvent(o)}))},{threshold:0}),t.observer.observe(e))},t}return y()(n,e),u()(n,[{key:"render",value:function(){var e=this.props,n=e.dataPersonalized,t=e.articlesToDeduplicate;if(!n||n.loading||n.error)return null;var i=T()(n,"list.editorsPicksList.edges");return i&&i.length?l()(kn,{articles:i,articlesToDeduplicate:t,trackingFunction:this.setupEditorsPicksIntersectionObserver}):null}}]),n}(w.Component))||xn)||xn;On.defaultProps={articlesToDeduplicate:[],dataPersonalized:void 0,data:void 0};var jn=On,Sn=t("W99u"),Nn=function(e){function n(){return p()(this,n),f()(this,b()(n).apply(this,arguments))}return y()(n,e),u()(n,[{key:"componentDidMount",value:function(){this.props.signalLonelyTrending&&this.props.signalLonelyTrending()}},{key:"render",value:function(){var e=this.props.edges;return l()("div",{id:"recirc-lonely-trending",className:Object(z.cx)(Be,Ye)},void 0,l()("div",{className:nn},void 0,l()("section",{className:Le},void 0,l()("h2",{className:Xe},void 0,l()("a",{href:"https://www.nytimes.com/trending/"},void 0,l()("span",{className:Ge},void 0,"Trending")))),l()("div",{className:Object(z.cx)(Ve,Ze)},void 0,e&&e.map(function(e,n){return n<6&&e.node?l()("div",{className:Object(z.cx)(Fe,en)},e.node.id,l()(Pe,{item:e.node,section:"Trending",index:n})):null}))))}}]),n}(w.Component);Nn.displayName="LonelyTrending",Nn.defaultProps={signalLonelyTrending:null,edges:[]};var Pn,Cn=Nn,Tn=t("SwM9"),zn=Object(z.css)("border-top:1px solid ",X.a.color.black,";display:none;font-family:",X.a.font.franklinBase,";font-size:",X.a.font.size(16),";font-weight:",X.a.font.weight.bold,";line-height:",X.a.font.size(22),";padding:15px;",X.a.breakpoint.medium,"{width:",Object(Tn.c)(4,30,12),";display:block;margin-left:30px;max-width:315px;padding-left:0;padding-right:0;}",X.a.breakpoint.extraLarge,"{max-width:320px;width:320px;}"),En=Object(z.css)("border-top:1px solid ",X.a.color.gray60,";list-style:none;margin-top:15px;"),Mn=Object(z.css)("border-bottom:1px solid ",X.a.color.gray60,";padding:15px 0;&:last-child{border-bottom:none;}"),_n=Object(z.css)("color:",X.a.color.gray10,";font-family:",X.a.font.serifMedium,";font-size:",X.a.font.size(18),";font-weight:",X.a.font.weight.medium,";line-height:",X.a.font.size(22),";",X.a.breakpoint.large,"{font-size:",X.a.font.size(19),";line-height:",X.a.font.size(23),";}&:hover{color:",X.a.color.gray30,";}");function Ln(){var e=k()(['\n    query TrendingQuery(\n      $numArticles: Int\n      $referrer: String\n      $originalReferrer: String\n      $deviceType: PersonalizationDeviceType!\n    ) {\n      lists {\n        trendingMostPopular: personalizedList(\n          first: $numArticles\n          listUri: "nyt://per/personalized-list/most-popular"\n          personalizedListContext: {\n            referrer: $referrer\n            originalReferrer: $originalReferrer\n            deviceType: $deviceType\n            appType: WEB\n          }\n        ) {\n          totalCount\n          edges {\n            ... on PersonalizedItemsEdge {\n              trackingParams {\n                key\n                value\n              }\n            }\n            node {\n              ...RecirculationItem_item\n            }\n          }\n        }\n      }\n    }\n    ',"\n  "]);return Ln=function(){return e},e}var Rn=M()({event:"impression",block:{name:"Trending",label:"Trending"}})(Pn=function(e){function n(){var e,t;p()(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=f()(this,(e=b()(n)).call.apply(e,[this].concat(o)))).setupIntersectionObserver=function(e,n){if(t.observer)return t.observer.disconnect(),void(t.observer=null);e&&(t.observer=new IntersectionObserver(function(e){!t.appearedInViewport&&e&&e[0]&&e[0].isIntersecting&&(t.appearedInViewport=!0,t.observer.disconnect(),t.observer=null,n.forEach(function(e,n){var i=Object(xe.c)(e.trackingParams),o={card:{index:n,id:e.node.sourceId,url:"".concat(e.node.url,"?").concat(i&&i.map(function(e){return"".concat(e.key,"=").concat(e.value)}).join("&"))}};t.props.tracking.trackEvent(o)}))},{threshold:0}),t.observer.observe(e))},t}return y()(n,e),u()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.data.lists,i=n.renderAsItem,o=n.signalLonelyTrending;if(!t)return null;var r=t.trendingMostPopular,a=void 0===r?{}:r,c=a&&a.edges;return c&&0!==c.length?(c=c.map(function(e){var n=e.trackingParams||[];return n=n.concat({key:"imp_id",value:Math.floor(1e9*Math.random())}),Object.assign({},e,{trackingParams:n})}),i?l()(Cn,{edges:c,signalLonelyTrending:o}):I.a.createElement("div",{id:"recirc-trending",className:zn,ref:function(n){e.setupIntersectionObserver(n,c)}},"Most Popular",l()("ul",{className:En},void 0,c.map(function(e){if(e.node&&e.node.headline&&e.node.headline.default){var n=Object(xe.d)(e.node)?"Opinion: ".concat(e.node.headline.default):e.node.headline.default;return l()("li",{className:Mn},e.node.id,l()(q.a,{link:e.node,className:_n,search:"?".concat(e.trackingParams?Object(xe.c)(e.trackingParams,"trending").map(function(e){return"".concat(e.key,"=").concat(e.value)}).join("&"):"")},void 0,n))}return null})))):null}}]),n}(w.Component))||Pn;Rn.defaultProps={signalLonelyTrending:null,renderAsItem:!1,data:{}};var An=Object(S.graphql)(j()(Ln(),Pe.fragments.item),{options:{variables:{numArticles:10,referrer:window.location.href||null,originalReferrer:document.referrer||null,deviceType:"desktop"===Object(te.a)()?"DESKTOP":"MOBILE"},ssr:!1,fetchPolicy:"cache-first"}})(Rn),Bn=(t("jm62"),t("ioFf"),t("rGqo"),t("yt8O"),t("RW0V"),t("Vd3H"),t("RIqP")),Un=t.n(Bn);function Dn(e){for(var n=1;n<arguments.length;n++)if(n%2){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(n){r()(e,n,t[n])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[n]));return e}var Wn,$n,Fn,Hn,qn,Kn=function(e,n){for(var t=Un()(e),i=t.length-1;i>=0;i-=1)t[i].node&&t[i].node.sourceId===n&&t.splice(i,1);return t};function Vn(){var e=k()(["\n    query RecirculationQuery($ids: [ID!]!, $url: String!) {\n      anyWork(id: $url) {\n        ... on Article {\n          followChannels {\n            name\n            uri\n          }\n        }\n        ... on Interactive {\n          followChannels {\n            name\n            uri\n          }\n        }\n      }\n      collections: anyWorks(ids: $ids) {\n        ... on Node {\n          id\n        }\n        ... on LegacyCollection {\n          id\n          collectionType\n          tagline\n          type\n          name\n          url\n          uri\n          assets(first: 10) {\n            totalCount\n            edges {\n              cursor\n              node {\n                __typename\n                ... on Node {\n                  id\n                  ...RecirculationItem_item\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    ","\n  "]);return Vn=function(){return e},e}var Qn=l()(An,{}),Xn=(Wn=Object(S.graphql)(j()(Vn(),Pe.fragments.item),{options:function(e){var n=e.collectionUris,t={variables:{url:e.url||"",ids:n},ssr:!1,fetchPolicy:"cache-first",partialRefetch:!0};return t}}),$n=M()(),Wn(Fn=Object(R.a)(Fn=Object(L.a)(Fn=$n(Fn=Object($.a)(Fn=Object(A.a)((qn=Hn=function(e){function n(){var e,t;p()(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=f()(this,(e=b()(n)).call.apply(e,[this].concat(o)))).scrollSectionListener=P()(function(){t.trackElement("section")},100),t.scrollCollectionListener=P()(function(){t.trackElement("collection")},100),t.showSaveButton=!1,t.trackSaveButtonImpression=function(e){t.props.tracking.trackEvent({event:"impression",module:{name:e,label:"Save these stories",region:t.props.pageCount.toString()}})},t.trackSaveButtonExposure=function(){(t.sectionSeen||t.collectionSeen)&&Object(D.b)("FREEX_Multi_Save")&&Object(D.e)("FREEX_Multi_Save")},t.trackElement=function(e){if(void 0!==t.sectionTracking&&void 0!==t.collectionTracking){var n="section"===e?t.sectionTracking.list.uri:t.collectionTracking.list.uri,i=t[n];i&&i.offsetTop<window.pageYOffset+window.innerHeight&&("section"===e?t.sectionSeen||(t.sectionSeen=!0,t.props.tracking.trackEvent({event:"impression",block:t.sectionTracking}),t.showSaveButton&&t.trackSaveButtonImpression("morein")):"collection"===e&&(t.collectionSeen||(t.collectionSeen=!0,t.props.tracking.trackEvent({event:"impression",block:t.collectionTracking}),t.showSaveButton&&t.trackSaveButtonImpression("collections"))),t.trackSaveButtonExposure())}},t}return y()(n,e),u()(n,[{key:"componentDidMount",value:function(){window.matchMedia("(min-width: ".concat(_.a.BREAKPOINT_ML,"px)")).matches?this.paidPostIndex=2:window.matchMedia("(min-width: ".concat(_.a.BREAKPOINT_S,"px)")).matches?this.paidPostIndex=1:this.paidPostIndex=2,this.sectionSeen=!1,this.trackElement("section"),window.addEventListener("scroll",this.scrollSectionListener),this.collectionSeen=!1,this.trackElement("collection"),window.addEventListener("scroll",this.scrollCollectionListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollSectionListener),window.removeEventListener("scroll",this.scrollCollectionListener),this.observer&&(this.observer.disconnect(),this.observer=null)}},{key:"render",value:function(){var e=this,n=this.props,t=n.data,i=t.loading,o=t.error,a=t.article,s=t.collections,d=n.user,p=n.recircSectionUrl,m=n.recircSectionUri,u=n.recircSectionName,g=n.articleId,f=n.adData,h=n.signalLonelyTrending,b=n.url;if(o||i&&!s)return null;var v=function(e,n,t,i){for(var o=Un()(e),r=null,a=0;a<o.length;a+=1)if(((r=o[a]).url===n||r.name.toLowerCase()===t.toLowerCase())&&"SECTION"===r.collectionType&&r.assets)return{articleData:Kn(r.assets.edges,i),sectionName:r.name,sectionUrl:r.url};for(var c=0;c<o.length;c+=1)if("SECTION"===(r=o[c]).collectionType&&r.assets)return{articleData:Kn(r.assets.edges,i),sectionName:r.name,sectionUrl:r.url};return{articleData:null,sectionName:null,sectionUrl:null}}(s,p,u,g),y=v.articleData,x=v.sectionName,k=v.sectionUrl,w=function(e,n){for(var t=[{name:"SERIES",priority:1},{name:"NEWS_EVENT",priority:2},{name:"SPOTLIGHT",priority:3},{name:"COLUMN",priority:4},{name:"ISSUE",priority:5}],i=[],o=0;o<e.length;o+=1)for(var r=e[o].collectionType,a=0;a<t.length;a+=1)t[a].name===r&&i.push(Dn({},e[o],{priority:t[a].priority}));i.sort(function(e,n){return e.priority-n.priority});var c=i[0];if(c&&c.assets&&c.assets.edges){for(var s={},l=0;l<3;l+=1)c.assets.edges[l]&&c.assets.edges[l].node&&c.assets.edges[l].node.sourceId&&(s[c.assets.edges[l].node.sourceId]=!0);return{collectionArticles:Kn(c.assets.edges,n),collectionName:c.name,collectionUrl:c.url,collectionTagline:c.tagline,collectionArticleIds:s,collectionUri:c.uri}}return{collectionArticles:null,collectionName:null,collectionUrl:null,collectionTagline:null,collectionArticleIds:{},collectionUri:null}}(s,g),O=w.collectionArticles,j=w.collectionName,S=w.collectionUrl,N=w.collectionTagline,P=w.collectionArticleIds,C=w.collectionUri,E=function(e,n){if(!e)return e;for(var t=Un()(e),i=t.length-1;i>=0;i-=1)n&&t[i]&&t[i].node&&t[i].node.sourceId in n&&t.splice(i,1);return t}(y,P);if(!T()(y,"length")){return l()(An,{renderAsItem:!0,signalLonelyTrending:h})}var M={label:"Recirculation Collection",template:"Recirculation",name:j,index:0,version:"",region:"tbd",list:{uri:C}},_={label:"Recirculation Section/Subsection",template:"Recirculation",name:u,index:0,version:"",region:"tbd",list:{uri:m}};this.sectionTracking=_,this.collectionTracking=M;var L=this.collectionTracking.list.uri,R=this.sectionTracking.list.uri,A=E.map(function(n,t){if(t===e.paidPostIndex){var i=l()(Pe,{item:n.node,index:t,section:"MoreIn",replacesAd:!0,blockTracking:M});return l()("div",{className:Object(z.cx)(He,qe)},n.node.id,I.a.createElement(Sn.a,c()({},f,{id:"pp_morein",moreInCard:i})))}return n.node?l()("div",{className:He},n.node.id,l()(Pe,{item:n.node,index:t,section:"MoreIn",blockTracking:M})):null}).slice(0,6),$=[];O&&E?$=E.concat(O).map(function(e){return e&&e.node&&e.node.sourceId}):E&&($=E.map(function(e){return e&&e.node&&e.node.sourceId})),$.push(g),this.showSaveButton=Object(D.c)("FREEX_Multi_Save","1_Save")&&!Object(W.d)(d);var H=T()(a,"followChannels[0].uri"),q=O&&O.length>2;return!q&&H&&Object(D.e)("STORY_topical_recirc"),l()("div",{"data-testid":"recirculation",className:Be},void 0,l()("div",{className:De},void 0,q?I.a.createElement("div",{ref:function(n){e[L]=n},id:"recirc-associated-collection"},l()("section",{className:Object(z.cx)(Re,r()({},Ae,!N))},void 0,l()("h2",{className:Xe},void 0,l()("a",{href:S},void 0,l()("span",{className:Ge},void 0,j))),this.showSaveButton&&l()(F.a,{urlSet:O.slice(0,3).map(function(e){return e&&e.node&&e.node.url})},void 0,l()(gn,{meterCount:this.props.pageCount.toString(),user:d,saveKey:"collections",stories:O.slice(0,3).map(function(e){return e&&e.node&&e.node.url})}))),N&&l()("span",{className:Je,dangerouslySetInnerHTML:{__html:N}}),l()("div",{className:We},void 0,O.map(function(e,n){return e&&e.node&&e.node.id&&n<3?l()("div",{className:$e},e.node.id,l()(Pe,{item:e.node,index:n,section:"Collection",blockTracking:M})):null}))):H&&Object(D.c)("STORY_topical_recirc","1_variant")&&l()(on,{followChannelUri:H,articleUrl:b}),A&&A.length>0&&I.a.createElement("div",{ref:function(n){e[R]=n},id:"recirc-more-in",className:Ke},l()("section",{className:Re},void 0,l()("h2",{className:Xe},void 0,l()("a",{href:k},void 0,l()("span",{className:Ge},void 0,"More in ",x))),this.showSaveButton&&l()(F.a,{urlSet:E.slice(0,6).map(function(e){return e&&e.node&&e.node.url})},void 0,l()(gn,{meterCount:this.props.pageCount.toString(),user:d,saveKey:"morein",stories:E.slice(0,6).map(function(e){return e&&e.node&&e.node.url})}))),l()("div",{className:Ve},void 0,A)),U.personalizationEnabled&&l()(B.a,{offset:1200},void 0,l()(jn,{articlesToDeduplicate:$}))),Qn)}}]),n}(w.Component),Hn.defaultProps={user:void 0,articleId:void 0,adData:{},url:"",recirculation:{},recircSectionUrl:void 0,recircSectionUri:void 0,recircSectionName:void 0,signalLonelyTrending:void 0,pageCount:void 0},Fn=qn))||Fn)||Fn)||Fn)||Fn)||Fn)||Fn);n.default=Xn},QNJC:function(e,n,t){"use strict";var i=t("d8k4");t("iRoE"),t("rjlW");n.a=i.a}}]);
//# sourceMappingURL=recirculation-ce4b550dbade3a7d792d.js.map