self.System=self.System||(()=>{const e={},t={},s=e=>e.replace(/^.\/(\w+)-[a-f0-9]{8,}.js$/,"./$1.js"),o={register(n,a){const c=s(`./${((document.currentScript||{}).src||"").split("?").shift().split("/").pop()}`),r={},i=a((e,t)=>t?r[e]=t:Object.assign(r,e),o);e[c]=Promise.all(n.map((e,t)=>o.import(s(e)).then(i.setters[t]))).then(()=>(i.execute(),r)).catch(e=>{throw e.message=`evaluating module ${c}: ${e.message}`,e}),t[c]&&(t[c](e[c]),delete t[c])},import:s=>e[s]||(e[s]=new Promise((e,o)=>{const n=setTimeout(()=>{o(new Error(`could not resolve ${s}`))},1e4);t[s]=(t=>{clearTimeout(n),e(t)})}))};return o})(),System.register(["./frameworks-e1e8de5c.js"],function(e,t){"use strict";var s,o,n,a,c,r,i,u,l,d,m,p,g,f,j,h,b,y,L,v,k,w,T,q,E;return{setters:[function(e){s=e.e,o=e.b,n=e.d,a=e.t,c=e.r,r=e.i,i=e.p,u=e.g,l=e.f,d=e.m,m=e.u,p=e.v,g=e.w,f=e.x,j=e.o,h=e.y,b=e.z,y=e.A,L=e.B,v=e.C,k=e.D,w=e.E,T=e.F,q=e.G,E=e.H}],execute:function(){function e(e,t){for(const s of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))s.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}async function t(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let s;try{s=await d(document,t),e.innerHTML="",e.append(s)}catch(o){window.location.reload()}}function H(e,t){const s=o(t,".js-repo-access-error");s.textContent=e,s.classList.remove("d-none")}function S(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}function M(e){const t=e.querySelectorAll(".js-repo-access-entry").length;e.classList.toggle("is-empty",0===t);const s=e.querySelector(".js-collab-limit");if(s){const n=parseInt(s.getAttribute("data-collab-limit"),10),a=o(e,".js-over-limit",HTMLElement),c=o(e,".js-under-limit",HTMLElement);a.classList.toggle("d-none",t<n),c.classList.toggle("d-none",t>=n)}}async function A(e,t){S();const s=(await t.json()).json;let n;const c=u(e,".js-repo-access-group");n="collaborators"===c.id?c.querySelector(".js-repo-access-list-invites"):c.querySelector(".js-repo-access-list");const r=e.querySelector(".js-add-repo-access-field");if(r instanceof HTMLInputElement){const e=r.value;r.value="","teams"===c.id&&function(e){const t=document.querySelector(".js-repo-access-team-select");if(t){let s=0;for(const o of t.querySelectorAll(".js-repo-access-team-select-option"))e===o.getAttribute("data-team-id")&&(o.hidden=!0),o.hidden||s++;0===s&&u(t,".js-repo-access-group").classList.add("no-form")}}(e)}if(s.error)return s.error.requires_license?void m({content:p(document,s.html)}):void H(s.error,c);if(function(){const e=document.getElementById("collaborators");e&&(o(e,".js-add-new-collab",HTMLButtonElement).disabled=!0)}(),function(){const e=document.querySelector("#teams .js-add-new-collab");e instanceof HTMLButtonElement&&(e.disabled=!0)}(),I(),n){n.insertAdjacentHTML("beforeend",s.html);const e=a(n,".js-repo-access-entry");o(e[e.length-1],"a").focus()}if(M(c),s.seats||0===s.seats){const e=1===s.seats?"seat":"seats",t=document.getElementById("available-seats");t&&(t.innerHTML=`${s.seats} ${e}`)}}s(".js-email-global-unsubscribe-form",function(e){o(e,".js-email-global-unsubscribe-submit",HTMLInputElement).disabled=!0}),n("change",".js-email-global-unsubscribe-form",function(e){const t=e.currentTarget,s=o(t,".js-email-global-unsubscribe-submit",HTMLInputElement),n=a(t,".js-email-global-unsubscribe",HTMLInputElement),c=Array.from(n).some(e=>e.checked!==e.defaultChecked);s.disabled=!c}),c(".js-email-unsubscribe-form",async function(e,t){await t.text();for(const s of document.querySelectorAll(".js-email-unsubscribe-message"))s.hidden=!s.hidden}),c(".js-setting-toggle",async function(t,s){const n=o(t,".js-status-indicator");e(n,"status-indicator-loading");try{await s.text(),e(n,"status-indicator-success")}catch(a){e(n,"status-indicator-failed")}}),n("change",".js-toggle-email-settings input",function(){const e=o(document,".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)}),n("change",".js-toggle-ci-failures-only-setting input",function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=o(document,".js-ci-failures-only-settings input",HTMLInputElement),s=t.closest("label");s&&s.classList.toggle("text-gray-light",!e),e||(t.checked=!1),t.disabled=!e}),c(".js-revoke-access-form",async function(e,t){await t.html();const s=r(e,"data-id"),n=r(e,"data-type-name"),a=o(document,`.js-revoke-item[data-type='${n}'][data-id='${s}']`);a.remove(),a.classList.contains("new-token")&&o(document,".js-flash-new-token").remove()}),n("click",".js-delete-oauth-application-image",function(){const e=o(document,".js-delete-oauth-application-image-form",HTMLFormElement);i(e)}),n("click",".js-new-callback",function(e){e.preventDefault();const t=e.currentTarget,s=u(t,".js-callback-urls"),n=o(s,".js-callback-url").cloneNode(!0);n.classList.remove("is-default-callback"),o(n,"input",HTMLInputElement).value="",s.classList.add("has-many");const a=t.parentNode;l(a instanceof HTMLElement,"app/assets/modules/github/settings/oauth-apps.js:43"),a.insertBefore(n,t)}),n("click",".js-delete-callback",function(e){e.preventDefault();const t=e.currentTarget;u(t,".js-callback-url").remove();const s=u(t,".js-callback-urls");a(s,".js-callback-url",HTMLElement).length<=1&&s.classList.remove("has-many")}),n("click",".js-oauth-application-whitelist .js-deny-this-request",function(e){const t=e.currentTarget,s=t.nextElementSibling;l(s instanceof HTMLInputElement,"app/assets/modules/github/settings/oauth-apps.js:65"),s.value="denied",i(u(t,".js-org-application-access-form",HTMLFormElement))}),n("click",".js-generate-integration-key",function(){const e=o(document,".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout(function(){const e=o(document,".js-integration-keys-container",HTMLElement);e&&t(e)},1e3))}),c(".js-remove-integration-key",async function(e,s){try{await s.text()}catch(c){if(!c.response)throw c;u(e,"details").removeAttribute("open");const t=o(document,".js-integration-key-management-wrapper"),s=o(t,".js-error-container"),n=o(s,".js-error-message");switch(c.response.status){case 500:n.textContent="Oops, something went wrong.";break;case 404:n.textContent="Oops, that key could not be found.";break;default:n.textContent=c.response.json.message}return void t.classList.add("error")}const n=r(e,"data-key-id"),a=document.getElementById(n);if(a){const e=u(a,".js-integration-keys-container",HTMLElement);e&&t(e)}}),n("click",".js-error-dismiss",function(){const e=o(document,".js-integration-keys-container",HTMLElement);e&&t(e)}),n("change",".js-checkbox-scope",function(e){const t=e.currentTarget;l(t instanceof HTMLInputElement,"app/assets/modules/github/settings/oauth-apps.js:149");const s=u(t,".js-check-scope-container"),o=a(s,".js-checkbox-scope",HTMLInputElement);for(const n of o)n!==t&&(n.checked=t.checked,n.disabled=t.checked)}),n("change","[data-check-related-scopes]",function(e){const t=e.currentTarget;l(t instanceof HTMLInputElement,"app/assets/modules/github/settings/oauth-apps.js:165");const s=r(t,"data-check-related-scopes").split(" ");for(const o of s){const e=a(document,`[data-scope-for="${o}"] .js-checkbox-scope`,HTMLInputElement);for(const s of e)s.checked=t.checked,s.value!==o&&(s.disabled=t.checked)}});const I=()=>{const e=document.querySelector(".js-repo-filled-seats"),t=document.querySelector(".js-repo-access-progress");if(!e||!t)return;const s=e.getAttribute("data-filled-seats"),o=e.getAttribute("data-seats");if(!s||!o)return;const n=parseInt(s)+1,a=parseFloat(o);e.textContent=n.toString(),e.setAttribute("data-filled-seats",n.toString()),t.style.width=`${n/a*100}%`};function x(e){const t=o(e,".js-authorized-pushers");if(!t.getAttribute("data-limit"))return;const s=parseInt(t.getAttribute("data-limit")),n=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",n>=s)}function $(){return o(document,".js-add-u2f-registration-form",HTMLFormElement)}function C(e){return JSON.parse(r($(),e))}function F(e,t){$().setAttribute(e,JSON.stringify(t))}function z(e){e.register_requests&&F("data-register-requests",e.register_requests),e.sign_requests&&F("data-sign-requests",e.sign_requests),e.webauthn_register_request&&F("data-webauthn-register-request",e.webauthn_register_request)}function B(e,t){const s=o(document,".js-new-u2f-registration");s.classList.add("is-showing-error"),s.classList.remove("is-sending");for(const o of s.querySelectorAll(".js-u2f-message"))o.hidden=!0;const n=o(s,e);t&&(n.textContent=t),n.hidden=!1}async function _(e){if(!(await k("high")))throw new Error("sudo failed");const t=o(document,".js-add-u2f-registration-form",HTMLFormElement);w(t,"response").value=JSON.stringify(e);try{const e=await T(t.action,{method:t.method,body:new FormData(t)});z(e),o(document,".js-new-u2f-registration").classList.remove("is-sending","is-active"),o(document,".js-u2f-registration-nickname-field",HTMLInputElement).value="";const n=e.registration;n&&o(document,".js-u2f-registrations").append(p(document,n))}catch(s){if(s.response){const e=await s.response.json();z(e),B(".js-u2f-server-error",e.error)}else B(".js-u2f-network-error")}}function D(){const e=o(document,".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}n("details-menu-selected",".js-repo-access-team-select-menu",function(e){l(e instanceof CustomEvent,"app/assets/modules/github/settings/repository-collabs.js:175");const t=e.detail.relatedTarget,s=t.getAttribute("data-team-id")||"",n=o(u(t,".js-repo-access-group"),".js-add-repo-access-field",HTMLInputElement);n.value=s,l(n.form,"app/assets/modules/github/settings/repository-collabs.js:180"),i(n.form)},{capture:!0}),c(".js-add-repo-access-form-with-license",async function(e,t){const s=document.querySelector('.js-add-repo-access-form[data-for="collaborators"]');s&&A(s,t)}),c(".js-add-repo-access-form",A),c(".js-remove-repo-access-form",async function(e,t){if(e.hasAttribute("data-skip-remote"))return;try{await t.text()}catch(n){return void H(e.getAttribute("data-error-message")||"",u(e,".js-repo-access-group"))}S();const s=u(e,".js-repo-access-entry"),o=u(e,".js-repo-access-group");"teams"===o.id&&function(e){const t=document.querySelector(".js-repo-access-team-select");if(t){const s=t.querySelector(`[data-team-id='${e}']`);s&&(s.hidden=!1),u(t,".js-repo-access-group").classList.remove("no-form")}}(s.getAttribute("data-team-id")||""),s.remove(),M(o)}),n("change","input.js-repo-data-opt-in",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-options.js:17");const t=u(e,".js-repo-data-services"),s=e.checked;for(const o of t.querySelectorAll(".js-repo-data-options"))o.classList.toggle("active",s);for(const o of t.querySelectorAll(".js-repo-data-option"))o.toggleAttribute("disabled",!s),s&&o.removeAttribute("checked")}),n("change",".js-repo-features-form input[type=checkbox]",function({currentTarget:e}){const t=u(e,".js-repo-option"),s=o(t,".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")}),n("change",".js-repo-actions-settings input[type=radio]",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-options.js:42");const t=e.form;l(t,"app/assets/modules/github/settings/repository-options.js:45");for(const o of t.querySelectorAll(".js-actions-status-indicator"))o.classList.remove("status-indicator-success","status-indicator-failed","status-indicator-loading");const s=u(e,".js-actions-option"),n=o(s,".js-actions-status-indicator");n.classList.remove("status-indicator-success","status-indicator-failed"),n.classList.add("status-indicator-loading")}),n("click",".js-used-by-selector-button",function({currentTarget:e}){const t=u(e,".js-used-by-selector"),s=o(t,".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")}),c(".js-repo-features-form",async function(e,t){let s;try{s=await t.html()}catch(n){for(const t of a(e,".status-indicator-loading")){t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-failed");const e=u(t,".js-repo-option"),s=o(e,"input[type=checkbox]",HTMLInputElement);s.checked=!s.checked}return}for(const o of a(e,".status-indicator-loading"))o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-success");o(document,".js-repo-nav").replaceWith(s.html)}),n("change",".js-merge-features-form input[type=checkbox]",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-options.js:88");const t=e.form;l(t,"app/assets/modules/github/settings/repository-options.js:91");for(const o of t.querySelectorAll(".errored"))o.classList.remove("errored");const s=u(e,".js-repo-option"),n=o(s,".js-status-indicator");n.classList.remove("status-indicator-success","status-indicator-failed"),n.classList.add("status-indicator-loading")}),c(".js-merge-features-form",async function(e,t){try{await t.text()}catch(s){for(const t of e.querySelectorAll(".js-select-one-warning"))t.classList.remove("d-none");for(const t of e.querySelectorAll(".status-indicator-loading")){t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-failed");const e=u(t,".js-repo-option");e.classList.add("errored");const s=o(e,"input[type=checkbox]",HTMLInputElement);s.checked=!s.checked}for(const t of e.querySelectorAll(".status-indicator-success"))t.classList.remove("status-indicator-success");return}for(const o of e.querySelectorAll(".errored"))o.classList.remove("errored");for(const o of e.querySelectorAll(".js-select-one-warning"))o.classList.add("d-none");for(const o of e.querySelectorAll(".status-indicator-loading"))o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-success")}),n("change","input.js-required-status-toggle",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-options.js:152");const t=u(e,".js-protected-branch-settings");o(t,".js-required-statuses").classList.toggle("d-none",!e.checked)}),n("change","input.js-required-status-checkbox",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-options.js:160");const t=u(e,".js-protected-branches-item");o(t,".js-required-status-badge").classList.toggle("d-none",!e.checked)}),n("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-options.js:171");const t=u(e,".js-protected-branch-options"),s=o(t,".js-authorized-pushers");s.classList.toggle("d-none",!e.checked),o(s,".js-add-protected-branch-user-or-team input",HTMLInputElement).focus()}),n("change",".js-protected-branch-include-admin-toggle",function({currentTarget:e}){const t=u(e,".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const s of t)s.classList.toggle("d-none"),s.classList.toggle("active",!s.classList.contains("d-none"))}),n("auto-complete-change",".js-add-protected-branch-user-or-team",async function({target:e}){l(e instanceof g,"app/assets/modules/github/settings/repository-options.js:203");const t=e.value;if(!t)return;e.value="";const s=u(e,".js-protected-branch-options"),n=o(s,".js-authorized-users-and-teams"),a=n.querySelector(`div[data-user-or-team-name='${t}']`);if(a)return void o(a,".js-protected-branch-pusher").classList.add("user-already-added");const c=r(e,"data-add-url"),i=new URL(c,window.location.origin),m=new URLSearchParams(i.search.slice(1));m.append("item",t),i.search=m.toString(),n.append(await d(document,i)),x(s)}),n("click",".js-remove-authorized-user-or-team",function({currentTarget:e}){const t=u(e,".js-protected-branch-options");u(e,".js-authorized-user-or-team").remove(),x(t)}),s("#pages-cname-field",{constructor:HTMLInputElement,add(e){f(e,function(){o(document,".js-pages-cname-save-btn",HTMLButtonElement).disabled=e.value===e.defaultValue})}}),s(".js-pages-https-status-form",{constructor:HTMLFormElement,add(e){const t=new Request(e.action,{method:e.method,body:new FormData(e)});(async()=>{try{const o=await d(document,t);e.replaceWith(o)}catch(s){if(!s.response||404!==s.response.status)throw s}})()}}),n("click",".js-repo-team-suggestions-view-all",async function(e){const t=u(e.currentTarget,"ul"),s=r(e.currentTarget,"data-url"),n=a(document,".js-repo-toggle-team:checked",HTMLInputElement).map(e=>e.value),c=await d(document,s);t.innerHTML="",t.append(c);for(const a of n)o(t,`.js-repo-toggle-team[value="${a}"]`,HTMLInputElement).checked=!0}),j(".js-synced-repo-owner-input",function(e){const t=e.target;l(t instanceof HTMLInputElement,"app/assets/modules/github/settings/repository-settings.js:25");const s=t.getAttribute("data-sync");if(!s)return;const o=document.querySelectorAll(`[data-sync-with="${s}"]`);for(const n of o)n.textContent=t.value}),c(".js-saved-reply-delete",async function(e,t){await t.text();const s=e.closest(".js-saved-reply-container");l(s,"app/assets/modules/github/settings/saved-replies.js:10");const o=s.querySelectorAll(".js-saved-reply-list-item").length;s.classList.toggle("has-replies",o>1);const n=e.closest(".js-saved-reply-list-item");l(n,"app/assets/modules/github/settings/saved-replies.js:16"),n.remove()}),c(".js-u2f-registration-delete",async function(e,t){const s=u(e,".js-u2f-registration");s.classList.add("is-sending"),z((await t.json()).json),s.remove()}),n("click",".js-add-u2f-registration-link",function(){const e=o(document,".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),o(document,".js-u2f-registration-nickname-field",HTMLInputElement).focus()});const N=".js-u2f-other-error",O={NotAllowedError:".js-u2f-timeout-error"},J={4:".js-u2f-registered-error",5:".js-u2f-timeout-error"};function P(e,t){B(t),q.report(e)}function R(){b()?async function(){try{D();const t=L();l(t,"waitForWebauthnDevice() requires webauthn support -- app/assets/modules/github/settings/security-keys.js:207");const s=C("data-webauthn-register-request"),o=await v(s);await _(o)}catch(e){P(e,O[e.code]||N)}}():async function(){try{D();const t=await y(r($(),"data-app-id"),C("data-register-requests")||[],C("data-sign-requests")||[]);await _(t)}catch(e){P(e,J[e.code]||N)}}()}function W(e,t){o(e,".js-add-new-blocked-user",HTMLButtonElement).disabled=!t}n("click",".js-u2f-register-retry",function(){R()}),n("submit",".js-add-u2f-registration-form",function(e){e.preventDefault(),R()}),s(".js-u2f-box",function(e){e.classList.toggle("available",h())}),s(".js-block-users-form",function(e){W(e,!1)}),c(".js-block-users-form",async function(e,t){const s=await t.html(),n=o(document,".js-user-block-settings-list"),a=o(n,".js-blocked-list"),c=o(n,".js-user-block-blank-slate");W(e,!1);const r=o(e,".js-add-blocked-user-field",HTMLInputElement);E(r,""),c.hidden=!0,a.hidden=!1,a.prepend(s.html)}),n("auto-complete-change",".js-add-blocked-user-completer",function({target:e}){l(e instanceof g,"app/assets/modules/github/settings/user-blocks.js:39"),W(u(e,".js-block-users-form"),!!e.value)}),c(".js-user-sessions-revoke",async function(e,t){await t.text();const s=u(e,".js-user-sessions-container");if(u(e,".js-user-session").remove(),s){const e=s.querySelectorAll(".js-user-session").length;s.classList.toggle("has-active-sessions",e>0)}}),c(".js-verify-ssh-key",async function(e,t){await t.html();const s=u(e,"li");o(s,".js-unverified-user-key-notice").remove(),o(s,".js-user-key-icon").classList.remove("unverified-user-key"),e.remove()}),c(".js-leave-collaborated-repo",async function(e,t){await t.html();const s=r(e,"data-repo-id"),n=r(e,"data-owner-id");o(document,`.js-collab-repo[data-repo-id='${s}']`).remove(),document.querySelector(".js-collab-repo")||(o(document,".js-collaborated-repos-empty").hidden=!1,o(document,".js-collaborated-repos").hidden=!0);const a=document.querySelector(`.js-collab-repo-owner[data-owner-id='${n}']`);a&&(a.querySelector(".js-collab-repo")||a.remove())}),n("change",".js-notification-restrictions-confirmation-needed",function({currentTarget:e}){l(e instanceof HTMLInputElement,"app/assets/modules/github/settings/verified-domains.js:10"),o(document,".js-notification-restrictions-confirm-modal").classList.toggle("d-none",!e.checked),o(document,".js-notification-restrictions-save").classList.toggle("d-none",e.checked)})}}});
//# sourceMappingURL=settings-bootstrap-a7286dc6.js.map
