!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){var r=n(1),a=r.TYPE.ARRAY,i=r.TYPE.STRING,o=r.TYPE.FUNC,s=r.TYPE.NUM,d=r.TYPE.OBJ,c=Object.prototype.hasOwnProperty,u=!1,l=r.DEBUG.DEBUG_MODE,g=r.OBJECT_TYPE.UNDEFINED,f=r.CONTENT_SOURCE.RTB,p=r.CONTENT_SOURCE.CSM,m=r.CONTENT_SOURCE.SSM,v=null;try{v="object"==typeof console.info?console.info:console.info.bind(window.console)}catch(e){}t.addEventHandler=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},t.removeEventHandler=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},t.isA=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},t.isObj=function(e){return this.isA(e,d)},t.isFn=function(e){return this.isA(e,o)},t.isStr=function(e){return this.isA(e,i)},t.isArray=function(e){return this.isA(e,a)},t.isNumber=function(e){return this.isA(e,s)},t.isEmpty=function(e){if(!e)return!0;if(this.isArray(e)||this.isStr(e))return 0===e.length;for(var t in e)if(c.call(e,t))return!1;return!0},t.logMessage=function(e){if(this.debugTurnedOn()&&h()){var t=E(),n=y()?"SAFEFRAME MESSAGE: ":"MESSAGE: ";console.log(t+n+e)}},t.logWarn=function(e){if(this.debugTurnedOn()&&h()){var t=E(),n=y()?"SAFEFRAME WARN: ":"WARN: ";console.warn?console.warn(t+n+e):console.log(t+n+e)}},t.logError=function(e,t){if(this.debugTurnedOn()&&h()){var n=t||"GENERAL_ERROR",r=E(),a=y()?"SAFEFRAME ":"";console.error?console.error(r+a+n+": "+e):console.log(r+a+n+": "+e)}},t.logTimestamp=function(e){this.debugTurnedOn()&&h()&&console.timeStamp&&console.timeStamp(e)},t.logInfo=function(e,t){if(this.debugTurnedOn()&&h()){var n=E();if(v){t&&0!==t.length||(t="");var r=y()?"SAFEFRAME INFO: ":"INFO: ";v(n+r+e+(""===t?"":" : params : "),t)}}},t.loadScript=function(e,t,n){var r=e.document,a=r.createElement("script");a.type="text/javascript",a.async=!0,n&&"function"==typeof n&&(a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,n())}:a.onload=function(){n()}),a.src=t;var i=r.getElementsByTagName("head");return(i=i.length?i:r.getElementsByTagName("body")).length&&(i=i[0]).insertBefore(a,i.firstChild),a},t.getUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},t.loadPixelUrl=function(e,t,n){var r=void 0;if(n="anx_"+n+(new Date).getTime(),e&&t){(r=new Image).id=n,r.src=t,r.height=0,r.width=0,r.style.display="none",r.onload=function(){try{this.parentNode.removeChild(this)}catch(e){}};try{e.insertBefore(r,e.firstChild)}catch(e){this.logError("Error logging impression for tag: "+n+" :"+e.message)}}},t._each=function(e,t){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(t);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)c.call(e,n)&&t(e[n],n,e)}},t.contains=function(e,t){if(this.isEmpty(e))return!1;for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};var h=function(){return window.console&&window.console.log};t.debugTurnedOn=function(){return!!y()||(this.getWindow().apntag=this.getWindow().apntag||{},apntag&&!1===apntag.debug&&!1===u&&(apntag.debug="TRUE"===this.getParameterByName(l).toUpperCase(),u=!0),!(!apntag||!apntag.debug))},t.stringContains=function(e,t){return!!e&&-1!==e.indexOf(t)},t.getSearchQuery=function(){try{return window.top.location.search}catch(e){try{return window.location.search}catch(e){return""}}},t.getParameterByName=function(e,t){var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t||this.getSearchQuery());return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},t.hasOwn=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):typeof e[t]!==g&&e.constructor.prototype[t]!==e[t]};var E=function(){var e=new Date;return"["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"] "};function y(){return!(typeof $sf===g||!$sf.ext)&&!!$sf.ext.debug}t.getTargetArrayforRefresh=function(e){var t=[];return this.isArray(e)?t=e:this.isStr(e)&&t.push(e),t},t._map=function(e,t){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(t);var n=[];return this._each(e,function(r,a){n.push(t(r,a,e))}),n},t.getValueString=function(e,t,n){return null==t?n:this.isStr(t)?t:this.isNumber(t)?t.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")},t.getValueAsType=function(e,t,n,r){return null==t?r:this.isA(t,n)?t:(this.logWarn("Unsuported type for param: "+e+" required type: "+n),n===s&&(t=Number(t)),isNaN(t)?r:t)},t.getWindow=function(){return window},t.getAdObjFromAdsArray=function(e){if(e&&e.length>0){if(e[0][f])return e[0][f];if(e[0][p])return e[0][p];if(e[0][m])return e[0][m]}},t.cloneAsObject=function(e){if(null===e||!(e instanceof Object))return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=this.cloneAsObject(e[n]);return t},t.getUtDivId=function(e){return r.PREFIX.UT_DIV+e.targetId},t.getCdnOrigin=function(){return this.getWindow().document.location.protocol+"//"+r.EXTERNAL_LIB.CDN_ORIGIN},t.values=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.runOnce=function(e,t){var n=void 0;if(this.isFn(e))return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},t.getTagData=function(e,t){var n={};return["debug","displayed","initialHeight","initialWidth","member","showTagCalled","sizes","targetId","utCalled","utDivId","utiframeId","uuid","keywords"].forEach(function(t){n[t]=e[t]}),t&&(n.on=t.on,n.off=t.off,n.modifyTag=t.modifyTag,n.setKeywords=t.setKeywords),n}},function(e){e.exports=JSON.parse('{"PREFIX":{"UT_IFRAME":"utif_","UT_DIV":"div_utif_"},"LOG":{"WARN":"WARN"},"DEBUG":{"DEBUG_MODE":"ast_debug","AST_DONGLE":"ast_dongle","AST_DEBUG_MEMBER":"ast_debug_member","AST_DEBUG_BIDDER":"ast_debug_bidder","AST_TEST":"ast_test","AST_TOOLKIT":"ast_toolkit","AST_OVERRIDE":{"BASE":"ast_override_","DIV":"div","INDEX":"index","TAG_ID":"tag_id","INV_CODE":"inv_code","PUBLISHER_ID":"publisher_id"}},"OBJECT_TYPE":{"UNDEFINED":"undefined","OBJECT":"object","STRING":"string","NUMBER":"number"},"BROWSER_TYPE":{"IE":"msie","OPERA":"opera"},"RENDERER_EVENTS":{"LOADED":"loaded","IMPRESSION":"impression"},"ENDPOINT":{"UT_BASE":"/ut/v3","IMPBUS":"ib.adnxs.com","UT_PREBID":"/ut/v3/prebid"},"UT_RESPONSE_PROP":{"MEDIA_TYPE":"media_type","CREATIVE_ID":"creative_id","AD_TYPE":"ad_type","BANNER":"banner","VIDEO":"video","CONTENT":"content","UUID":"uuid"},"MEDIA_TYPE":{"BANNER":"banner","NATIVE":"native","VIDEO":"video"},"AD":{"CREATIVE_ID":"creative_id","NOTIFY":"notify_url","NOAD":"no_ad_url","IMP_URLS":"impression_urls","TRACKERS":"trackers"},"CONTENT_SOURCE":{"RTB":"rtb","CSM":"csm","SSM":"ssm"},"AD_TYPE":{"BANNER":"banner","NATIVE":"native","VIDEO":"video"},"EXTERNAL_LIB":{"VIDEO_MEDIATION_JS":"//acdn.adnxs.com/video/astMediation/AstMediationManager.js","BANNER_MEDIATION_JS":"//acdn.adnxs.com/mediation/v2/mediation.js","SAFE_FRAME_URL":"//acdn.adnxs.com/ast/safeframe/1-0-0/html/safeframe-v2.html","CDN_ORIGIN":"acdn.adnxs.com"},"EVENTS":{"REQUEST":"adRequested","AVAILABLE":"adAvailable","LOADED":"adLoaded","LOADED_MEDIATED":"adLoadedMediated","NO_BID_MEDIATED":"adNoBidMediated","REQUEST_FAIL":"adRequestFailure","NO_BID":"adNoBid","DEFAULT":"adDefault","ERROR":"adError","COLLAPSE":"adCollapse","BAD_REQUEST":"adBadRequest"},"TYPE":{"ARRAY":"Array","STRING":"String","FUNC":"Function","NUM":"Number","OBJ":"Object","BOOL":"Boolean"},"SAFEFRAME":{"DEFAULT_ZINDEX":3000,"STATUS":{"READY":"ready","NOTIFY_EXPANDED":"expanded","NOTIFY_COLLAPSED":"collapsed","NOTIFY_ERROR":"error","FOCUS_CHANGE":"focus-change","GEOM_UPDATE":"geom-update","CMP":"cmp"}},"EXPAND_OPTIONS":{"CREATIVE":"creative"}}')},function(e,t,n){var r,a=n(0),i={setCallback:function(e){this.getInstance().creativeCb=e},getInstance:function(e){if(e=e||null,!r)try{r=function(e){return{targetId:e.targetId,host:e.host,ad:e.ad,geom:e.geom,debug:e.debug,supports:e.hostSfSupport,meta:e.meta,status:"ready",creativeCb:function(){},hasFocus:!1}}(e)}catch(e){a.logError("No arguments passed",e)}return r}};e.exports=i},function(e,t,n){e.exports=function(){var e={},t=[],n="";return{invokeNotify:function(n,a,i){t.push(p(n,a,i)),r._each(e,function(e){e.addNotifyMessage(p(n,a,i)),e.status!==u&&f(e)})},loadRenderer:function(t,n){var a=n.renderer_id;if(t.enableSafeFrame&&(!window.$sf||!window.$sf.ext))return a=function(e,t){return t.renderer_id+"_"+e.targetId}(t,n),void(e[a]=v(n.renderer_url,a,t));var o=e[a];if(o){var s=e[a];o.status===l?(E(t),i(s,t,g),t.displayed=!0):o.addTag(t)}else r.loadScript(window,n.renderer_url),e[a]=v(n.renderer_url,a,t)},setRendererStatus:function(t,n){var r=e[t];r&&(r.status=n,f(r))},registerRenderer:function(t,a,s){if(n=s,a=function(e){if(r.isFn(e))return{renderAd:e,notify:function(){}};if(r.isObj(e)&&r.isFn(e.renderAd))return{renderAd:e.renderAd,notify:e.notify}}(a),t&&e[t]&&r.isObj(a)){var d=e[t];d.renderFn=a.renderAd,d.notifyFn=a.notify,d.status=l,window.currentTag&&window.currentTag.enableSafeFrame&&(c=window.currentTag,u=t,p=l,m={name:"updateRenderStatus",targetId:c.targetId,rId:u,status:p},o.sendMessage(window.parent,m,n)),f(d),r._each(d.getTags(),function(e){e.displayed||(E(e),i(d.renderFn,e,function(e,t){g(e,t,d)}),e.displayed=!0)})}else r.logError("ast.js","registerRenderer must be called with (id, cbFn)");var c,u,p,m},clearState:function(){e={},t=[]}};function i(e,t,n){r.isFn(e)?e.call(apntag,t,n):r.isObj(e)&&(r.isFn(e.renderFn)?e.renderFn.call(apntag,t,n):r.logError("Error invoking rendererObj.renderAd(). renderAd must be a function"))}function g(e,t,r){r&&r.isSafeFrame?function(e,t){var r={name:"emitEvent",cmd:[e,t]};if(o.sendMessage(window.parent,r,n),apntag.mockSfListner&&apntag.mockSfListner.handler){apntag.mockSfListner.handler(apntag.mockSfListner.adObj);var a={name:"resizeAd",targetId:e,cmd:["auto","auto"]};o.sendMessage(window.parent,a,n)}}(e,t):apntag.emitEvent(e,t)}function f(e){r.isFn(e.notifyFn)&&r._each(e.getNotifyMessages(),function(t){t.sent||(t.sent=!0,e.notifyFn(t.messageType,t.messagePayload))})}function p(e,t,n){return{messageType:e,messagePayload:t,targetId:n,sent:!1}}function m(e,t,n){var r=[],a=[];this.getTags=function(){return r},this.addTag=function(e){r.push(e)},this.addNotifyMessage=function(e){a.push(e)},this.getNotifyMessages=function(){return a},this.url=e,this.id=t,this.status=u,this.renderFn=function(){},this.notifyFn=h,this.isSafeFrame=n.enableSafeFrame||!1,this.addTag(n)}function v(e,n,a){var i=new m(e,n,a);return function(e){r._each(t,function(t){e.addNotifyMessage(t)})}(i),i}function h(e,t){var n=this.getTags()[0].targetId;s.sendNotify(e,t,n)}function E(e){if(!e||!e.isMediated){var t=a.getAdObjByMediation(e);r.loadPixelUrl(window.document.body,t[d],t[c])}}}();var r=n(0),a=n(12),i=n(1),o=n(6),s=n(4),d=i.AD.NOTIFY,c=i.AD.CREATIVE_ID,u="loading",l="loaded"},function(e,t,n){var r=n(0),a=n(1),i=n(7),o=n(6),s=n(13),d=n(14),c=a.TYPE.NUM,u=t,l=0,g=0,f=0,p=2;function m(e){v(),g=window.setTimeout(function(){var t,n;t=e,n=i.getInstance().getIframes(),r._each(n,function(e,n){var i=apntag.requests.tags[n];if(i.alwaysUseXDomainIframe||i.enableSafeFrame){var s=e.iframe.contentWindow,d={};d.targetId=n,d.value=t,d.status=a.SAFEFRAME.STATUS.FOCUS_CHANGE,o.sendMessage(s,JSON.stringify(d),r.getCdnOrigin())}}),v()},p)}function v(){g&&(clearTimeout(g),g=0)}function h(){var e=i.getInstance().getIframes();r._each(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&u.sendGeom(e.iframe,t)}),l&&(clearTimeout(l),l=0)}u.expandIframe=function(e){r.logMessage("Expand iframe started by host");var t=!1,n=!1,s=0,d=0,l=0,g=0,f=void 0,p=void 0,m=r.getWindow().document.getElementById(a.PREFIX.UT_DIV+e.targetId),v=i.getInstance().getIframe(e.targetId),h=v.iframe.style,E=m.style;E.display="";var y=parseInt(E.width,10),b=parseInt(E.height,10);if(isNaN(y)&&(y=0),isNaN(b)&&(b=0),e.bounds.multiDir?(l=y+(p=r.getValueAsType("data.bounds.left",e.bounds.left,c))+r.getValueAsType("data.bounds.right",e.bounds.right,c),g=b+(f=r.getValueAsType("data.bounds.top",e.bounds.top,c))+r.getValueAsType("data.bounds.bottom",e.bounds.bottom,c),f?(d=-1*f,n=!0):d=0,p?(s=-1*p,t=!0):s=0):(l=(t=(s=e.bounds.x)<0)?y+-1*s:y+s,g=(n=(d=e.bounds.y)<0)?b+-1*d:b+d),!(l<=y&&g<=b)){h.width=l+"px",h.height=g+"px",t&&(h.left=s+"px"),n&&(h.top=d+"px"),h.zIndex=a.SAFEFRAME.DEFAULT_ZINDEX,h.position="relative",E.position="relative",e.bounds.push?(E.width=l+"px",E.height=g+"px"):(E.width=y+"px",E.height=b+"px");var w=function(){!function(e,t,n){var a=n.iframe.contentWindow,i={};i.targetId=t.targetId,i.status=e,i.geom=u.geom(t.targetId,n.iframe),o.sendMessage(a,JSON.stringify(i),r.getCdnOrigin())}(a.SAFEFRAME.STATUS.NOTIFY_EXPANDED,e,v)};e.ext&&"number"==typeof e.ext.tweenTime?function(e,t,n,a){var i=t.style;i.transition="height "+e.ext.tweenTime+"ms ease",i.height=n,i["overflow-y"]="hidden",r.addEventHandler(t,"transitionend",function(){"function"==typeof a&&a()})}(e,m,g,w):w()}},u.collapseIframe=function(e){r.logMessage("Collapse iframe started by host");var t=r.getWindow().document.getElementById(a.PREFIX.UT_DIV+e.targetId).style,n=i.getInstance().getIframe(e.targetId),s=n.iframe.style,d=n.originalWidth,c=n.originalHeight;e.ext&&(0===e.ext.width&&(d=0),0===e.ext.height&&(c=0)),s.left="",s.top="0px",t.width=d+"px",s.width=d+"px",t.height=c+"px",s.height=c+"px",s.zIndex="";var l=n.iframe.contentWindow,g={};g.targetId=e.targetId,g.geom=u.geom(e.targetId,n.iframe),g.status=a.SAFEFRAME.STATUS.NOTIFY_COLLAPSED,o.sendMessage(l,JSON.stringify(g),r.getCdnOrigin())},u.getConsentManagement=function(e){function t(){var t=apntag.requests.gdpr_consent,n=i.getInstance().getIframe(e.targetId).iframe.contentWindow,s={targetId:e.targetId,gdpr_consent:t,status:a.SAFEFRAME.STATUS.CMP};o.sendMessage(n,s,r.getCdnOrigin())}apntag.requests.gdpr_consent?t():d.performLookup(apntag.requests,t)},u.loadRenderer=function(e){var t=i.getInstance().getIframe(e.targetId).iframe.contentWindow;delete e.curWindow;var n={status:"nativeAssembly",targetId:e.targetId};o.sendMessage(t,JSON.stringify(n),r.getCdnOrigin())},u.geomInit=function(e,t){r.logMessage("Geom starting");var n=u.geom(e,t);return 0===f&&(f=setInterval(u.handleGeomUpdate,1e3)),n},u.geom=function(e,t){var n=s.build_geom(e,t);return n.anx=function(){try{if(void 0!==window.top.location.href){var e=window,t=0,n=0;do{t+=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop,n+=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft,e=e.parent}while(e.parent!==window.top);return{scrollTop:t,scrollLeft:n}}}catch(e){}return{scrollTop:0,scrollLeft:0}}(),n},u.handleWindowFocus=function(){m(!0)},u.handleWindowBlur=function(){m(!1)},u.sendGeomWithGeom=function(e,t,n){var i=e.contentWindow,s={};s.targetId=t,s.geom=n,s.status=a.SAFEFRAME.STATUS.GEOM_UPDATE,o.sendMessage(i,JSON.stringify(s),r.getCdnOrigin())},u.sendGeom=function(e,t){u.sendGeomWithGeom(e,t,u.geom(t,e))},u.handleGeomUpdate=function(){l||(l=window.setTimeout(h,500))},u.removeHandlers=function(){var e=i.getInstance().getIframes();r._each(e,function(e,t){var n=apntag.requests.tags[t];(n.alwaysUseXDomainIframe||n.enableSafeFrame)&&(clearInterval(f),f=0,s.removeHandlers(t))})},u.sendNotify=function(e,t,n){var a=i.getInstance().getIframe(n).iframe.contentWindow,s={messageType:e,messagePayload:t,status:"notify",targetId:n};o.sendMessage(a,s,r.getCdnOrigin())}},function(e,t,n){var r=n(1),a=n(0),i=n(2),o=n(11),s=n(3),d=n(9),c=t;c.attach=function(e,t,n){a.addEventHandler(e,t,n)},c.sendMessage=function(e,t,n){e.postMessage(t,n)},c.handleError=function(e){var t=i.getInstance(),n=o.createMessage("adError",t.targetId,{data:"data"},e);return n=JSON.stringify(n),c.sendMessage(window.parent,n,t.host),!0},c.handleMessageFromHost=function(e){if(e.source===window.parent){var t;try{t=JSON.parse(e.data)}catch(e){return void a.logError(e)}var n=i.getInstance();if(t.targetId===n.targetId)switch(t.status){case"expanded":n.status=r.SAFEFRAME.STATUS.NOTIFY_EXPANDED,n.geom=t.geom,n.creativeCb(r.SAFEFRAME.STATUS.NOTIFY_EXPANDED);break;case"collapsed":n.status===r.SAFEFRAME.STATUS.NOTIFY_EXPANDED&&(n.status=r.SAFEFRAME.STATUS.NOTIFY_COLLAPSED,n.geom=t.geom,n.creativeCb(r.SAFEFRAME.STATUS.NOTIFY_COLLAPSED));break;case r.SAFEFRAME.STATUS.CMP:n.gdpr_consent=t.gdpr_consent,n.creativeCb(r.SAFEFRAME.STATUS.CMP,n.gdpr_consent);break;case r.SAFEFRAME.STATUS.FOCUS_CHANGE:n.hasFocus=t.value,n.creativeCb(r.SAFEFRAME.STATUS.FOCUS_CHANGE);break;case r.SAFEFRAME.STATUS.GEOM_UPDATE:n.geom=t.geom,n.creativeCb(r.SAFEFRAME.STATUS.GEOM_UPDATE);break;case"nativeAssembly":d.handleNativeRenderer();break;case"error":break;case"notify":s.invokeNotify(t.messageType,t.messagePayload)}}else a.logWarn("Received post message from invalid host")}},function(e,t,n){var r=n(0),a=n(4),i=n(3),o=n(1),s=t;s.attach=function(e,t,n){r.addEventHandler(e,t,n)},s.handleMessage=function(e){if(e.origin===r.getCdnOrigin()&&"string"==typeof e.data){r.logInfo("Data sent from creative",e.data);var t=void 0;try{t=JSON.parse(e.data)}catch(t){return void("nobid"===e.data?r.logMessage("No bid response returned"):r.logError("Invalid data from creative: "+e.data))}if(r.hasOwn(t,"eventType"))"adError"===t.eventType&&window.apntag.recordErrorEvent(t.exception,t.targetId);else switch(t.name){case"expand":a.expandIframe(t);break;case"collapse":a.collapseIframe(t);break;case"cmp":a.getConsentManagement(t);break;case"resizeAd":apntag.resizeAd(t.targetId,t.cmd);break;case"mediatedNative":apntag.handleMediationBid(t.targetId,t.content);break;case"emitEvent":apntag.emitEvent.apply(null,t.cmd);break;case"message":break;case"updateRenderStatus":i.setRendererStatus(t.rId+"_"+t.targetId,t.status);break;case"setParentDivStyleDefaultProp":var n=document.getElementById(o.PREFIX.UT_DIV+t.targetId);r._each(t.cmd,function(e,t){""===n.style[t]&&(n.style[t]=e)})}}},s.sendMessage=function(e,t,n){"string"!=typeof t&&(t=JSON.stringify(t)),e.postMessage(t,n)}},function(e,t,n){var r,a,i=n(0),o=(r=void 0,a={},{getInstance:function(){return r||(r={add:function(e,t){a[e]=t},getIframe:function(e){return i.hasOwn(a,e)?a[e]:null},getIframes:function(){return a},resetInstance:function(){a={}}}),r}});e.exports=o},function(e,t,n){var r=n(0),a=n(1),i=n(15),o=n(16),s=n(17),d=a.TYPE.STRING,c=a.TYPE.NUM,u=a.TYPE.BOOL,l=t,g=a.DEBUG.AST_DONGLE,f=a.DEBUG.AST_TOOLKIT,p=a.DEBUG.AST_TEST,m=a.DEBUG.AST_DEBUG_MEMBER,v=a.DEBUG.AST_DEBUG_BIDDER;function h(e){var t=[];return r._each(e,function(e,n){if(r.isArray(e)){var a=[];r._each(e,function(e){(e=r.getValueString("keywords."+n,e))&&a.push(e)}),e=a}else{if(e=r.getValueString("keywords."+n,e),!r.isStr(e))return;e=[e]}var i={key:n,value:e};t.push(i)}),t}l.createPageUser=function(e){var t={};if(!r.isEmpty(e)){e.externalUid&&r.isStr(e.externalUid)&&(t.external_uid=e.externalUid),r.isEmpty(e.segments)||(t.segments=e.segments);var n=r.getValueAsType("user.age",e.age,c);t.age=n;var a=r.getValueAsType("user.gender",e.gender,c);t.gender=a;var i=r.getValueAsType("user.language",e.language,d);t.language=i;var o=r.getValueAsType("user.dnt",e.dnt,u);t.dnt=o}return t},l.createTag=function(e){var t={};if(e.uuid=r.getUUID(),!r.isEmpty(e.sizes)){var n=this.getSizes(e.sizes);r.isEmpty(n)||(t.sizes=n,t.primary_size=n[0])}if(!r.isEmpty(e.privateSizes)){var a=this.getSizes(e.privateSizes);r.isEmpty(a)||(t.private_sizes=a)}if(e.supplyType&&r.isStr(e.supplyType)&&(t.supply_type=e.supplyType),e.pubClick&&r.isStr(e.pubClick)&&(t.pubclick={url:e.pubClick}),e.pubClickEnc&&r.isStr(e.pubClickEnc)&&(t.pubclickenc={url:e.pubClickEnc}),e.reserve&&(r.isNumber(e.reserve)||r.isArray(e.reserve))&&(t.reserve=e.reserve),e.extInvCode&&r.isStr(e.extInvCode)&&(t.ext_inv_code=e.extInvCode),t.uuid=e.uuid,e.tagId&&(t.id=e.tagId),e.formats&&(t.formats=e.formats),e.position&&("above"===e.position?t.position=1:"below"===e.position?t.position=2:t.position=0),e.invCode&&(t.code=e.invCode),e.prebid&&(t.prebid=e.prebid),e.externalImpId&&(t.external_imp_id=e.externalImpId),!0===e.allowSmallerSizes?t.allow_smaller_sizes=!0:t.allow_smaller_sizes=!1,!0===e.disablePsa&&(t.disable_psa=!0),e.allowedFormats&&(t.ad_types=e.allowedFormats),!0!==e.usePmtRule&&!1!==e.usePmtRule||(t.use_pmt_rule=e.usePmtRule),!r.isEmpty(e.video)){var i=e.video,o={};i.id&&(o.id=i.id),r.isEmpty(i.mimes)||(o.mimes=i.mimes),i.maxDuration&&(o.maxduration=i.maxDuration),i.minDuration&&(o.minduration=i.minDuration),i.startDelay&&(o.startdelay=i.startDelay),i.skippable&&(o.skippable=i.skippable),i.skipOffset&&(o.skipoffset=i.skipOffset),r.isEmpty(i.playbackMethod)||(o.playback_method=i.playbackMethod),r.isEmpty(i.frameworks)||(o.frameworks=i.frameworks),t.video=o}if(!r.isEmpty(e.native)){var s=e.native,d={};s.renderer_id&&(d.renderer_id=s.renderer_id),s.placement_type&&(d.placement_type=s.placement_type);var c={};s.id&&(c.id=s.id),s.title&&(c.title=s.title),s.body&&(c.description=s.body),s.sponsoredBy&&(c.sponsored_by=s.sponsoredBy),s.image&&(c.main_image=s.image,r.isEmpty(c.main_image.sizes)&&(c.main_image.sizes=[{}])),s.icon&&(c.icon=s.icon,r.isEmpty(c.icon.sizes)&&(c.icon.sizes=[{}])),s.cta&&(c.ctatext=s.cta),s.desc2&&(c.desc2=s.desc2),s.rating&&(c.rating=s.rating),s.displayUrl&&(c.displayurl=s.displayUrl),s.likes&&(c.likes=s.likes),s.downloads&&(c.downloads=s.downloads),s.price&&(c.price=s.price),s.salePrice&&(c.saleprice=s.salePrice),s.phone&&(c.phone=s.phone),s.address&&(c.address=s.address),s.video&&(c.video={required:s.video.required||!1,min_duration:s.video.minDuration||0,max_duration:s.video.maxDuration}),s.privacySupported&&(c.privacy_supported=!0),c&&(d.layouts=[c]),t.ad_types=t.ad_types||[],-1===t.ad_types.indexOf("native")&&t.ad_types.push("native"),t.native=d}if(!r.isEmpty(e.keywords)){var u=h(e.keywords);t.keywords=u}if(e.forceCreativeId){var l=Number(e.forceCreativeId);isNaN(l)?r.logError("Force Creative must be a number"):(t.force_creative_id=l,r.logMessage("Force Creative in use for targetId: "+e.targetId))}return e.nobidIfUnsold&&(t.nobid_if_unsold=!0),e.trafficSourceCode&&(t.traffic_source_code=e.trafficSourceCode.toString()),e.customPubLog&&(r.isStr(e.customPubLog)?t.custom_pub_log=e.customPubLog:r.logError("customPubLog must be a string")),t},l.getSizes=function(e){var t=[],n={};if(r.isArray(e)&&2===e.length&&!r.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"==typeof e)for(var a=0;a<e.length;a++){var i=e[a];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t},l.buildRequestJsonByMemberId=function(e,t,n,a){var d={};e.disablePsa&&r._each(e.tags,function(e){e.disablePsa=!0}),e.gdpr_consent&&(d.gdpr_consent=e.gdpr_consent),e.geoOverride&&(d.geo_override={country_code:e.geoOverride.countryCode,postal_code:e.geoOverride.zip});var u=[],E=0;r._each(e.tags,function(e){if(!e.utCalled&&e.member===t&&function(e){if(!a)return!0;var t=!1;return r._each(a,function(n){e.targetId===n&&(t=!0)}),t}(e)){var n=l.createTag(e);e.utCalled=!0,e.tagNumber=E,E++,u.push(n)}}),i.build(e.tags,u,n);var y=s.getRefererInfo(),b={rd_ref:y.referer,rd_top:y.reachedTop,rd_ifs:y.numIframes,rd_stk:y.stack.join(",")};d.referrer_detection=b,d.tags=u,d.uuid=r.getUUID(),d.member_id=t,d.sdk={source:"ast",version:__VERSION__};var w=null;r.isEmpty(e.keywords)?r.isEmpty(e.targetingParams)||(w=h(e.targetingParams),d.keywords=w):(w=h(e.keywords),d.keywords=w),r.isEmpty(e.user)||(d.user=this.createPageUser(e.user)),r.isEmpty(e.device)||(d.device=function(e){var t={},n=e.device;if(!r.isEmpty(n)){r.isEmpty(n.useragent)||(t.useragent=n.useragent),r.isEmpty(n.geo)||(t.geo=n.geo),r.isEmpty(n.ip)||(t.ip=n.ip),r.isEmpty(n.deviceType)||(t.devicetype=n.deviceType),r.isEmpty(n.make)||(t.make=n.make),r.isEmpty(n.model)||(t.model=n.model),r.isEmpty(n.os)||(t.os=n.os),r.isEmpty(n.osVersion)||(t.os_version=n.osVersion),r.isEmpty(n.carrier)||(t.carrier=n.carrier);var a=r.getValueAsType("device.connectionType",n.connectionType,c);t.connectiontype=a,r.isEmpty(n.mcc)||(t.mcc=n.mcc),r.isEmpty(n.mnc)||(t.mnc=n.mnc),r.isEmpty(n.lmt)||(t.lmt=n.lmt),r.isEmpty(n.deviceId)||(t.device_id=n.deviceId);var i=r.getValueAsType("device.devTime",n.devTime,c);t.devtime=i}return t}(e)),r.isEmpty(e.app)||(d.app=function(e){var t={},n=e.app;return r.isEmpty(n)||r.isEmpty(n.appid)||(t.appid=n.appid),t}(e)),r.isEmpty(e.site)||(d.site=function(e){var t={},n=e.site;return r.isEmpty(n)||r.isEmpty(n.id)||(t.id=n.id),t}(e)),e.publisherId&&(d.publisher_id=e.publisherId),e.auctionTimeout&&(d.auction_timeout_ms=e.auctionTimeout),d.tags=u;var I=r.getParameterByName(g),_=o.ls&&o.ls.getItem(g),T=I||apntag.dongle||_;T&&!apntag.dongle&&(apntag.dongle=T),((r.getParameterByName(f)||apntag.toolkit)&&T||!r.isEmpty(e.toolkit))&&(d.toolkit={enabled:!0,dongle:T||e.toolkit.dongle});var A=r.getParameterByName(m);A&&""!==A&&(apntag.debug_member=A);var S=r.getParameterByName(v);S&&""!==S&&(apntag.debug_bidder=S);var N="TRUE"===r.getParameterByName(p).toUpperCase();if(N&&""!==N&&(apntag.test=N),apntag.test||apntag.debug&&!r.isEmpty(apntag.dongle)){var O="";apntag.debug_member&&(O=apntag.debug_member);var M=function(e,t,n){var a={};return apntag.debug&&!r.isEmpty(t)&&(a.enabled=!0,e&&(a.member_id=Number(e)),t&&(a.dongle=String(t)),n&&(a.bidder_id=Number(n)),a.debug_timeout=1e3),apntag.test&&(a.test=apntag.test),a}(O,apntag.dongle,apntag.debug_bidder);d.debug=M}return d},l.setAmpFlag=function(e){return r.getWindow().context&&"AMP-AD"===r.getWindow().context.tagName&&(e.is_amp=!0),e}},function(e,t,n){var r=n(3),a=n(5),i=n(18),o=n(0),s=null,d=null;var c=window.apntag=window.apntag||{};function u(){var e,t;try{e=d.currentTag.adResponse.ads}catch(e){o.logMessage("could not get adResponseBids"+e)}return e&&e.length&&(t=d.isMediated?e[e.length-1]:e[0]),t}t.setCreativeInfo=function(e){s=e},t.setHostParams=function(e){d=e},c.registerRenderer=function(e,t){r.registerRenderer(e,t,s.host)},c.onEvent=function(e,t,n){if("adLoaded"===e){var r=i.getAdObjFromMediationBid(u(),t);c.mockSfListner={targetId:t,handler:n,adObj:r}}},t.handleNativeRenderer=function(){var e=document.getElementById("sf_align");if(e){var t=document.createElement("div");t.setAttribute("id",s.targetId),e.appendChild(t)}else document.write("<div id='sf_align'><div id="+s.targetId+"></div></div>");var n={name:"setParentDivStyleDefaultProp",cmd:{height:0},targetId:s.targetId};n=JSON.stringify(n),a.sendMessage(window.parent,n,s.host),r.loadRenderer(d.currentTag,u()),window.currentTag=d.currentTag}},function(e,t,n){var r=n(5),a=n(2),i=n(20),o=n(1),s=n(9),d=null,c=null,u=n(0);var l=window.apntag=window.apntag||{},g=(window.$sf=window.$sf||{},window.$sf.ext=window.$sf.ext||{},window.$sf.ast=!0,window.$sf.ext);g.debug=!1,g.geom=function(){return u.logMessage("geom called for targetId : "+d.targetId),d.geom},g.inViewPercentage=function(){return u.logMessage("inViewPercentage called for targetId : "+d.targetId),Math.floor(100*d.geom.self.iv)},g.supports=function(){u.logMessage("Support Called for targetId : "+d.targetId);var e={};return e["exp-ovr"]=d.supports.expansionByOverlay,e["exp-push"]=d.supports.expansionByPush,e["read-cookie"]=!1,e["write-cookie"]=!1,e},g.cmp=function(){u.logMessage("cmp Called for targetId : "+d.targetId);var e={name:"cmp",targetId:d.targetId};r.sendMessage(window.parent,JSON.stringify(e),d.host)},g.expand=function(e){u.logMessage("Expand called for targetId : "+d.targetId);var t=this.status();if(t===o.SAFEFRAME.STATUS.READY||t===o.SAFEFRAME.STATUS.NOTIFY_COLLAPSED){var n=i.expand(e);if(typeof n!==o.OBJECT_TYPE.UNDEFINED){try{n=JSON.stringify(n)}catch(e){u.logError("Could not stringify command",e)}r.sendMessage(window.parent,n,d.host)}}},g.collapse=function(e){if(u.logMessage("Collapse called for targetId : "+d.targetId),this.status()===o.SAFEFRAME.STATUS.NOTIFY_EXPANDED){var t=i.collapse(e);if(typeof t!==o.OBJECT_TYPE.UNDEFINED){try{t=JSON.stringify(t)}catch(e){u.logError("Could not stringify command",e)}r.sendMessage(window.parent,t,d.host)}}},g.register=function(e,t,n){u.logMessage("Register called for targetId : "+d.targetId),"function"==typeof n&&a.setCallback(n)},g.status=function(){return u.logMessage("Status called for targetId : "+d.targetId),d.status},g.winHasFocus=function(){return u.logMessage("winHasFocus called for targetId : "+d.targetId),d.hasFocus||document.hasFocus()},g.meta=function(e,t){if(u.logMessage("meta called for targetId : "+d.targetId),d.meta!==o.OBJECT_TYPE.UNDEFINED)return 2===arguments.length?d.meta[t]?d.meta[t][e]:o.OBJECT_TYPE.UNDEFINED:d.meta.shared&&d.meta.shared[e]},function(){if(u.logMessage("Safeframe initialized"),c=JSON.parse(window.name),window.name="",d=a.getInstance(c),s.setCreativeInfo(d),s.setHostParams(c),g.debug=d.debug,l.debug=d.debug,r.attach(window,"message",r.handleMessageFromHost),window.onerror=r.handleError,c.rendererUrl)s.handleNativeRenderer();else if(c.isMediated&&c.currentTag.isBannerMediation)window.APN_macros={},window.APN_macros.uuid=c.targetId,window.APN_macros.ads=c.ad,window.APN_macros.enableMediationEvents=c.enableMediationEvents,window.MediationData={},window.MediationData.host=c.host,document.write("<div id='sf_align'><script src=\""+o.EXTERNAL_LIB.BANNER_MEDIATION_JS+'"><\/script></div>');else try{var e=d.ad;document.write("<div id='sf_align'>"+e+"</div>")}catch(e){u.logError("Error generating safeframe ad",e)}}()},function(e,t){function n(e,t,n,r){return{eventType:e,targetId:t,data:n,exception:r}}t.createMessage=function(e,t,r,a){return new n(e,t,r,a)}},function(e,t,n){var r=n(0),a=n(1),i=t,o="https:"===r.getWindow().document.location.protocol?"https:":"http:",s=[],d=!1,c=o+a.EXTERNAL_LIB.VIDEO_MEDIATION_JS,u=o+a.EXTERNAL_LIB.BANNER_MEDIATION_JS,l=a.UT_RESPONSE_PROP.AD_TYPE,g=a.AD_TYPE.BANNER,f=a.AD_TYPE.VIDEO;i.checkIfMediatedResponse=function(e){var t=!1;return e&&r._each(e,function(e){"csm"===e.content_source&&(t=!0)}),t},i.getMediationType=function(e){var t=g;return Array.isArray(e)&&e.length>0&&e[0][l]===f&&(t=f),t},i.callMediationFramework=function(e,t,n,a){var i=this;e===f&&(null!==t&&s.push(t),d&&window.APNVideo_AstMediationManager?r._each(s,function(e){if(!e.called)try{window.APNVideo_AstMediationManager.selectAd(e.uuid,e,n,a),e.called=!0}catch(e){r.logError("Error invoking video mediation","mediationmanager.js",e)}}):(r.loadScript(window,c,function(){i.callMediationFramework(f,null,n,a)}),d=!0))},i.getMediationOptions=function(e,t){var n={};return r._each(e,function(e){e.uuid===t.uuid&&e.mediationOptions&&(n=e.mediationOptions)}),n},i.getAdObjByMediation=function(e){return e.isMediated||e.isRtbVideoFallback?e.adResponse.ad:e.adResponse.ads[0]},i.copyAdObjforMediation=function(e){return e.isMediated||e.isRtbVideoFallback||(e.adResponse.ad=e.adResponse.ads[0]),e},i.getContentSourceForMediation=function(e){var t=e.content_source,n=e.ad_type;if(t)return e[t][n]},i.getContentForBannerMediation=function(e,t){var n="<script>";return n+="var APN_macros = {};",n+='APN_macros.uuid = "'+e+'";',n+="APN_macros.enableMediationEvents = "+apntag.requests.enableMediationEvents+";",n+="APN_macros.ads = ",n+='window.parent.apntag.getAdMarkup("'+e+'", "'+t.uuid+'");',n+=";",n+="document.write('<scr' + 'ipt src=\""+u+"\"></scr' + 'ipt>');",n+="<\/script>"}},function(e,t,n){var r=n(4),a=n(7),i=n(0),o=window.document,s="compatMode",d="documentElement",c="nodeType",u="hidden",l="auto",g="contains",f=10,p="scroll",m="getAttribute",v="setAttribute",h="removeAttribute",E="clip",y=window.Number,b=y&&y.MAX_VALUE,w=-1*b,I="compareDocumentPosition",_="object",T="string",A="number",S="toLowerCase",N="toFixed",O="elementFromPoint",M="length",x="overflow",R="document",D="onscroll",F=window.String,P=window.Math,C=Math.max,k=Math.min,U=Math.round,B=window,L=window.navigator,W=L.userAgent||"",j=!(!window.ActiveXObject&&"ActiveXObject"in window)&&B&&"ActiveXObject"in B,V=null,Y=!0,G=!1,H=function(){var e,t={};t.ie=t.opera=t.gecko=t.webkit=t.safari=t.chrome=t.air=t.ipod=t.ipad=t.iphone=t.android=t.webos=t.silk=t.nodejs=t.phantomjs=0,t.mobile=t.ios=t.caja=L&&L.cajaVersion;var n=W;n&&(ye(/KHTML/,n)&&(t.webkit=1),ye(/IEMobile|XBLWP7/,n)&&(t.mobile="windows"),ye(/Fennec/,n)&&(t.mobile="gecko"),(e=Ee(n,/AppleWebKit\/([^\s]*)/,1))&&(t.webkit=he(e),t.safari=t.webkit,ye(/PhantomJS/,n)&&(e=Ee(n,/PhantomJS\/([^\s]*)/,1))&&(t.phantomjs=he(e)),ye(/ Mobile\//,n)||ye(/iPad|iPod|iPhone/,n)?(t.mobile="Apple",e=(e=Ee(n,/OS ([^\s]*)/,1))&&he(e.replace("_",".")),t.ios=e,t.ipad=t.ipod=t.iphone=0,(e=Ee(n,/iPad|iPod|iPhone/,0))&&(t[e[S]()]=t.ios)):((e=Ee(n,/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/,0))&&(t.mobile=e),ye(/webOS/,n)&&(t.mobile="WebOS",(e=Ee(n,/webOS\/([^\s]*);/,1))&&(t.webos=he(e))),ye(/ Android/,n)&&(t.mobile="Android",(e=Ee(n,/Android ([^\s]*);/,1))&&(t.android=he(e))),ye(/Silk/,n)&&(e=Ee(n,/Silk\/([^\s]*)\)/,1))&&(t.silk=he(e))),(e=n.match(/(Chrome|CrMo)\/([^\s]*)/))&&e[1]&&e[2]?(t.chrome=he(e[2]),t.safari=0,"CrMo"===e[1]&&(t.mobile="chrome")):(e=Ee(n,/AdobeAIR\/([^\s]*)/))&&(t.air=e[0])),t.webkit||((e=Ee(n,/Opera[\s\/]([^\s]*)/,1))?(t.opera=he(e),(e=Ee(n,/Opera Mini[^;]*/,0))&&(t.mobile=e)):(e=Ee(n,/MSIE\s([^;]*)/,1))?t.ie=he(e):(e=Ee(n,/Gecko\/([^\s]*)/))&&(t.gecko=1,(e=Ee(n,/rv:([^\s\)]*)/,1))&&(t.gecko=he(e)))));return t}(),X=H.ie||0,J=H.webkit||0,z=H.gecko||0,q=H.opera||0,$=0,K={},Q=p+"Width",Z=p+"Height",ee=p+"Top",te=p+"Left",ne="offsetParent",re="offsetTop",ae="offsetLeft",ie="offsetWidth",oe="offsetHeight",se="clientWidth",de="clientHeight",ce="innerWidth",ue="innerHeight",le="parentNode";function ge(e){var t,n,r,a,i,o,d,c,u,l={t:0,l:0,r:0,b:0,w:0,h:0,z:0},g="getBoundingClientRect",f=0,p=0,m=0,v=0,h=G,E=Te(e)||B[R],y=E[s],b=E.documentMode||0;if(fe(e))try{if(i=we(e),t=Ae(e),n=Re(e),l.l=e[ae]||0,l.t=e[re]||0,r=e,a=V,h=z||J>519,!(e===t)&&e[g])j&&(!b||b>0&&b<8||"BackCompat"===y)&&(d=t.clientLeft,c=t.clientTop),u=e[g](),l.t=u.top,l.l=u.left,(d||c)&&(l.l-=d,l.t-=c),(n.y||n.x)&&(!H.ios||H.ios>=4.2)&&(l.l+=n.x,l.t+=n.y);else{for(;(r=r[ne])&&fe(r)&&a!==r;)d=r[ae],c=r[re],l.t+=c,l.l+=d,h&&(l=Ie(r,l)),a=r;if("fixed"!=i.position){for(r=e,a=V;(r=r[le])&&fe(r)&&a!==r&&r!=t;)f=r[ee],p=r[te],z&&"visible"!=(o=we(r))[x]&&(l=Ie(r,l,o)),(f||p)&&(l.l-=p,l.t-=f),a=r;l.l+=n.x,l.t+=n.y}else l.l+=n.x,l.t+=n.y}e==t?(v=e[de],m=e[se]):(v=e[oe],m=e[ie]),l.b=l.t+v,l.r=l.l+m,l.w=C(m,0),l.h=C(v,0),l.z=i.zIndex}catch(e){l={t:0,l:0,r:0,b:0,w:0,h:0,z:0}}return l}function fe(e){return 1===pe(e)}function pe(e){return Ne(e&&e.nodeType,-1)}function me(e){return(e=ve(e))&&-1==e.search(/\D+/g)?Y:e&&-1!=e.search(/px/gi)?Y:void 0}function ve(e){var t=typeof e;return t==T?e:t!=A||e?t==_&&e&&e.join?e.join(""):!1===e?"false":!0===e?"true":e?F(e):"":"0"}function he(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))}function Ee(e,t,n){var r=e&&e.match(t);return n==V?r:r&&r[n]||V}function ye(e,t){return e.test(t)}function be(e){var t,n=V;try{e&&((n=e.parentWindow||e.defaultView||V)||(n=(t=Te(e))&&(t.parentWindow||t.defaultView)||V))}catch(e){n=V}return n}function we(e){var t;if(be(e).getComputedStyle)try{t=be(e).getComputedStyle(e,V)}catch(e){t=V}else try{t=e.currentStyle}catch(e){t=V}return t}function Ie(e,t,n){var r=0,a=0;return(n=n||we(e))&&(r=n.borderTopWidth,a=n.borderLeftWidth,r=me(r)?Ne(r,0):0,a=me(a)?Ne(a,0):0,z&&/^t(?:able|d|h|r|head|foot)$/i.test(Me(e))&&(r=a=0)),(t=t||{t:0,l:0}).t+=r,t.l+=a,t}function _e(e){return e&&(e.parentNode||e.parentElement)}function Te(e){var t=V;try{e&&(t=9==pe(e)?e:e[R]||e.ownerDocument||V)}catch(e){t=V}return t}function Ae(e){var t=e&&Te(e)||o,n=t[s],r=t[d];return n&&!q&&"CSS1Compat"!=n&&(r=t.body),r}function Se(e){var t,n,r,a,i=[-1,-1,-1,-1],o=[E+"Top",E+"Right",E+"Bottom",E+"Left"],s=0;if(!e)return i;if(X)for(;n=o[s];)me(t=e[n])&&(t=Ne(t,-1))>=0&&(i[s]=t),s++;else if((t=e[E])&&-1!=t.search(/\d+/g))for(a=(i=(i=(t=t.replace(/\w+\(([^\)]*?)\)/g,"$1")).split(" "))[M]<=1?i.split(","):i)[M],s=0;a--;)me(r=i[s])?i[s]=Ne(r,-1):i[s]=-1,s++;return i}function Ne(e,t,n,r){if(typeof e!=A)try{e=e?parseFloat(e):y.NaN}catch(t){e=y.NaN}return r==V&&(r=b),n==V&&(n=w),(isNaN(e)||e<n||e>r)&&t!=V?t:e}function Oe(e,t){var n=G,r=e&&e[c]||-1,a=t&&t[c]||-1;if(1==r&&-1!=a)if(e[g])if(q||1==a)n=e[g](t);else for(;t;){if(e===t){n=Y;break}t=t.parentNode}else e[I]&&(n=e===t||!!(16&e[I](t)));return n}function Me(e){return e&&1==e[c]&&e.tagName[S]()||""}function xe(e,t,n){try{arguments[M]>2?n===V?e[h](t):(n=ve(n),"class"==t[S]()?e.className=n:e[v](t,n)):n=ve(e[m](t))}catch(e){n=""}return n}function Re(e){var t,n,r,a,i={x:0,y:0,w:0,h:0},s={scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0},c=0,u=0;return n=(t=Te(e)||o)[d]||s,a=t.body||s,(r=t.defaultView)&&(c=Ne(r.pageXOffset,0),u=Ne(r.pageYOffset,0)),i.x=C(n.scrollLeft,a.scrollLeft,c),i.y=C(n.scrollTop,a.scrollTop,u),i.w=C(n.scrollWidth,a.scrollWidth,0),i.h=C(n.scrollHeight,a.scrollHeight,0),i}function De(e,t,n){var r,a,i,o,s,d,c,g,m,v,h,E,y,b,w,I,_,T,A,S,R,D,F,L,W,j,H,X,J,z,q,K,ee,te,ne,re=e&&_e(e),ae=Ae(e),le=ge(e),fe=ge(ae),pe=Re(ae),me=function(e){var t=Ae(e),n=0,r=0;return t&&(n=t.scrollWidth||0,r=t.scrollHeight||0),{t:0,l:0,b:r,r:n,w:n,h:r}}(e),he={t:0,l:0,r:0,b:0,w:0,h:0},Ee={t:0,l:0,r:0,b:0,xs:0,ys:0,xiv:0,yiv:0,iv:0,w:0,h:0},ye=[],be=G,Ie={left:V,right:V,top:V,bottom:V};if(t=t&&"object"==typeof t?t:{},re)for(r=fe.t,a=fe.l,i=fe.r,o=fe.b;(c=we(re))&&("block"!=c.display&&"absolute"!=c.position&&"none"==c.float&&"none"==c.clear||(be=re==ae,v=(te=ge(re)).t,h=te.l,E=te.r,y=te.b,S=c[x+"X"],R=c[x+"Y"],D=c[x],F=be?[-1,-1,-1,-1]:Se(c),ne=G,be?(b=pe.w,_=pe.h):(b=re[Q],_=re[Z]),w=re[ie],T=re[oe],I=re[se],A=re[de],!d&&w>I&&(d=w-I),!s&&T>A&&(s=T-A),be?(b>I&&((h=0)>a&&(a=h),(E=(B[ce]||w)+pe.x)<i&&(i=E)),_>A&&((v=0)>r&&(r=v),(y=(B[ue]||T)+pe.y)<o&&(o=y))):(d&&E-h==w&&(E-=d),s&&y-v==T&&(y-=s),S!=u&&S!=p&&S!=l&&D!=u&&D!=p&&D!=l||(h>a&&(a=h,Ie.left=re),E<i&&(i=E,Ie.right=re),S==p||D==p?(ye.push(re),ne=Y):(S==l||D==l)&&b>I&&(ye.push(re),ne=Y)),F[3]>0&&(X=h+F[3])>a&&(a=X,Ie.left=re),F[1]>0&&(J=E+F[1])<i&&(i=J,Ie.right=re),R!=u&&R!=p&&R!=l&&D!=u&&D!=p&&D!=l||(v>r&&(r=v,Ie.top=re),y<o&&(o=y,Ie.bottom=re),ne||(R==p||D==p?(ye.push(re),ne=Y):(R==l||D==l)&&_>A&&(ye.push(re),ne=Y))),F[0]>0&&(j=v+F[0])>r&&(r=j,Ie.top=re),F[2]>0&&(H=te.t+F[2])<o&&(o=H,Ie.bottom=re))),re!=ae)&&(re=_e(re))&&Me(re););return(he={t:C(r,0),l:C(a,0),r:C(i,0),b:C(o,0)}).w=C(he.r-he.l,0),he.h=C(he.b-he.t,0),h=le.l,E=le.r,v=le.t,g=E-h,m=(y=le.b)-v,X=he.l,J=he.r,j=he.t,J-X,(H=he.b)-j,W=(W=(W=k(y,H)-C(v,j))<0?0:W)>m?m:W,L=(L=(L=k(E,J)-C(h,X))<0?0:L)>g?g:L,Ee.t=j<v?H<=v?0:C(v-j,0):0,Ee.b=H>y?y<=j?0:C(H-y,0):0,Ee.l=X<h?J<=h?0:H<=v?0:y<=j?0:C(h-X,0):0,Ee.r=J>E?E<=X?0:H<=v?0:C(J-E,0):0,Ee.w=C(Ee.r-Ee.l,0),Ee.h=C(Ee.b-Ee.t,0),Ee.xiv=g>0?Ne((L/g)[N](2)):0,Ee.yiv=m>0?Ne((W/m)[N](2)):0,Ee.iv=g>0||m>0?Ne((L*W/(g*m))[N](2)):0,Ee.civ=0,n&&Ee.iv>.49&&(z=(ee=function(e){var t,n,r,a,i,o,s,d,c,u,l,g,p,m,v,h,E=ge(e),y=Te(e),b=Ae(y),w=E.t,I=E.l,_=f,T=[],A=0;if(T.on=0,t=E.w,n=E.h,i=r=U(t/_),o=a=U(n/_),t<=1||n<=1||r<1||a<1)return T;if(v=(h=Re()).y,m=h.x,g=I+t,p=w+n,y&&b&&y[O]){for(;i<t;){for(o=a;o<n;)d=w+o,(s=I+i)<=g&&d<=p&&T.push({x:s,y:d,on:0}),o+=a;i+=r}for(;c=T[A++];)s=C(c.x-m,0),s=k(s,c.x),d=C(c.y-v,0),d=k(d,c.y),0!=s?0!=d?(l=y[O](s,d))&&l!==b&&l!==e&&!Oe(l,e)&&((u=xe(l,"id"))||xe(l,"id",u=ve(["geom_inter","_",(new Date).getTime(),"_",P.round(100*P.random()),"_",$++])),c.on=u,T.on++):(c.on="!y-offscreen",T.on++):(c.on="!x-offscreen",T.on++)}return T}(e))[M],(q=Ne(ee.on,0))&&(K=1-Ne((q/z)[N](2),0),Ee.civ=Ee.iv=K)),t.rect=le,t.clipRect=he,t.docRect=me,ye[M]?(t.isRoot=G,t.canScroll=Y,Ee.xs=!!s,Ee.ys=!!d):fe.b>=he.b||fe.r>=he.r?(t.isRoot=Y,Ee.xs=!!(me.w>fe.w&&s),Ee.ys=!!(me.h>fe.h&&d),t.canScroll=me.w>fe.w||me.h>fe.h):Ee.ys=Ee.xs=t.isRoot=t.canScroll=G,t.scrollNodes=ye,t.clipNodes=Ie,t.expRect=Ee,Ee}function Fe(e,t,n){var r,a,o,s,d,c,u,l,g,f,m,v,h={},E={};if(De(t,E,Y),!n&&!E.isRoot&&E.canScroll&&((a=E.expRect).xs||a.ys)){Ce(e),r=[],K[e]=r;for(var y=0;y<E.scrollNodes.length;y++){var b=E.scrollNodes[y],w={};w.node=b,w[D]=function(t){Pe(t,e,b)},i.addEventHandler(b,p,w[D]),r.push(w)}}return h.win=(d=s&&be(s)||B,c=d.innerHeight||0,u=d.innerWidth||0,l=d.screenY||d.screenTop||0,g=c+l,f=d.screenX||d.screenLeft||0,m=u+f,v=Ae(s),c||u||!v||(c=v.clientHeight||0,m=f+(u=v.clientWidth||0),g=l+c),{t:l,l:f,b:g,r:m,w:u,h:c}),h.par=E.clipRect,a=E.expRect,(o=E.rect).iv=a.iv,o.xiv=a.xiv,o.yiv=a.yiv,delete a.iv,delete a.xiv,delete a.yiv,h.exp=a,h.self=o,h}function Pe(e,t,n){var i=K[t];if(i)for(var o=0;o<i.length;o++){var s=i[o];if(s.node===n){s.tID&&(clearTimeout(s.tID),delete s.tID),s.tID=setTimeout(function(){var e=a.getInstance().getIframe(t);e&&r.sendGeomWithGeom(e.iframe,t,Fe(t,e.iframe,Y))},r.GEOM_UPDATE_PACING_INTERVAL);break}}}function Ce(e){var t,n=K[e];if(n)for(;t=n.pop();)t.tID&&clearTimeout(t.tID),i.removeEventHandler(t.node,p,t[D]),t.node=t[D]=V,K[e]=V;delete K[e]}t.removeHandlers=Ce,t.build_geom=Fe},function(e,t,n){var r=n(0),a=n(8),i=t,o=void 0,s=void 0;i.performLookup=function(e,t){var n=t,i=void 0;function d(e){var t={consent_string:e?e.consentData:void 0,consent_required:e?e.gdprApplies:void 0};s.gdpr_consent=t}function c(e){clearTimeout(i),d(),r.runOnce(u(e))}function u(e){e&&r.logWarn(e+" Resuming request without consent information."),n()}if((s=e).consentManagement&&s.consentManagement.disabled)return r.runOnce(u());var l=1e4;if(s.consentManagement&&r.isNumber(s.consentManagement.timeout)&&(l=s.consentManagement.timeout),o)return d(o),r.runOnce(u());i=setTimeout(function(){c("CMP workflow exceeded timeout threshold.")},l),function(e,t){var n,i,o={},d=void 0;try{d=window.__cmp||window.top.__cmp}catch(e){}if(r.isFn(d))d("getConsentData",null,e);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)n=Object.keys(s.tags),i=a.getSizes(s.tags[n[0]].sizes),window.$sf.ext.register(i[0].width,i[0].height,function(t,n){"cmpReturn"===t&&e(n.vendorConsentData)}),window.$sf.ext.cmp("getConsentData");else{for(var c=window,u=void 0;!u;){try{c.frames.__cmpLocator&&(u=c)}catch(e){}if(c===window.top)break;c=c.parent}if(!u)return t("CMP not found.");!function(t){function n(e){var t="string"==typeof e.data&&e.data.includes("cmpReturn")?JSON.parse(e.data):e.data;if(t.__cmpReturn){var n=t.__cmpReturn;o[n.callId](n.returnValue,n.success),delete o[n.callId]}}window.__cmp=function(e,n,r){var a=""+Math.random(),i={__cmpCall:{command:e,parameter:n,callId:a}};o[a]=r,t.postMessage(i,"*")},r.addEventHandler(window,"message",n,!1),window.__cmp("getConsentData",null,function(t){r.removeEventHandler(window,"message",n,!1),e(t)})}(u)}}(function(e){"object"!=typeof e||"string"!=typeof e.consentData||""===e.consentData?c("CMP returned unexpected consentObject during lookup process; returned value was ("+e+")"):(clearTimeout(i),d(o=e),r.runOnce(u()))},c)},i.resetConsentData=function(){o=void 0}},function(e,t,n){var r=n(0),a=n(1),i=t,o=[],s=a.DEBUG.AST_OVERRIDE,d=s.BASE,c=d+s.DIV,u=d+s.INDEX,l=d+s.TAG_ID,g=d+s.INV_CODE,f="force_creative_id";function p(e){return r.getParameterByName(e,i.queryString)}function m(e,t,n){var a=Number(t);if(isNaN(a))r.logError("Force Creative must be a number");else{e[f]=a,apntag.test=!0;var i=function(e,t){var n=null;return r._each(t,function(t){t.uuid===e.uuid&&(n=t.targetId)}),n}(e,n);r.logMessage("Force Creative in use for targetId: "+i)}}i.queryString=void 0,i.build=function(e,t,n){if(r.stringContains(i.queryString||r.getSearchQuery(),d)){var a=void 0,s=void 0,f=void 0,v=void 0,h=void 0,E=void 0;if(!r.isEmpty(p(u)))for(o=p(u).split(","),a=0;a<o.length;a++){h=o[a].split(":");var y=Number(h[0]);if(isNaN(y)||void 0===t[y])r.logError("Invalid ast_override value for index : "+y);else{E=null;var b=null;for(v=0;v<n.length;v++)v===y&&(b=n[v].uuid);for(f=0;f<t.length;f++)t[f].uuid===b&&m(t[f],h[1],e)}}if(!r.isEmpty(p(c)))for(o=p(c).split(","),a=0;a<o.length;a++){h=o[a].split(":");var w=null,I=Object.keys(e);for(f=0;f<I.length;f++)h[0]===I[f]&&(w=e[I[f]].uuid);if(w)for(s=0;s<t.length;s++)t[s].uuid===w&&m(t[s],h[1],e);else r.logError("Invalid ast_override value for target div id : "+h[0])}if(!r.isEmpty(p(l)))for(o=p(l).split(","),a=0;a<o.length;a++){h=o[a].split(":");var _=!1;for(s=0;s<t.length;s++)(E=t[s]).id===Number(h[0])&&(m(E,h[1],e),_=!0);_||r.logError("Invalid ast_override value for tag id : "+h[0])}if(!r.isEmpty(p(g)))for(o=p(g).split(","),a=0;a<o.length;a++){h=o[a].split(":");var T=!1;for(s=0;s<t.length;s++)(E=t[s]).code===h[0]&&(m(E,h[1],e),T=!0);T||r.logError("Invalid ast_override value for invCode : "+h[0])}return t}}},function(e,t,n){var r=n(0),a=t;try{a.ls=window.localStorage}catch(e){r.logWarn("localStorage not available for current browser")}},function(e,t,n){var r=n(0);t.detectReferer=function(e){function t(){var t=function(){var t=[],n=void 0;do{try{n=n?n.parent:e;try{t.push({referrer:n.document.referrer||null,location:n.location.href||null,isTop:n===e.top})}catch(a){t.push({referrer:null,location:null,isTop:n===e.top}),r.logWarn("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(e){return t.push({referrer:null,location:null,isTop:!1}),t}}while(n!==e.top);return t}(),n=function(){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}();if(n)for(var a=0,i=n.length;a<i;a++)t[a].ancestor=n[a];return t}return function(){try{var e=t(),n=e.length-1,r=null!==e[n].location||n>0&&null!==e[n-1].referrer,a=function(e){var t=[],n=null,r=null,a=null,i=null,o=null,s=null,d=void 0;for(d=e.length-1;d>=0;d--){try{r=e[d].location}catch(e){}if(r)n=encodeURIComponent(r),t.push(n),s||(s=n);else if(0!==d){a=e[d-1];try{i=a.referrer,o=a.ancestor}catch(e){}i?(n=encodeURIComponent(i),t.push(n),s||(s=n)):o?(n=encodeURIComponent(o),t.push(n),s||(s=n)):t.push(null)}else t.push(null)}return{stack:t,detectedRefererUrl:s}}(e);return{referer:a.detectedRefererUrl,reachedTop:r,numIframes:n,stack:a.stack}}catch(e){}}},t.getRefererInfo=t.detectReferer(window)},function(e,t,n){var r=n(8),a=n(0),i=n(19),o=n(1),s={};function d(e,t){var n=function(e){var t={};return a._each(apntag.requests.tags,function(n){e===n.uuid&&(t=n)}),t}(e.uuid);if(this.targetId=n.targetId,e.nobid)return this.nobid=!0,this.tagId=e.tag_id,this.auctionId=e.auction_id,this;e.ads&&e.ads.length,this.tagId=e.tag_id,this.auctionId=e.auction_id;var i=t||e.ads[0],s=this;a._each(u(i),function(e,t){s[t]=e});var d=void 0,g=void 0,f=function(e){var t=[];a.isEmpty(e.sizes)||(t=r.getSizes(e.sizes));return t}(n);a.isArray(f)&&f[0]&&(d=f[0].height,g=f[0].width);var p=i.content_source?i.content_source:"rtb";if(i[p]&&i[p].banner)this.banner={width:i[p].banner.width,height:i[p].banner.height,content:i[p].banner.content,trackers:i[p].trackers},d=i[p].banner.height,g=i[p].banner.width;else if(i.rtb&&i.rtb.video){var m=i.rtb.video;this.video={duration:m.duration_ms,playbackMethods:m.playback_methods,frameworks:m.frameworks,content:m.content,trackers:i.rtb.trackers}}else if(i.rtb&&i.rtb[o.MEDIA_TYPE.NATIVE]){var v=i.rtb[o.MEDIA_TYPE.NATIVE];this[o.MEDIA_TYPE.NATIVE]=l(v),c(i,this.targetId)}this.height=d,this.width=g}var c=function(e,t){if(e.viewability&&e.viewability.config){var n=e.viewability.config;"string"==typeof t&&(n=n.replace("%native_dom_id%",t),a.debugTurnedOn()&&null===document.getElementById(t)&&a.logWarn("No element found in the page for the native creative "+t+", see https://wiki.appnexus.com/display/sdk/DefineTag 'targetId'")),i.createIframe({strategy:"WithContent",data:n})}};function u(e){return{adType:e.ad_type,buyerMemberId:e.buyer_member_id,source:e.content_source,cpm:e.cpm,creativeId:e.creative_id,mediaSubtypeId:e.media_subtype_id,mediaTypeId:e.media_type_id,brandCategoryId:e.brand_category_id}}function l(e){return{type:e.type,title:e.title,body:e.desc,desc2:e.desc2,fullText:e.full_text,icon:e.icon,image:e.main_img,cta:e.ctatext,sponsoredBy:e.sponsored,impressionTrackers:e.impression_trackers,clickTrackers:e.link&&e.link.click_trackers,clickUrl:e.link&&e.link.url,clickFallbackUrl:e.link&&e.link.fallback_url,javascriptTrackers:e.javascript_trackers,video:e.video,privacyLink:e.privacy_link,rating:e.rating,displayUrl:e.displayurl,likes:e.likes,downloads:e.downloads,price:e.price,salePrice:e.saleprice,phone:e.phone,address:e.address}}t.getAdObj=function(e,t){if(!e||!e.uuid)return{};if(s[e.uuid]&&!t)return s[e.uuid];try{var n=function(e,t){return new d(e,t)}(e,t);return t||(s[e.uuid]=n),n}catch(e){a.logError("adManager.getAdObj: Error trying to instantiate new adObj: "+e.message)}},t.getAdObjFromMediationBid=function(e,t){var n={};return n.targetId=t,a._each(u(e),function(e,t){n[t]=e}),e.rtb&&e.rtb.native&&(n.native=l(e.rtb.native)),c(e,t),n},t.getAdObjByResponseType=function(e,n,r){var a=e.adResponse&&e.adResponse.ads&&e.adResponse.ads.length,i=a&&e.adResponse.ads[a-1].ad_type===o.AD_TYPE.NATIVE;return e.isMediated&&i&&!r?t.getAdObj(e.adResponse,e.adResponse.ads[a-1]):t.getAdObj(e.adResponse,r)},t.checkAdAvailable=function(e){var t=apntag.requests.tags[e],n=t&&t.adResponse,r=t&&t.utCalled&&!t.showTagCalled&&n&&this.getAdObj(n);return function(e){r&&(n.nobid||e.resolve(r),n.nobid&&e.reject())}},t.getAdErrorObj=function(e,t,n,r){return{code:r,errMessage:e||n.message,exception:n,targetId:t}}},function(e,t,n){var r=n(1),a=r.CONTENT_SOURCE.RTB,i=t,o=n(0),s=r.UT_RESPONSE_PROP.BANNER,d=r.UT_RESPONSE_PROP.CONTENT,c="https:"===o.getWindow().document.location.protocol?"https:":"http:";function u(e){var t=o.getWindow().document.getElementsByTagName("body");t.length&&t[0].appendChild(e)}i.getIframe=function(e,t){var n=void 0,r=l(e),i=o.getWindow();if((n=null!==i.document.getElementById(r)?i.document.getElementById(r):i.document.createElement("iframe")).id=r,e.alwaysUseXDomainIframe||e.enableSafeFrame){o.logMessage("targetId: "+e.targetId+" is using safeFrame. Loading this ad into sandboxed iframe");var c=void 0;t.renderer_url?c="\x3c!-- renderer loading in SF--\x3e":e.isBannerMediation?c=apntag.getAdMarkup(e.targetId,e.uuid):e.isVideoMediation?c=e.adResponse.ad[a][s][d]:(c=f(e),c=""+(c=c.replace("/&/g","&amp;").replace("/</g","&lt;").replace("/>/g","&gt;").replace('/"/g',"&quot;").replace("/'/g","&#39;")));var u=e.curWindow;delete e.curWindow;var g={targetId:e.targetId,ad:c,host:i.location.protocol+"//"+i.location.host,geom:e.geom,debug:o.debugTurnedOn(),hasFocus:document.hasFocus(),hostSfSupport:e.safeframe,isMediated:e.isMediated,rendererUrl:t.renderer_url,enableMediationEvents:apntag.requests.enableMediationEvents,currentTag:e};e.safeframe.meta&&(g.meta=e.safeframe.meta),n.name=JSON.stringify(g),e.curWindow=u,e.safeframe.sandbox&&(n.sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts")}else n.name=r;return n.setAttribute("height",e.initialHeight),n.setAttribute("width",e.initialWidth),n.tabIndex="-1",n.width=e.initialWidth+"px",n.height=e.initialHeight+"px",n.border="0",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no",n.frameBorder="0",e.customIframeProps&&o._each(e.customIframeProps,function(e,t){n[t]=e}),n},i.loadIeIframe=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=c+r.EXTERNAL_LIB.SAFE_FRAME_URL;else{var n;n=f(t);try{e.contentWindow.contents=n}catch(t){e.src="javascript:document.write('<script>document.domain=\""+document.domain+"\"<\/script>')",e.contentWindow.contents=n}var a=document.getElementsByTagName("base"),i=void 0;a.length&&(i=a.target,a[0].target="_self"),e.src='javascript:window["contents"];',a.length&&(a[0].target=i)}},i.loadIframe=function(e,t){if(t.alwaysUseXDomainIframe||t.enableSafeFrame)e.src=c+r.EXTERNAL_LIB.SAFE_FRAME_URL;else{var n,a=g(e);n=f(t),a.open("text/html","replace"),a.write(n),a.close()}},i.createIframe=function(e){var t=e.strategy,n=e.data,r=o.getWindow().document.createElement("iframe");r.width=0,r.height=0,r.border="0",r.hspace="0",r.vspace="0",r.tabIndex="-1",r.marginWidth="0",r.marginHeight="0",r.style.border="0",r.style.display="none",r.scrolling="no",r.frameBorder="0","WithContent"===t&&function(e,t){u(e),e.contentWindow.document.open(),e.contentWindow.document.write(t),e.contentWindow.document.close()}(r,n),"WithAttributes"===t&&function(e,t){e.src=t.src,e.id=t.id,u(e)}(r,n)};var l=function(e){return r.PREFIX.UT_IFRAME+e.targetId+"_"+o.getUUID()},g=function(e){var t=void 0;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){o.logError("Error getting iframe document: "+e)}return t};function f(e){var t=e.targetId,n="";if(e.isMediated)n=e.ad.mediatedContent,o.logMessage("Invoking mediation for displaying banner ad: "+t);else if(e.adResponse&&1===e.adResponse.ads.length){n=o.getAdObjFromAdsArray(e.adResponse.ads)[s][d]}return function(e,t,n){var r=function(e,t){if(t)return"";return'window.onerror = function(e) {\n        if(window.parent && window.parent.apntag) {\n          window.parent.apntag.recordErrorEvent(e,"'+e+'");\n          return true;\n        }\n      };'}(e,n);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>\n    <script>inDapIF=true;\n    apntag_targetId = "'+e+'";\n    '+r+'\n    <\/script></head>\n    <body>\n    <script>\n    document.body.id = "'+e+'";\n    <\/script>\n    '+t+"\n    </body></html>"}(t,n,e.alwaysUseXDomainIframe||e.enableSafeFrame)}},function(e,t,n){var r=n(0),a=n(1),i=n(2),o=a.TYPE.NUM,s=t,d=function(e){this.name=e.name;var t=i.getInstance();this.targetId=t.targetId,this.ext=e.ext};function c(e,t){var n,r;n=e?"right:0px;":"left:0px;",r=t?"bottom:0px;":"top:0px;",s.getElement("sf_align").style.cssText="position:absolute;"+n+r}s.expand=function(e){var t=i.getInstance();r.logInfo("Expand options ",JSON.stringify(e));var n=r.getWindow(),a=!1,u=!1,l=0,g=0;if((r.hasOwn(e,"left")||r.hasOwn(e,"l"))&&(r.hasOwn(e,"right")||r.hasOwn(e,"r"))&&(r.hasOwn(e,"top")||r.hasOwn(e,"t"))&&(r.hasOwn(e,"bottom")||r.hasOwn(e,"b"))&&r.hasOwn(e,"push")){var f=n.$sf.ext.supports();if(!e.push||f["exp-push"])if(e.push||f["exp-ovr"]){if(f["exp-push"]||f["exp-ovr"]){var p={};p.push=e.push;var m=r.getValueAsType("options.left",e.left||e.l,o),v=r.getValueAsType("options.right",e.right||e.r,o),h=r.getValueAsType("options.top",e.top||e.t,o),E=r.getValueAsType("options.bottom",e.bottom||e.b,o);if(!v&&m&&(a=!0,l=-1*m),v&&!m&&(l=v),!E&&h&&(u=!0,g=-1*h),E&&!h&&(g=E),!(h&&E||m&&v))p.multiDir=!1,c(a,u),p.x=l,p.y=g;else{p.multiDir=!0,p.left=m,p.right=v,p.top=h,p.bottom=E;var y=s.getElement("sf_align"),b=y&&y.style,w=["position:absolute;"];h&&E?w.push("top:"+h+"px;"):h?w.push("bottom:0px;"):E&&w.push("top:0px;"),m&&v?w.push("left:"+m+"px;"):m?w.push("right:0px;"):E&&w.push("left:0px;"),b&&(b.cssText=w.join(" "))}var I={name:"expand",ext:e.ext},_=new d(I);return _.bounds=p,_}r.logError("Invalid Safeframe Config, Expansion disabled for both methods for targetId : "+t.targetId)}else r.logError("Invalid Safeframe Config for Expansion by Overlay for targetId : "+t.targetId);else r.logError("Invalid Safeframe Config for Expansion by Push for targetId : "+t.targetId)}else r.logError("Invalid expand arguments passed for targetId : "+t.targetId)},s.collapse=function(e){c(0,0);var t={name:"collapse",ext:e&&e.ext?e.ext:void 0};return new d(t)},s.getElement=function(e){return r.getWindow().document.getElementById(e)}}]);