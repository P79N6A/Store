(function() {var h,m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,aa={};function p(a,b){(aa[a]=aa[a]||[]).push(b);var c=m;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ba(){ba=function(){};if(!m.Symbol){m.Symbol=ca;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var e=[],f=0,g=d.length;f<g;f++){var k;a:if(k=d[f],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[f]):e.push(d[f])}return e}};p("Object.keys",b);p("Object.getOwnPropertyNames",b);p("Object.getOwnPropertySymbols",function(c){return function(d){b.Lf=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var da=0;
function ca(a){return"jscomp_symbol_"+a+da++}function ea(){ba();m.Symbol.iterator||(m.Symbol.iterator=m.Symbol("iterator"));ea=function(){}}function q(a){ea();ba();ea();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function fa(a){if(!(a instanceof Array)){a=q(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function r(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}var ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function t(a,b){if(b){for(var c=m,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];b=b(e);if(b!=e){a=aa[a]||[];for(e=0;e<a.length;e++)b=a[e](b);ha(c,d,{configurable:!0,writable:!0,value:b})}}}t("Array.prototype.fill",function(a){return a?a:function(a,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});
function u(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
t("WeakMap",function(a){function b(a){this.Cb=(k+=Math.random()+1).toString();if(a){ba();ea();a=q(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!u(a,f)){var b={};b[f]=g;ha(a,f,{value:b})}}function d(a){return function(b){var c=a(b);if(u(b,f)&&u(b[f],f)&&b[f][f]===g)for(b=0;b<c.length;b++)if(c[b]==f){c.splice(b,1);break}return c}}function e(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),d=
new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var f="$jscomp_hidden_"+Math.random().toString().substring(2),g={};p("Object.getOwnPropertyNames",d);p("Object.keys",d);p("Reflect.enumerate",d);p("Reflect.ownKeys",d);p("Object.freeze",e);p("Object.preventExtensions",e);p("Object.seal",e);var k=0;b.prototype.set=function(a,b){c(a);if(!u(a,f))throw Error("WeakMap key fail: "+a);a[f][this.Cb]=b;return this};b.prototype.get=function(a){return u(a,
f)?a[f][this.Cb]:void 0};b.prototype.has=function(a){return u(a,f)&&u(a[f],this.Cb)};b.prototype.delete=function(a){return u(a,f)&&u(a[f],this.Cb)?delete a[f][this.Cb]:!1};return b});
t("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.xa,d={next:function(){if(c){for(;c.head!=a.xa;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?f.has(b)?c=f.get(b):(c=""+ ++g,f.set(b,c)):c="p_"+b;var d=a.xb[c];if(d&&u(a.xb,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==
e.key||b===e.key)return{id:c,list:d,index:a,H:e}}return{id:c,list:d,index:-1,H:void 0}}function e(a){this.xb={};this.xa=b();this.size=0;if(a){a=q(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(q([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;
e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(f){return!1}}())return a;ba();ea();var f=new WeakMap;e.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.xb[c.id]=[]);c.H?c.H.value=b:(c.H={next:this.xa,previous:this.xa.previous,head:this.xa,key:a,value:b},c.list.push(c.H),this.xa.previous.next=c.H,this.xa.previous=c.H,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.H&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.xb[a.id],a.H.previous.next=a.H.next,a.H.next.previous=a.H.previous,a.H.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.xb={};this.xa=this.xa.previous=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).H};e.prototype.get=function(a){return(a=d(this,a).H)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,function(a){return a.value})};
e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var g=0;return e});function ia(a,b){ea();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
t("Array.prototype.keys",function(a){return a?a:function(){return ia(this,function(a){return a})}});t("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)u(e,f)&&(a[f]=e[f])}return a}});
t("String.prototype.includes",function(a){return a?a:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(a,c||0)}});t("Array.prototype.values",function(a){return a?a:function(){return ia(this,function(a,c){return c})}});
t("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var g=d[f];if(a.call(c,g,f,d)){a=g;break a}}a=void 0}return a}});t("Array.prototype.entries",function(a){return a?a:function(){return ia(this,function(a,c){return[a,c]})}});function ja(){}function v(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid argument":ka.apply(ja,[].concat([b],fa(d))));}function x(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!a)throw Error(2>arguments.length?"invalid state":ka.apply(ja,[].concat([b],fa(d))));}
function y(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(null==a)throw Error(2>arguments.length?"argument is null":ka.apply(ja,[].concat([b],fa(d))));return a}function ka(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var e=0;return a.replace(/\{}/g,function(){return e<c.length?c[e++]:"{}"})};function z(a){this.$el=a}z.prototype.remove=function(){this.$el.remove()};function A(a){this.$el=a;this.kb={}}A.prototype.remove=function(){this.$el.off();this.$el.remove()};A.prototype.on=function(a,b){v(!this.kb[a],"listener already registered for event {}",a);this.kb[a]=b};A.prototype.off=function(a,b){null==a?this.kb={}:null!=b&&this.kb[a]!=b||delete this.kb[a]};A.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.kb[a])&&d.apply(null,[].concat(fa(c)))};function la(a){var b=this;A.call(this,a);a.on("click",".marketplaceAppBanner__close",function(){return b.trigger(ma)})}r(la,A);var ma="CLOSE";function B(a){this.cf=a.fallback;this.ye=a.localePrecedence;this.qd={};this.o=a.messages;this.lf=this.ye[0];this.pf=!!a.returnKeys}B.prototype.format=function(a,b){if(this.pf)return[].join.call(arguments,":");var c=na(this,a);return c.format.call(c,[].slice.call(arguments,1))};
B.prototype.df=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],fa(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function na(a,b){if(a.qd.hasOwnProperty(b))return a.qd[b];var c=a.lf,d;a.ye.some(function(c){d=a.o[c]&&a.o[c][b];return void 0!==d});d||(c=a.cf,d=a.o[c]&&a.o[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,oa);return a.qd[b]=c}var oa={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function pa(){this.config=window.cmsg;this.Na=this.pd=this.i=this.l=null}function qa(){if(!window.cmsg)throw Error("window['cmsg'] isn't defined");return new pa}function ra(a){a.l||(a.l=new ta(a.config));return a.l}function ta(a){B.apply(this,arguments)}r(ta,B);function ua(a){B.apply(this,arguments)}r(ua,B);function C(a){return a.format("passwordStrengthFeedbackMessage4")}function va(a){return a.format("passwordStrengthFeedbackMessage7")}
function wa(a){return a.format("passwordStrengthFeedbackMessage11")}function xa(a){return a.format("passwordStrengthFeedbackMessage12")}function ya(a){return a.format("passwordStrengthFeedbackMessage13")}function za(a){B.apply(this,arguments)}r(za,B);za.prototype.nb=function(){return this.format("marketplaceNoResultsFoundLabel")};function Aa(a){B.apply(this,arguments)}r(Aa,B);function Ba(a,b){var c=this;this.view=b;this.Za=a.Za;this.view.on(ma,function(){return c.Ya()})}Ba.prototype.Ya=function(){this.view.remove();this.Za&&this.Za()};function D(a){this.type=a}D.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};D.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
D.prototype.qb=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var E=new D("string"),Ca=new D("boolean"),F=new D("number"),G=new D("object");function Da(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function H(a,b){return F.optional(a,b)||0}
function I(a,b){return E.required(a,b)}function J(a,b){return E.optional(a,b)}function K(a,b){return Ca.optional(a,b)||!1}function Ea(a,b,c){return(b=G.qb(b,c))?b.map(a):b}function Fa(a,b,c){return a(b,E.required(b,c))}function Ga(a,b,c){c=E.optional(b,c);return null!=c?a(b,c):c}function Ha(a,b,c){c=E.qb(b,c);return null!=c?c.map(a.bind(null,b)):c}
function Ia(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var e=new Map,f=q(Object.keys(d)),g=f.next();!g.done;g=f.next())g=g.value,e.set(a(c,g),b(c,g,d));return e}function Ja(a,b){return b}function Ka(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}
function La(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function Ma(a){this.type=a}Ma.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Ma.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};Ma.prototype.qb=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var L=new Ma("string"),Na=new Ma("boolean"),Oa=new Ma("number");
function Pa(a,b){return 0!==b?Oa.required(a,b):void 0}function Qa(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)};function Ra(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Sa(b))}function Sa(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Ta(a){switch(a){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "status", found: '+JSON.stringify(a));}}function Ua(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Va(a){this.type=a.type}
function Wa(a){this.type="FACEBOOK";this.oa=a.oa}r(Wa,Va);Wa.prototype.getToken=function(){return this.oa};function Xa(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status;this.kd=a.kd}Xa.prototype.getVersion=function(){return this.version};
function Ya(a){var b=Pa("version",a.version),c;c=a.sizes;var d=Qa.bind(null,Za);if(!(c instanceof Map))throw new TypeError('expected Map for property "sizes", found: '+JSON.stringify(c));if(c.size){for(var e={},f=q(c.keys()),g=f.next();!g.done;g=f.next()){g=g.value;if("string"!==typeof g)throw new TypeError('expected string key in property "sizes", found: '+JSON.stringify(g));e[g]=d("sizes",c.get(g))}c=e}else c=void 0;d=a.status;d=L.optional("status",d?Ta(d):null);a=a.kd;a=!1!==a?Na.required("isDefault",
a):void 0;return{version:b,sizes:c,status:d,isDefault:a}}function $a(a){var b=H("version",a),c;c=Ia(Ja,Ka.bind(null,ab),"sizes",a);return new Xa({version:b,sizes:c,status:Ga(Ua,"status",a),kd:K("isDefault",a)})}function bb(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}function Za(a){return{size:Pa("size",a.size),width:Pa("width",a.width),height:Pa("height",a.height),url:L.required("url",a.url)}}
function ab(a){return new bb({size:H("size",a),width:H("width",a),height:H("height",a),url:I("url",a)})}function cb(a){this.id=a.id;this.username=a.username;this.sc=a.sc;this.displayName=a.displayName;this.gd=a.gd;this.Qc=a.Qc;this.ba=a.ba;this.Ub=a.Ub;this.locale=a.locale;this.Wc=a.Wc}h=cb.prototype;h.ja=function(){return this.id};h.dd=function(){return this.username};h.ad=function(){return this.sc};h.wa=function(){return this.displayName};h.pe=function(){return this.Ub};h.yb=function(){return this.locale};function db(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.Ef||null;this.personal=a.za||!1;this.contributor=a.Ff||!1;this.layoutContributor=a.Gf||!1;this.thirdParty=a.Kf||!1;this.brandColor=a.Df||null}db.prototype.ja=function(){return this.id};db.prototype.wa=function(){return this.displayName};
function eb(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.sc||"";this.displayName=a.displayName||"";this.homepage=a.gd||null;this.city=a.Qc||null;this.countryCode=a.ba||null;this.avatar=a.Ub||null;this.roles=a.Hf||[];this.deactivated=a.Wc||!1;this.locale=a.locale||"en"}h=eb.prototype;h.ja=function(){return this.id};h.dd=function(){return this.username};h.ad=function(){return this.personalBrand};h.wa=function(){return this.displayName};
h.re=function(){return this.roles};h.Pe=function(){var a=Object.assign({},this,{avatar:this.avatar&&Ya(this.avatar)});return new cb({id:I("id",a),username:J("username",a),sc:J("personalBrand",a),displayName:J("displayName",a),gd:J("homepage",a),Qc:J("city",a),ba:J("countryCode",a),Ub:$a(G.required("avatar",a)),locale:I("locale",a),Wc:K("deactivated",a)})};$a({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function M(a){this.Ua=a.Ua;this.Va=a.Va;this.user=a.user;this.ca=a.ca;this.za=a.za;this.Da=a.Da;this.ha=a.ha;this.ba=a.ba;this.Qa=a.Qa}function fb(a){return new M({Ua:I("experience",a),Va:Ia(Ja,La,"experiments",a)||new Map,user:J("user",a)||null,ca:J("brand",a)||null,za:Ca.optional("personal",a)||null,Da:F.optional("cohort",a)||null,ha:J("tier",a)||null,ba:J("countryCode",a)||null,Qa:J("userLocale",a)||null})};function N(a){this.config=a;this.ee=null;this.Be=[];this.ready=!1}
function gb(a,b){var c=Object.assign({},b),d={};a.ee&&(c.design=a.ee);c.experience=a.config.Ua;a.config.Va.forEach(function(a,b){c["Experiment_"+b]=a;d[b]=a});c.experiments=JSON.stringify(d);a.config.ca&&(c.brand=a.config.ca);null!=a.config.za&&(c.personal=a.config.za);null!=a.config.Da&&(c.cohort=a.config.Da);a.config.ha&&(c.tier=a.config.ha);null!=a.config.ba&&(c.country_code=a.config.ba);null!=a.config.Qa&&(c.locale=a.config.Qa);c.product_variant="web-1";hb(c);return c}
function hb(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}function ib(a,b){null==a.Be?b.call(a):a.Be.push(b.bind(a))}
function jb(a,b){var c=window.lastUserTraits||kb(new lb),d=mb(new lb,"__user",a);a=a!==c.get("__user");if(b&&nb(b)){for(var e=q(b),f=e.next();!f.done;f=e.next()){var g=q(f.value),f=g.next().value,g=g.next().value;a=a||g!==c.get(f)}c=q(b.keys());for(e=c.next();!e.done;e=c.next())e=e.value,mb(d,e,b.get(e))}a&&(window.lastUserTraits=kb(d));return a}function nb(a){v(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
N.prototype.mf=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];d=c.map(function(a){return encodeURIComponent(a.toLowerCase())});c=0<d.length?d.join("/"):"";d=0<d.length?d.join("+"):"";this.xc(c+"/search_results?q\x3d"+encodeURIComponent(a)+"\x26cat\x3d"+d)};N.prototype.xc=function(){};N.prototype.zoom=function(a,b,c,d,e){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:e})};function O(a,b){return a.track(b.name,b.vc)}
function Q(a,b){this.name=a;this.vc={};b&&(this.vc.category=b)}function R(a,b,c){if(a.vc[b])throw Error("duplicated property");a.vc[b]=c;return a}function lb(){this.items=[]}function mb(a,b,c){a.items.push({key:b,value:c});return a}function kb(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function ob(a,b){this.Pc=a;this.namespace=void 0===b?null:b}function pb(a){if(window.localStorage)return new ob(window.localStorage,a);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}ob.prototype.setItem=function(a,b){try{return this.Pc.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};ob.prototype.getItem=function(a){return this.Pc.getItem(null==this.namespace?a:this.namespace+"."+a)};
ob.prototype.removeItem=function(a){this.Pc.removeItem(null==this.namespace?a:this.namespace+"."+a)};function qb(a){M.call(this,a)}r(qb,M);function rb(a){N.call(this,a);this.sb=null}r(rb,N);h=rb.prototype;h.track=function(a,b){window.console.log("analytics:track",this.sb,a,gb(this,b));return P.resolve()};
h.identify=function(a,b,c){this.sb=a;if(jb(a,b)){var d=window.lastUserTraits||kb(new lb),e=mb(new lb,"__user",a);if(d&&nb(d))for(var f=q(d.keys()),g=f.next();!g.done;g=f.next())g=g.value,"__user"!==g&&mb(e,g,d.get(g));if(b&&nb(b))for(d=q(b.keys()),g=d.next();!g.done;g=d.next())f=g.value,mb(e,f,b.get(f));window.lastUserTraits=kb(e);window.console.log("analytics:identify",a,b,c)}return P.resolve()};h.dc=function(){window.console.log("analytics:getAnonymousUserId");return new P(function(a){return a("")})};
h.alias=function(a){window.console.log("analytics:alias",this.sb,a);this.sb=a};h.set=function(a){window.console.log("analytics:set",this.sb,a);return P.resolve()};h.union=function(a){window.console.log("analytics:union",this.sb,a)};h.xc=function(a){window.console.log("analytics:search",a)};function sb(){}sb.prototype.now=function(){return Date.now()};var tb=new sb;var vb=new ub;function ub(){}h=ub.prototype;h.setInterval=function(a,b){return window.setInterval(a,b)};h.clearInterval=function(a){window.clearInterval(a)};h.setTimeout=function(a,b){return window.setTimeout(a,b)};h.clearTimeout=function(a){window.clearTimeout(a)};h.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};h.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function wb(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function xb(a){M.call(this,a);this.oa=a.oa}r(xb,M);function yb(a,b){var c=this;N.call(this,a);this.oa=a.oa;this.K=b;this.Ic=void 0;this.jd=null;this.defer(function(){return Ab(c)})}r(yb,N);h=yb.prototype;h.track=function(a,b){var c=this;return this.defer(function(d){Ab(c).track(a,gb(c,b),{},function(){return d()})})};h.identify=function(a,b,c){var d=this;return jb(a,b)?this.jd=this.defer(function(e){Ab(d).identify(a,d.Dc(b),c,function(){return e()})}):this.jd||P.resolve()};h.dc=function(){return Bb(this).then(function(a){return a.user().anonymousId()}).catch(function(){})};
h.alias=function(a){var b=this;this.defer(function(){Ab(b).alias(a)})};h.set=function(a){var b=this;return this.defer(function(c){Ab(b).identify(b.Dc(a),function(){return c()})})};h.union=function(){};h.xc=function(a){var b=this,c={path:a,url:(location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:""))+"/"+a};this.defer(function(){Ab(b).page(c,{})})};
h.Dc=function(a){var b={};if(a&&nb(a)){a=q(a);for(var c=a.next();!c.done;c=a.next()){var d=q(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};
function Bb(a){if(!a.Ic){var b=Ab(a),c=new P(function(a){return b.ready(a)}),d=P.delay(5E3).then(function(){return P.reject("timeout")}),e,f=new P(function(b){e=a.K.setInterval(function(){var c=Cb();c&&c.user&&c.user()&&(a.K.clearInterval(e),b())},500)});a.Ic=P.race([c,d,f]).then(function(){return Cb()}).finally(function(){return a.K.clearInterval(e)})}return a.Ic}function Cb(){x("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}
function Ab(a){var b=Cb();window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,b.load(a.oa),b.page({path:location.pathname,url:location.href},{}));return b}h.defer=function(a){var b=this;return new P(function(c){b.K.setTimeout(function(){return a(c)},0)})};function Db(a){M.call(this,a);this.url=a.url}r(Db,M);function Eb(a,b,c){N.call(this,a);this.url=a.url;this.K=b;this.nd=c}r(Eb,N);
function Fb(a,b){b=!(!b||!b.getItem("sensorsDataLoggingEnabled"));window.sensorsDataAnalytic201505="sa";var c={},d={};window.sa=(d.para=(c.name="sa",c.server_url=a.url,c.heatmap={},c.cross_domain=!0,c.show_log=b,c.send_type="ajax",c),d);b=new P(function(a,b){var c=document.createElement("script");c.src="https://static.canva.com/static/lib/sensorsdata-1.10.9.min.js";c.onerror=function(a){return b(a)};c.onload=function(){return a(window.sa)};document.body.appendChild(c)});b.then(function(a){var b=["utm_source","utm_medium",
"utm_term","utm_content","utm_campaign"];window.location.search.substring(1).split("\x26").forEach(function(c){var d=q(c.split("\x3d"));c=d.next().value;d=d.next().value;if(b.includes(c)){var l={};d&&a&&a.nf&&a.nf((l["$latest_"+c]=decodeURIComponent(d),l))}})});return new Eb(a,vb,b)}h=Eb.prototype;h.track=function(a,b){var c=this;return this.nd.then(function(d){return d.track(a,gb(c,b))})};h.identify=function(a,b){var c=this;return this.nd.then(function(d){d.login(a);b&&d.setProfile(c.Dc(b))})};
h.dc=function(){return this.nd.then(function(a){return a.store.getDistinctId()})};h.alias=function(){};h.set=function(){};h.union=function(){};h.xc=function(){};h.Dc=function(a){var b={};if(a&&nb(a)){a=q(a);for(var c=a.next();!c.done;c=a.next()){var d=q(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b};function Gb(a,b){Cb();if(a instanceof qb)b=new rb(a);else if(a instanceof xb)b=new yb(a,vb);else if(a instanceof Db)b=Fb(a,b);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}
function Hb(){var a=Da(window.analyticsConfig),b=I("impl",a),c=null;try{c=pb()}catch(d){}switch(b){case "console":return Gb(new qb(fb(a)),c);case "segment":return b=fb(a),a=new xb({Ua:b.Ua,Va:b.Va,user:b.user,ca:b.ca,za:b.za,Da:b.Da,ha:b.ha,oa:I("segmentWriteKey",a),ba:b.ba,Qa:b.Qa}),Gb(a,c);case "sensorsdata":return b=fb(a),a=new Db({Ua:b.Ua,Va:b.Va,user:b.user,ca:b.ca,za:b.za,Da:b.Da,ha:b.ha,url:I("sensorsDataUrl",a),ba:b.ba,Qa:b.Qa}),Gb(a,c);default:throw Error('No such analytics type: "'+b+'"');
}};function Ib(a){this.id=a.id;this.Ie=a.Ie;this.ca=a.ca;this.status=a.status;this.Ke=a.Ke;this.Re=a.Re;this.De=a.De;this.Ge=a.Ge;this.Fe=a.Fe;this.Vd=a.Vd;this.ke=a.ke}Ib.prototype.ja=function(){return this.id};function Jb(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Kb(a){this.id=a.id;this.displayName=a.displayName;this.xe=a.xe;this.Te=a.Te;this.ha=a.ha;this.ne=a.ne;this.Se=a.Se;this.Wd=a.Wd;this.Je=a.Je}Kb.prototype.ja=function(){return this.id};Kb.prototype.wa=function(){return this.displayName};function Lb(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function Mb(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}};function Nb(a,b){switch(b){case "GRID":return"GRID";case "CHART":return"CHART";case "TEMPLATE":return"TEMPLATE";case "ANIMATED_TEMPLATE":return"ANIMATED_TEMPLATE";default:throw new TypeError('expected Annotation for property "'+a+'", found: '+JSON.stringify(b));}}function Ob(a,b){switch(b){case "EU":return"EU";default:throw new TypeError('expected Region for property "'+a+'", found: '+JSON.stringify(b));}}
function Pb(a){this.id=a.id;this.displayName=a.displayName;this.Sd=a.Sd||[];this.Ne=a.Ne;this.parent=a.parent;this.ce=a.ce;this.Oe=a.Oe;this.te=a.te;this.je=a.je||[];this.Td=a.Td}Pb.prototype.ja=function(){return this.id};Pb.prototype.wa=function(){return this.displayName};Pb.prototype.getParent=function(){return this.parent};
function Qb(a){var b=I("id",a),c=I("displayName",a),d=E.qb("ancestors",a),e=J("shortName",a),f=J("parent",a),g=J("creatableAncestor",a),k;k=Rb;var l=G.optional("thumbnail",a);k=l?k(l):l;return new Pb({id:b,displayName:c,Sd:d,Ne:e,parent:f,ce:g,Oe:k,te:J("iconUrl",a),je:Ea(Sb,"editorSuggestions",a),Td:Ga(Nb,"annotation",a)})}function Tb(a){this.url=a.url;this.width=a.width;this.height=a.height;this.media=a.media}
function Rb(a){return new Tb({url:I("url",a),width:H("width",a),height:H("height",a),media:J("media",a)})}function Ub(a){this.name=a.name;this.displayName=a.displayName;this.Uc=a.Uc;this.Le=a.Le;this.he=a.he;this.category=a.category;this.ae=a.ae||[];this.Me=a.Me||[]}Ub.prototype.getName=function(){return this.name};Ub.prototype.wa=function(){return this.displayName};Ub.prototype.qe=function(){return this.Uc};
function Sb(a){return new Ub({name:I("name",a),displayName:J("displayName",a),Uc:J("country",a),Le:Ga(Ob,"region",a),he:I("docType",a),category:I("category",a),ae:E.qb("countries",a),Me:Ha(Ob,"regions",a)})}function Vb(a){this.u=a.u;this.query=a.query;this.be=a.be;this.Rd=a.Rd;this.locale=a.locale;this.Ta=a.Ta;this.limit=a.limit}Vb.prototype.getAncestor=function(){return this.Rd};Vb.prototype.yb=function(){return this.locale};function Wb(a){this.locale=a.locale;this.La=a.La||[];this.Ta=a.Ta}
Wb.prototype.yb=function(){return this.locale};function Xb(a){return new Wb({locale:I("locale",a),La:Ea(Qb,"results",a),Ta:J("continuation",a)})};function Yb(){this.xhr=null}Yb.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Yb.prototype.finish=function(){this.xhr=null};function Zb(a){this.Qd=a&&a.analyticsContext||null;this.Mc=a&&a.authToken||null;this.Oc=a&&a.authzToken||null;this.Xd=a&&a.brandRestriction||null;this.Yd=a&&a.buildName||null;this.Zd=a&&a.buildSha||null;this.ta=a&&a.csrfTokens||{};this.Cd=a&&a.serverRoot||null;this.qf=!!this.Cd;this.rf=this.Cd?this.Cd+"/_ajax":"/_ajax"}
function $b(){return new Zb(window.httpServiceConfig)}function ac(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}Zb.prototype.get=function(a,b){var c=new Yb;this.send("GET",a,null,!0,null,c,b);return c};function bc(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Zb.prototype.post=function(a,b,c){var d=new Yb;cc(this,"POST",a,b,!0,0,d,c);return d};
function dc(a,b,c){var d;return(new P(function(e,f){d=a.post(b,c,function(a,b){200<=a&&300>a?e([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}
function cc(a,b,c,d,e,f,g,k){var l=ac(c);if(l in a.ta){var n=a.ta[l];a.send(b,c,d,e,n,g,function(w,zb){418==w&&1>f?(a.ta[l]==n&&delete a.ta[l],cc(a,b,c,d,e,f+1,g,k)):(k&&k(w,zb),g.finish())})}else a.send("GET","/csrf"+l,null,e,null,g,function(n,zb){200==n?(l in a.ta||(a.ta[l]=String(zb)),cc(a,b,c,d,e,f,g,k)):(k(n,null),g.finish())})}
Zb.prototype.send=function(a,b,c,d,e,f,g){function k(){4==n.readyState&&l()}function l(){var a,b,c;try{a=n.status;var d,e;try{d=n.getResponseHeader("X-Canva-Auth")}catch(l){}try{e=n.getResponseHeader("X-Canva-Authz")}catch(l){}d&&(w.Mc="!"!=d?d:null);e&&(w.Oc="!"!=e?e:null);b=n.responseText}catch(l){if(l.message&&l.message.match(/c00c023f/))a=0,b="";else throw f.finish(),l;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){g(500,null);f.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(l){g(500,null);f.finish();return}}else c=null;g(a,c);f.finish()}b=this.rf+b;var n=f.xhr=new XMLHttpRequest,w=this;n.open(a,b,d);this.qf&&(n.withCredentials=!0);"GET"!=a&&e&&n.setRequestHeader("X-Csrf-Token",e);this.Qd&&n.setRequestHeader("X-Canva-Analytics",this.Qd);this.Mc&&n.setRequestHeader("X-Canva-Auth",this.Mc);this.Oc&&n.setRequestHeader("X-Canva-Authz",this.Oc);this.Xd&&n.setRequestHeader("X-Canva-Brand",this.Xd);this.Yd&&n.setRequestHeader("X-Canva-Build-Name",
this.Yd);this.Zd&&n.setRequestHeader("X-Canva-Build-Sha",this.Zd);null===c||void 0===c?a=null:(n.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(n.onreadystatechange=k,n.send(a)):(n.send(a),l())};function ec(){this.name="la";this.defaultValue=0};function fc(a){this.values=a||{}}fc.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;v(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function gc(a){z.apply(this,arguments)}r(gc,z);function hc(a){this.id=a.id;this.displayName=a.displayName;this.jb=a.jb;this.parent=a.parent}hc.prototype.ja=function(){return this.id};hc.prototype.wa=function(){return this.displayName};hc.prototype.getParent=function(){return this.parent};function ic(a){this.u=a.u;this.Jb=a.Jb;this.cb=a.cb||[];this.Cc=a.Cc;this.oc=a.oc;this.fb=a.fb||[];this.Gb=a.Gb;this.ua=a.ua;this.category=a.category;this.query=a.query;this.ya=a.ya;this.Fa=a.Fa;this.rd=a.rd;this.zc=a.zc;this.tag=a.tag;this.mc=a.mc}
ic.prototype.getTag=function(){return this.tag};function jc(a){this.view=a}jc.prototype.destroy=function(){this.view.remove()};function kc(a){var b=this;A.call(this,a);this.ze=function(){b.trigger(lc,window.history.state)};this.$el.on("popstate",this.ze)}r(kc,A);kc.prototype.remove=function(){this.$el.off("popstate",this.ze)};kc.prototype.pushState=function(a,b){b?window.history.pushState(a,document.title,b):window.history.pushState(a,document.title)};kc.prototype.replaceState=function(a,b){b?window.history.replaceState(a,document.title,b):window.history.replaceState(a,document.title)};kc.prototype.back=function(){window.history.back()};
var lc="BROWSER_NAVIGATED";function mc(a,b,c){return R(R(R(R(new Q("marketplace_media_item_clicked"),"location","marketplace_gallery"),"media_id",a),"category_id",b),"current_page",c)}function nc(a,b,c,d,e){a=R(R(R(new Q("marketplace_"+a+"_clicked"),"from",b),"section",c),"state",e?"logged_in":"logged_out");d&&R(a,"category",d);return a}
function oc(){var a=pc,b=qc,c=rc;$("[data-event-scope]").click(function(d){var e=$(d.target).data("event-category");O(b,nc(a,location.href,String($(d.target).data("event-scope")),e?String(e):null,c))})}function sc(a,b){return R(R(new Q("EXP_marketplace_templates_loaded"),"state",a?"logged_in":"logged_out"),"is_signup_form_embedded",b)}function tc(a){return R(new Q("EXP_marketplace_signup_dialog_loaded"),"source_page",a)}
function uc(a){return R(new Q("EXP_marketplace_signup_dialog_clicked"),"source_page",a)};function vc(a){soy.asserts.assertType(goog.isString(a.nb)||a.nb instanceof goog.soy.data.SanitizedContent,"noResultsFoundLabel",a.nb,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"marketplace__gridItem marketplace__gridItem--fullWidth marketplaceResultGrid__noResults"\x3e\x3cdiv class\x3d"marketplace__gridItemInner marketplace__gridItemInner--noBackground"\x3e'+soy.$$escapeHtml(a.nb)+"\x3c/div\x3e\x3c/div\x3e")};function wc(a){this.$el=a;this.Ib=null}r(wc,z);
wc.prototype.rb=function(a){var b=this;this.$el.toggleClass("loadSpinner--loading",a);this.$el.find(".loadSpinner__scaleEffect").toggleClass("loadSpinner__scaleEffect--fullSize",a);a?(this.Ib&&this.Ib.cancel(),this.Ib=null,this.$el.find(".loadSpinner__spinner").removeClass("loadSpinner__spinner--paused")):this.Ib=P.delay(200).cancellable().then(function(){b.$el.find(".loadSpinner__spinner").addClass("loadSpinner__spinner--paused");b.Ib=null}).catch(P.CancellationError);return P.delay(200)};function xc(a,b){A.call(this,a);this.ff=b}r(xc,A);function yc(a){var b=new wc(a.find(".loadSpinner"));return new xc(a,b)}
function zc(a,b){Ac(a);b.forEach(function(b){var d=$,e;e=e||{};soy.asserts.assertType(goog.isString(b.Ia)||b.Ia instanceof goog.soy.data.SanitizedContent,"mediaId",b.Ia,"string|goog.soy.data.SanitizedContent");var f=b.Ia;soy.asserts.assertType(goog.isString(b.Oa)||b.Oa instanceof goog.soy.data.SanitizedContent,"singlePagePath",b.Oa,"string|goog.soy.data.SanitizedContent");var g=b.Oa,k=goog.asserts.assertNumber(b.Nb,"expected parameter 'thumbnailHeight' of type int."),l=goog.asserts.assertNumber(b.Ob,
"expected parameter 'thumbnailWidth' of type int.");soy.asserts.assertType(goog.isString(b.Pa)||b.Pa instanceof goog.soy.data.SanitizedContent,"thumbnailUrl",b.Pa,"string|goog.soy.data.SanitizedContent");var n=b.Pa;soy.asserts.assertType(goog.isString(b.title)||b.title instanceof goog.soy.data.SanitizedContent,"title",b.title,"string|goog.soy.data.SanitizedContent");b=b.title;e=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"marketplace__gridItem marketplace__gridItem--mediaCard"\x3e\x3cdiv class\x3d"marketplace__gridItemInner"\x3e\x3ca href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(g))+'" class\x3d"marketplaceCard__thumbnailLink" data-label\x3d"'+soy.$$escapeHtmlAttribute(b)+'" data-media-id\x3d"'+soy.$$escapeHtmlAttribute(f)+'" style\x3d"'+(e.Vc?"/*"+e.Vc+"*/":"")+"padding-top:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(100*k/l))+'%"\x3e\x3cimg class\x3d"marketplaceCard__thumbnail" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(n))+'" alt\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
d=d(e.toString());a.$el.append(d)});Bc(a)}function Cc(a,b){Ac(a);a.$el.append($(vc({nb:b}).toString()));Bc(a)}xc.prototype.Ad=function(){this.$el.find(".marketplace__gridItem--mediaCard, .marketplaceResultGrid__noResults").remove();Bc(this)};function Ac(a){a.$el.removeClass("marketplace__grid--loaded");a.$el.masonry("destroy");a.$el.find(".marketplace__gridItem--mediaCard, .marketplaceResultGrid__noResults").remove()}
function Bc(a){a.$el.one("layoutComplete",function(){a.$el.addClass("marketplace__grid--loaded")});a.$el.masonry({itemSelector:".marketplace__gridItem"})}xc.prototype.rb=function(a){var b=this;return this.ff.rb(a).then(function(){b.$el.find(".marketplaceResultGrid__loadSpinner").toggleClass("marketplaceResultGrid__loadSpinner--hidden",!a)})};function Dc(a){var b=this;A.call(this,a);a.on("click",".marketplacePagination__link",function(a){return b.v(a)})}r(Dc,A);Dc.prototype.v=function(a){a.ctrlKey||a.metaKey||this.trigger(Ec,Number(a.target.dataset.modelId),function(){return a.preventDefault()})};var Ec="PAGE_LINK_CLICK";function Fc(a){var b='\x3cdiv class\x3d"relatedQueries__list"\x3e';a=goog.asserts.assertArray(a.Y,"expected parameter 'relatedQueries' of type list\x3c[displayName: string, path: string]\x3e.");for(var c=a.length,d=0;d<c;d++)var e=a[d],b=b+('\x3ca class\x3d"relatedQueries__listItem" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(e.path))+'"\x3e'+soy.$$escapeHtml(e.displayName)+"\x3c/a\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e")};function Gc(a){this.displayName=a.displayName;this.path=a.path}Gc.prototype.wa=function(){return this.displayName};function Hc(a){return new Gc({displayName:I("displayName",a),path:I("path",a)})}function Ic(a){this.Ia=a.Ia;this.title=a.title;this.Nb=a.Nb;this.Ob=a.Ob;this.Pa=a.Pa;this.Oa=a.Oa}function Jc(a){return new Ic({Ia:I("mediaId",a),title:J("title",a),Nb:H("thumbnailHeight",a),Ob:H("thumbnailWidth",a),Pa:I("thumbnailUrl",a),Oa:I("singlePagePath",a)})}
function Kc(a){this.category=a.category;this.u=a.u;this.locale=a.locale;this.page=a.page;this.limit=a.limit;this.cb=a.cb||[];this.query=a.query;this.Xc=a.Xc;this.Ee=a.Ee;this.Fa=a.Fa;this.fc=a.fc}Kc.prototype.yb=function(){return this.locale};function Lc(a){this.La=a.La||[];this.Y=a.Y||[];this.Jd=a.Jd}Lc.prototype.fc=function(){return this.Y};function Mc(a){return new Lc({La:Ea(Jc,"results",a),Y:Ea(Hc,"relatedQueries",a),Jd:H("totalHits",a)})};function Nc(a){this.$el=a}r(Nc,z);
Nc.prototype.wc=function(a){var b=$;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var c=a.title,d=goog.asserts.assertArray(a.Y,"expected parameter 'relatedQueries' of type list\x3c[displayName: string, path: string]\x3e.");a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"relatedQueries"\x3e'+(0<d.length?'\x3cdiv class\x3d"relatedQueries__title"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e"+
Fc(a):"")+"\x3c/div\x3e");b=b(a.toString());this.$el.empty().append(b)};function Oc(a,b){var c=this;A.call(this,a);this.ld=b;a.on("click",".stickyHeader__loginButton",function(a){return c.v(a,"loginButton")});a.on("click",".stickyHeader__signupButton",function(a){return c.v(a,"signupButton")})}r(Oc,A);Oc.prototype.v=function(a,b){function c(){}var d=this;a.ctrlKey||a.metaKey||(a.preventDefault(),c=function(){return window.location.href=d.ld});this.trigger(Pc,c,b)};Oc.prototype.show=function(){this.$el.addClass("stickyHeader--show")};Oc.prototype.hide=function(){this.$el.removeClass("stickyHeader--show")};
var Pc="CLICK";function Qc(a,b){var c=this;A.call(this,a);this.ld=b;a.on("click",function(a){return c.v(a)})}r(Qc,A);Qc.prototype.v=function(a){function b(){}var c=this;a.ctrlKey||a.metaKey||(a.preventDefault(),b=function(){return window.location.href=c.ld});this.trigger(Rc,b)};Qc.prototype.show=function(){this.$el.addClass("stickyButton--show")};Qc.prototype.hide=function(){this.$el.removeClass("stickyButton--show")};var Rc="CLICK";function Sc(a){var b=this;A.call(this,a);this.Ba=a.find(".comboBox__query");this.Fc=a.find(".comboBox__completionGroups");a.on("input",".comboBox__query",function(){return b.$a()});a.on("keydown",".comboBox__query",function(a){27===a.keyCode?(a.preventDefault(),b.trigger(Tc)):38===a.keyCode?(a.preventDefault(),b.trigger(Uc)):40===a.keyCode?(a.preventDefault(),b.trigger(Vc)):13===a.keyCode&&(a.preventDefault(),b.trigger(Wc,String(b.Ba.val())))});a.on("click",".comboBox__query",function(){return b.xd()});
a.on("click",".comboBox__completion",function(a){return b.pc(a)});a.on("mouseover",".comboBox__completion",function(a){return b.sd(a)});a.on("mouseleave",".comboBox__completionGroups",function(){b.trigger(Xc)})}r(Sc,A);function Yc(a){a.Ba.removeClass("comboBox__query--flat");a.Fc.addClass("comboBox__completionGroups--hidden")}function Zc(a){a.Ba.addClass("comboBox__query--flat");a.Fc.removeClass("comboBox__completionGroups--hidden")}h=Sc.prototype;h.eb=function(a){this.Ba.val(a)};
h.$a=function(){this.trigger($c,String(this.Ba.val()))};h.xd=function(){""!==String(this.Ba.val())&&this.trigger(ad)};h.sd=function(a){a=new bd($(a.currentTarget));this.trigger(cd,a)};h.pc=function(a){a=new bd($(a.currentTarget));this.trigger(dd,a)};var ad="QUERY_CLICK",Wc="INPUT_SUBMIT",$c="QUERY_INPUT",Tc="ESC_KEY_DOWN",Uc="UP_ARROW_KEY_DOWN",Vc="DOWN_ARROW_KEY_DOWN",cd="COMPLETION_MOUSE_OVER",Xc="COMPLETION_GROUPS_MOUSE_LEAVE",dd="COMPLETION_CLICK";
function ed(a){this.$el=a;this.Nd=a.find(".comboBox__loader");this.Ld=a.find(".comboBox__completions")}r(ed,z);function fd(a){a.Ld.find(".comboBox__completion").remove()}function bd(a){this.$el=a}r(bd,z);bd.prototype.select=function(){this.$el.addClass("comboBox__completion--selected")};function gd(a){a.$el.removeClass("comboBox__completion--selected")};function hd(a,b){A.call(this,a);this.$e=b}r(hd,A);function id(a){var b=new Sc(a.find(".comboBox"));return new hd(a,b)};function jd(a){A.call(this,a)}r(jd,A);function kd(a,b){var c=this;A.call(this,a);this.gc=b.gc;this.Ka=b.Ka;this.yd=b.yd;this.Sa=b.Sa;this.yc=b.yc;this.Ed=this.Fd=null;this.Bb=b.Bb;a.on("click",".marketplaceCard__title, .marketplaceCard__thumbnailLink",function(a){return c.ud(a)});$(window).on("scroll",function(){return c.trigger(ld)})}r(kd,A);kd.prototype.rb=function(a){return this.Ka.rb(a)};function md(a,b){a.$el.find(".marketplaceGallery__pagination").toggleClass("marketplaceGallery__pagination--hidden",!b)}
kd.prototype.ud=function(a){function b(){}var c=String($(a.currentTarget).attr("href")),d=String($(a.currentTarget).data("mediaId"));a.ctrlKey||a.metaKey||(a.preventDefault(),b=function(){return window.location.href=c});this.trigger(nd,d,b)};kd.prototype.redirect=function(a){window.location.href=a};var nd="MEDIA_ITEM_CLICKED",ld="SCROLL";function od(a,b){b=a.path+"?domainName\x3d"+encodeURIComponent(b.u)+(null!=b.category?"\x26category\x3d"+encodeURIComponent(b.category):"")+"\x26locale\x3d"+encodeURIComponent(b.locale)+"\x26page\x3d"+encodeURIComponent(String(b.page))+"\x26limit\x3d"+encodeURIComponent(String(b.limit))+b.cb.map(function(a){return"\x26qualityPrecedence\x3d"+encodeURIComponent(a)}).join("")+(null!=b.query?"\x26query\x3d"+encodeURIComponent(b.query):"")+(null!=b.Xc?"\x26excludeMediaId\x3d"+encodeURIComponent(b.Xc):
"")+(null!=b.Fa?"\x26freeOnly\x3d"+encodeURIComponent(String(b.Fa)):"")+(b.fc?"\x26getRelatedQueries\x3dtrue":"");return bc(a.W,b).get(0).then(Da).then(Mc)};function pd(a,b){this.view=b;this.ka=a.ka;this.qc=a.qc;this.o=a.o;this.view.on(Ec,this.kf.bind(this))}function qd(a,b){return new pd(a,b)}pd.prototype.destroy=function(){this.view.remove()};pd.prototype.kf=function(a,b){this.qc&&(this.qc(a),b(),this.wc({F:a,Z:Number(this.view.$el[0].dataset.totalPages)}))};
pd.prototype.wc=function(a){a.ka&&(this.ka=a.ka);var b=this.view,c=rd({ka:this.ka,Z:a.Z,F:a.F,o:this.o});a=a.Z;for(var d=$,e="",c=goog.asserts.assertArray(c,"expected parameter 'pages' of type list\x3c[current: bool|null, label: string, pageNumber: float|int|null, path: null|string, type: string]\x3e."),f=c.length,g=0;g<f;g++){var k=c[g];if("TEXT"==k.type)soy.asserts.assertType(goog.isString(k.label)||k.label instanceof goog.soy.data.SanitizedContent,"label",k.label,"string|goog.soy.data.SanitizedContent"),
k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"marketplacePagination__item"\x3e'+soy.$$escapeHtml(k.label)+"\x3c/span\x3e");else if("DIVIDER"==k.type)k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"marketplacePagination__item marketplacePagination__item--slim"\x3e…\x3c/span\x3e');else if("LINK"==k.type){var l=k;soy.asserts.assertType(null==l.path||l.path instanceof goog.soy.data.SanitizedContent||goog.isString(l.path),"path",l.path,"null|string|undefined");k=l.path;soy.asserts.assertType(null==
l.current||goog.isBoolean(l.current)||1===l.current||0===l.current,"current",l.current,"boolean|null|undefined");var n=l.current,w=goog.asserts.assertNumber(l.ya,"expected parameter 'pageNumber' of type int.");soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent");l=l.label;k=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"marketplacePagination__link'+(n?" marketplacePagination__item--active":
"")+'" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(w)+'"\x3e'+soy.$$escapeHtml(l)+"\x3c/a\x3e")}else k="";e+=k}c=soydata.VERY_UNSAFE.ordainSanitizedHtml(e);d=d(c.toString());b.$el.empty().append(d);null!=a&&(b.$el[0].dataset.totalPages=a)};function sd(a,b){a.qc=b}
function rd(a){function b(b,c){return{type:"LINK",label:c||""+b,ya:b,path:a.ka(b),current:b===a.F}}v(0<a.F);v(0<a.Z);v(a.F<=a.Z);y(a.ka);var c=[];1<a.F&&c.push(b(a.F-1,"←"));c.push({type:"TEXT",label:a.o.format("marketplacePaginationLabel")});c.push(b(1));var d=Math.max(2,a.F-2),e=Math.min(a.Z-1,a.F+2);2<d&&(c.push({type:"DIVIDER"}),4<d&&(c.push(b(Math.ceil((1+d)/2))),c.push({type:"DIVIDER"})));for(;d<=e;d++)c.push(b(d));e<a.Z-1&&(c.push({type:"DIVIDER"}),e<a.Z-3&&(c.push(b(Math.floor((e+a.Z)/2))),
c.push({type:"DIVIDER"})));1<a.Z&&c.push(b(a.Z));a.F<a.Z&&c.push(b(a.F+1,"→"));return c};function td(a,b){this.view=b;this.o=a.o}function ud(a,b){return new td(a,b)}td.prototype.destroy=function(){this.view.remove()};td.prototype.G=function(){Bc(this.view)};td.prototype.Ad=function(){this.view.Ad()};function vd(a,b){0<b.length?zc(a.view,b.map(function(b){return{Ia:b.Ia,Nb:b.Nb,Ob:b.Ob,Pa:b.Pa,Oa:b.Oa,title:b.title||a.o.format("marketplaceMediaDefaultTitle")}})):Cc(a.view,a.o.nb())};function wd(a,b){this.view=b;this.title=a.title}function xd(a,b){return new wd(a,b)}wd.prototype.destroy=function(){this.view.remove()};function yd(a,b){a.view.wc({title:a.title,Y:b})};function zd(a){this.view=a};function Ad(){this.da=[];this.X={Ga:-1,index:-1}}h=Ad.prototype;h.next=function(){var a=this.da.map(function(a){return a.length});this.X=this.navigate(Bd,this.X,a);return Cd(this)};h.previous=function(){var a=this.da.map(function(a){return a.length});this.X=this.navigate(Dd,this.X,a);return Cd(this)};function Cd(a){x(0<=a.X.Ga&&a.X.Ga<a.da.length&&0<=a.X.index&&a.X.index<a.da[a.X.Ga].length,"Invalid iterator index");return a.da[a.X.Ga][a.X.index]}
function Ed(a,b){var c=!1;a.da.forEach(function(d,e){d.forEach(function(d,g){d===b&&(a.X={Ga:e,index:g},c=!0)})});if(!c)throw Error("Item not found: "+b);}h.reset=function(){this.X={Ga:-1,index:-1}};h.clear=function(){var a=this;this.da.forEach(function(b,c){a.da[c]=[]})};
h.navigate=function(a,b,c){x(c.some(function(a){return 0<a}),"Cannot navigate as all groups are empty.");var d=a===Bd?1:-1,e=b.index+d;b=Math.max(0,b.Ga);for(var f=c.length;0>e||e>=c[b];)b=(b+d)%f,0>b&&(b+=f),e=a===Bd?0:c[b]-1;return{index:e,Ga:b}};h.isEmpty=function(){return this.da.every(function(a){return 0===a.length})};var Bd="NEXT",Dd="PREVIOUS";function Fd(a,b){var c=this;this.view=b;this.Sc=a.Sc;this.Ya=this.Ja=null;this.Zb=new Map;this.Tc=[];this.O=a.O;this.$d=[];this.D=null;b.on(Wc,function(a){c.D?c.pc(c.D):(Yc(c.view),c.Ja({query:a}))});b.on($c,function(a){return c.$a(a)});b.on(Tc,function(){Yc(c.view);c.view.Ba.blur();c.Ya&&c.Ya()});b.on(Uc,function(){c.O.isEmpty()||(c.D&&gd(c.D),Gd(c,c.O.previous()))});b.on(Vc,function(){c.O.isEmpty()||(c.D&&gd(c.D),Gd(c,c.O.next()))});b.on(cd,function(a){return c.sd(a)});b.on(Xc,function(){c.D&&gd(c.D);
c.D=null;c.O.reset()});b.on(dd,function(a){return c.pc(a)});b.on(ad,function(){return c.xd()})}function Hd(a){return new Fd({Sc:function(a,c){return new Id(a,c,vb)},O:new Ad},a)}function Jd(a,b){a.Ja=b}function Kd(a,b){a.Ya=b}
function Ld(a,b){b.forEach(function(b){var d=a.view,e=$,f;f=f={title:b.title};soy.asserts.assertType(null==f.title||f.title instanceof goog.soy.data.SanitizedContent||goog.isString(f.title),"title",f.title,"null|string|undefined");f=f.title;f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox__completionGroup"\x3e'+(f?'\x3cdiv class\x3d"comboBox__groupTitleContainer"\x3e\x3cdiv class\x3d"comboBox__groupTitle"\x3e'+soy.$$escapeHtml(f)+"\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv class\x3d"comboBox__completions"\x3e\x3cdiv class\x3d"comboBox__loader comboBox__loader--hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
e=e(f.toString());e=new ed(e);d.Fc.append(e.$el);b=a.Sc({source:b},e);a.$d.push(b);a.O.da.push([])})}h=Fd.prototype;h.$a=function(a){this.Tc&&this.Tc.forEach(function(a){return a.cancel()});this.O.clear();this.Zb.clear();this.D=null;this.O.reset();""===a.trim()?Yc(this.view):(this.Tc=Md(this,a),Zc(this.view))};
function Md(a,b){return a.$d.map(function(c,d){return c.$a(b).then(function(b){a.O.da[d]=b;b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,a.Zb.set(c.id,c)}).catch(P.CancellationError,function(){})})}h.eb=function(a){this.view.eb(a);Yc(this.view)};function Gd(a,b){var c=a.view.$el.find('.comboBox__completion[data-model-id\x3d"'+b.id+'"]');a.D=1===c.length?new bd(c):null;a.D.select();a.view.eb(b.query);Zc(a.view)}
h.sd=function(a){this.D&&gd(this.D);this.D=a;this.D.select();a=this.Zb.get(this.D.$el[0].dataset.modelId);Ed(this.O,a)};h.pc=function(a){a=this.Zb.get(a.$el[0].dataset.modelId);this.view.eb(a.query);this.view.Ba.focus();Yc(this.view);this.Ja({query:a.query,af:a.id})};h.xd=function(){this.O.isEmpty()||Zc(this.view)};function Id(a,b,c){this.view=b;this.source=a.source;this.K=c}
Id.prototype.$a=function(a){var b=this,c=!1,d=this.K.setTimeout(function(){c||(fd(b.view),b.view.Nd.removeClass("comboBox__loader--hidden"))},50);return this.source.jf(a).bind(this).then(function(a){c=!0;fd(b.view);for(var d=b.view,g=document.createDocumentFragment(),k=q(a),l=k.next();!l.done;l=k.next()){var n=l=l.value,w=$;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");n=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBox__completion" data-model-id\x3d"'+
soy.$$escapeHtmlAttribute(n.id)+'"\x3e\x3c/div\x3e');w=w(n.toString());w=new bd(w);w.$el.append(l.Ye);g.appendChild(w.$el[0])}d.Ld.append(g);b.view.Nd.addClass("comboBox__loader--hidden");return a}).cancellable().catch(P.CancellationError,function(a){b.K.clearTimeout(d);throw a;})};function Nd(a,b,c){var d=this;this.view=b;this.Yb=c;this.Ca=a.Ca;this.u=a.u;this.ua=a.ua;Ld(this.Yb,[{jf:function(a){return d.$a(a)}}]);this.rc=a.rc;this.Za=this.Ce=null;this.td=a.td;Jd(this.Yb,function(a){return d.Fb(a)});Kd(this.Yb,function(){return d.Za&&d.Za()})}function Od(a,b){var c=Hd(b.$e);return new Nd(a,b,c)}Nd.prototype.destroy=function(){this.view.remove()};
Nd.prototype.$a=function(a){var b=this,c=new Vb({u:this.u,query:a,be:!1,Ta:null,limit:4});this.Ce&&this.Ce(a);return P.delay(this.ua).cancellable().then(function(){var a=b.Ca;return bc(a.W,a.path+"/search/text"+("?domainName\x3d"+encodeURIComponent(String(c.u))+"\x26query\x3d"+encodeURIComponent(String(c.query))+(c.Ta?"\x26continuation\x3d"+encodeURIComponent(c.Ta):"")+"\x26limit\x3d"+encodeURIComponent(String(c.limit)))).get(0).then(Da).then(Xb)}).then(function(a){return Pd(a)}).tap(function(a){return b.td&&
b.td(a)})};Nd.prototype.Fb=function(a){this.rc&&this.rc({query:a.query,Xb:a.af})};function Qd(a,b){a.rc=b}Nd.prototype.eb=function(a){this.Yb.eb(a)};
function Pd(a){return a.La.map(function(a){var c=a.displayName,d=a.id,e=$,f;a=a.displayName;f=f||{};soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"content",a,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString("https://static.canva.com/static/images/icon_search_gray.2.svg"),"iconUrl","https://static.canva.com/static/images/icon_search_gray.2.svg","null|string|undefined");f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comboBoxHarness__fancyCompletion"\x3e\x3cdiv class\x3d"comboBoxHarness__fancyCompletion__icon" '+
('style\x3d"'+(f.Vc?"/*"+f.Vc+"*/":"")+"background-image: url('"+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri("https://static.canva.com/static/images/icon_search_gray.2.svg"))+"')\"")+"\x3e\x3c/div\x3e\x3cdiv\x3e"+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/div\x3e");return{query:c,id:d,Ye:e(f.toString())}})};function Rd(a){var b=this;this.view=a;this.Wa=null;this.view.on(Rc,function(a){return b.v(a)})}h=Rd.prototype;h.destroy=function(){this.view.remove()};h.v=function(a){this.Wa?this.Wa(a):a()};h.Lb=function(a){this.Wa=a};h.show=function(){this.view.show()};h.hide=function(){this.view.hide()};function Sd(a){var b=this;this.view=a;this.Wa=null;this.view.on(Pc,function(a,d){return b.v(a,d)})}h=Sd.prototype;h.destroy=function(){this.view.remove()};h.v=function(a,b){this.Wa?this.Wa(a,b):a()};h.Lb=function(a){this.Wa=a};h.show=function(){this.view.show()};h.hide=function(){this.view.hide()};function Td(a,b,c){var d=this;this.view=b;this.j=a.j;this.lb=a.lb;this.g=a.g;this.locale=a.locale;this.fd=a.fd;this.ea=c.ea;this.Y=c.Y;this.Hb=c.Hb;this.se=c.se;this.la=c.la;this.Ra=c.Ra;this.F=y(this.g.ya);this.vb=this.g.query||"";this.ma=c.ma;this.na=c.na;sd(this.Hb,function(a){Ud(d,d.vb,a,d.g.category)});Qd(this.la,function(a){return d.Fb(a)});this.view.on(nd,function(a,b){return d.ud(a,b)});this.view.Bb.on(lc,function(a){d.la.eb("*"!==a.query?a.query:"");Vd(d,a.query,a.ya,a.category)});if(this.ma||
this.na)this.view.on(ld,function(){var a=Number($(window).scrollTop()),b=$("body")[0].scrollHeight-$(window).height(),c=200<a;d.ma&&(c&&a<b-660?d.ma.show():d.ma.hide());d.na&&(c?d.na.show():d.na.hide())}),this.ma&&this.ma.Lb(function(a){var b=O(d.j,nc("templates",location.href,"sticky_cta",null,!1));P.race([P.delay(300),b]).finally(a)}),this.na&&this.na.Lb(function(a){var b=O(d.j,nc(d.g.u,location.href,"globalnav_sticky_CTA",null,!1));P.race([P.delay(300),b]).finally(a)})}
function Wd(){var a={j:qc,Ca:Xd,lb:Yd,g:Zd,locale:$d,fd:!0,o:S,gc:ae,Kb:be,ma:ce,na:de},b=ee,c=ud({o:a.o},b.Ka),d=qd({o:a.o,ka:function(b){return fe(a.g.query,b,a.g.tag)}},b.yd),e=new zd(b.gc),f=Od({Ca:a.Ca,u:a.g.u,ua:a.g.ua},a.Kb),g=new jc(b.Sa),k=a.o.format("marketplaceRelatedQueriesTitle");return new Td(a,b,{ea:c,Hb:d,se:e,la:f,Ra:g,Y:b.yc?xd({title:k},b.yc):void 0,ma:a.ma,na:a.na})}
Td.prototype.G=function(){this.ea.G();window.history.state||this.view.Bb.replaceState({query:this.g.query||"",ya:this.g.ya,category:this.g.category});this.fd||Vd(this)};Td.prototype.destroy=function(){this.ea.destroy();this.Hb.destroy();this.la.destroy();this.Ra.destroy();this.Y.destroy();this.view.remove()};
function Vd(a,b,c,d){a.F=c||1;a.vb=b||"*";$("html, body").scrollTop(0);a.ea.Ad();a.view.rb(!0);md(a.view,!1);od(a.lb,new Kc({category:d,u:a.g.u,locale:a.locale,page:a.F,limit:a.g.oc,cb:a.g.cb,Cc:a.g.Cc,query:a.vb,Ee:!0,Fa:a.g.Fa,fc:a.g.zc})).then(function(b){a.view.rb(!1).then(function(){a.j.mf(a.vb||"*","marketplace",a.g.u);vd(a.ea,b.La);var c=Math.ceil(b.Jd/a.g.oc);a.g.mc&&(c=Math.min(c,a.g.mc));b.La.length&&(md(a.view,!0),a.Hb.wc({Z:c,F:a.F,ka:function(b){return fe(a.vb,b,a.g.tag)}}));a.g.zc&&
a.Y&&yd(a.Y,b.Y)})})}function fe(a,b,c){var d=[];a&&"*"!==a&&!c&&d.push("query\x3d"+a);b&&1!==b&&d.push("page\x3d"+b);return 0!==d.length?"?"+d.join("\x26"):""}function Ud(a,b,c,d){var e=fe(b,c,a.g.tag)||"./";a.view.Bb.pushState({query:b,ya:c,category:d},e);Vd(a,b,c,d)}
Td.prototype.Fb=function(a){var b=this;if(a.Xb){var c=this.g.fb.filter(function(b){return b.id===a.Xb});if(0<c.length){this.view.redirect(c[0].jb);return}}if(this.g.category!==this.g.Jb||this.g.tag){var c=this.g.fb.find(function(a){return a.id===b.g.Jb}),d=fe(a.query);this.view.redirect(c.jb+d)}else Ud(this,a.query)};Td.prototype.ud=function(a,b){a=O(this.j,mc(a,this.g.category,this.F));P.race([P.delay(300),a]).then(function(){b()})};function ge(a){var b=this;A.call(this,a);this.ia=this.$el.find(".navigationMenuDropdown__content");this.tb=this.$el.find(".navigationMenuDropdown__label");a.on("click",".navigationMenuDropdown__label",function(a){return b.v(a)});a.on("mouseenter",".navigationMenuDropdown__label, .navigationMenuDropdown__content",function(){return b.trigger(he)});a.on("mouseleave",".navigationMenuDropdown__label, .navigationMenuDropdown__content",function(){return b.trigger(ie)})}r(ge,A);
ge.prototype.show=function(a){var b=this;this.ia.toggleClass("navigationMenuDropdown__content--displayAboveAnchor",a);this.ia.toggleClass("navigationMenuDropdown__content--displayBelowAnchor",!a);this.ia.addClass("navigationMenuDropdown__content--show");this.tb.toggleClass("navigationMenuDropdown__label--displayAboveAnchor",a);this.tb.toggleClass("navigationMenuDropdown__label--displayBelowAnchor",!a);wb(function(){b.tb.addClass("navigationMenuDropdown__label--open");b.ia.addClass("navigationMenuDropdown__content--open")})};
ge.prototype.hide=function(){var a=this;this.tb.removeClass("navigationMenuDropdown__label--open");this.ia.removeClass("navigationMenuDropdown__content--open").on("transitionend",function(){a.ia.hasClass("navigationMenuDropdown__content--open")||a.ia.removeClass("navigationMenuDropdown__content--show")})};ge.prototype.v=function(a){this.tb.hasClass("navigationMenuDropdown__label--noContent")||(a.preventDefault(),this.trigger(je))};
ge.prototype.translate=function(a,b){this.ia.css({transform:"translateX(-50%) translateX("+a+") translateY("+b+")"})};var je="TOGGLE_ON_CLICK",he="TOGGLE_ON_MOUSE_ENTER",ie="TOGGLE_ON_MOUSE_LEAVE";function ke(a,b,c){var d=this;A.call(this,a);this.cc=c;this.Hc=b;a.on("click",".navigationMenuMobile__label--hasChildren",function(a){a.preventDefault();le($(a.target).next(".navigationMenuMobile__content"))});a.on("click",".navigationMenuMobile__label--goUp",function(a){a.preventDefault();a=$(a.target).closest(".navigationMenuMobile__content").parent().closest(".navigationMenuMobile__content");le(a)});a.on("click",".navigationMenuMobile__overlay",function(){return me(d)});a.on("click",".navigationMenuMobile__button",
function(){ne(d,d.$el.find(".navigationMenuMobile__wrapper").children());d.$el.find(".navigationMenuMobile__items").addClass("navigationMenuMobile__items--open");d.$el.find(".navigationMenuMobile__overlay").addClass("navigationMenuMobile__overlay--open")});this.Hc.on("resize",function(){return d.trigger(oe)})}r(ke,A);
function me(a){a.$el.find(".navigationMenuMobile__items").removeClass("navigationMenuMobile__items--open");a.$el.find(".navigationMenuMobile__overlay").removeClass("navigationMenuMobile__overlay--open")}
function ne(a,b){a.$el.find(".navigationMenuMobile__label").addClass("navigationMenuMobile__label--noAnimation");a.$el.find(".navigationMenuMobile__content").addClass("navigationMenuMobile__content--noAnimation");le(b);a.Hc[0].requestAnimationFrame(function(){a.$el.find(".navigationMenuMobile__label").removeClass("navigationMenuMobile__label--noAnimation");a.$el.find(".navigationMenuMobile__content").removeClass("navigationMenuMobile__content--noAnimation")})}
function le(a){a.hasClass("navigationMenuMobile__wrapper")||(a.siblings(".navigationMenuMobile__label").addClass("navigationMenuMobile__label--hidden"),a.parent().siblings().children(".navigationMenuMobile__label").addClass("navigationMenuMobile__label--hidden").end().children(".navigationMenuMobile__content").addClass("navigationMenuMobile__content--hidden"));a.removeClass("navigationMenuMobile__content--hidden").children().children(".navigationMenuMobile__label").removeClass("navigationMenuMobile__label--hidden").end().children(".navigationMenuMobile__content").addClass("navigationMenuMobile__content--hidden")}
var oe="WINDOW_RESIZE";function pe(a,b){A.call(this,a);this.Xa=b.Xa}r(pe,A);function qe(a,b,c){var d=this;this.K=c;this.view=b;this.bc=a.bc;this.vd=null;this.Rc=0;this.view.on(je,function(){return d.v()});this.view.on(he,function(){d.open();d.K.clearTimeout(d.Rc)});this.view.on(ie,function(){re(d)})}function se(a,b){a.vd=b}
qe.prototype.open=function(){this.vd&&this.vd(this);var a=this.view,b=a.$el.width()/2,b=a.$el.offset().left+b,a=a.ia.width()/2,a=b-a-10,c=this.view,b=$(window).width(),d=c.$el.width()/2,d=c.$el.offset().left+d,c=c.ia.width()/2;this.view.translate(Math.min(0,b-(d+c)-10)-Math.min(0,a)+"px",this.bc?"-100%":"100%");this.view.show(this.bc)};qe.prototype.close=function(){this.view.hide()};qe.prototype.v=function(){this.open()};
function re(a){a.K.clearTimeout(a.Rc);a.Rc=a.K.setTimeout(function(){return a.close()},500)};function te(a,b,c){var d=this;this.view=b;this.nc=null!=a.nc?a.nc:1100;this.cc=c;this.view.on(oe,function(){return ue(d)})}te.prototype.G=function(){var a=this;this.cc.forEach(function(b){se(b,function(){return ve(a,b)})});ue(this)};function ve(a,b){a.cc.filter(function(a){return a!==b}).forEach(function(a){return a.close()})}
function ue(a){if(Number(a.view.Hc.width())>a.nc){var b=a.view;b.$el.find(".navigationMenuMobile__items").removeClass("navigationMenuMobile__items--mobileEnabled");b.$el.find(".navigationMenuMobile__button").removeClass("navigationMenuMobile__button--mobileEnabled");b.$el.find(".navigationMenu__items").addClass("navigationMenu__items--desktopEnabled");me(a.view)}else a=a.view,a.$el.find(".navigationMenu__items").removeClass("navigationMenu__items--desktopEnabled"),a.$el.find(".navigationMenuMobile__items").addClass("navigationMenuMobile__items--mobileEnabled"),
a.$el.find(".navigationMenuMobile__button").addClass("navigationMenuMobile__button--mobileEnabled")};function we(a,b){this.view=a;this.Xa=b.Xa}we.prototype.G=function(){this.Xa.G()};we.prototype.destroy=function(){this.view.remove()};function xe(a){var b=this;A.call(this,a);this.Xe=this.$el.find(".marketplaceCarousel__previewImage");a.on("click",".marketplaceCarousel__thumbnail",function(a){b.trigger(ye,$(a.target).attr("data-preview"))})}r(xe,A);var ye="SELECT";function ze(a){a=a||{};soy.asserts.assertType(null==a.R||a.R instanceof goog.soy.data.SanitizedContent||goog.isString(a.R),"cssClass",a.R,"null|string|undefined");a=a.R;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 95.8"\x3e\x3cpath d\x3d"M.4 90.2L46.6 2C48-.7 51.9-.7 53.3 2l46.2 88.2c1.3 2.5-.5 5.5-3.4 5.5H3.8c-2.9.1-4.7-3-3.4-5.5z"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M45.1 73.7c0-1.6.4-2.8 1.3-3.7.9-.8 2.1-1.2 3.8-1.2 1.6 0 2.8.4 3.7 1.3.9.8 1.3 2.1 1.3 3.6s-.4 2.7-1.3 3.6c-.9.9-2.1 1.3-3.7 1.3s-2.9-.4-3.8-1.3c-.9-.9-1.3-2.1-1.3-3.6zm8.6-9.9h-7l-1.5-28.2h10l-1.5 28.2z"/\x3e\x3c/svg\x3e')}
function Ae(a){a=a||{};soy.asserts.assertType(null==a.R||a.R instanceof goog.soy.data.SanitizedContent||goog.isString(a.R),"cssClass",a.R,"null|string|undefined");a=a.R;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(a?'class\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+' version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 100 100"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"50"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M69.5 25.8l-26 35.4L30.1 54c-3.3-2.1-5.6 2.9-3.8 4.6 1.8 1.7 18.2 16.6 18.2 16.6.5.4 1.2.4 1.7.1.2-.1.4-.3.5-.5 0 0 24.7-40.9 26.9-44.6 2.3-3.8-1.6-7.8-4.1-4.4z"/\x3e\x3c/svg\x3e')}
;function Be(a,b){A.call(this,a);this.Ka=b.Ka;this.Kb=b.Kb;this.Sa=b.Sa;this.ub=b.ub}r(Be,A);Be.prototype.redirect=function(a){window.location.href=a};function Ce(a){var b=this;this.view=a;this.view.on(ye,function(a){b.view.Xe.attr("src",a)})}Ce.prototype.destroy=function(){this.view.remove()};function De(a,b,c){var d=this;this.view=b;this.lb=a.lb;this.g=a.g;this.ea=c.ea;this.la=c.la;this.Wb=c.Wb;this.Ra=c.Ra;Qd(this.la,function(a){return d.Fb(a)})}De.prototype.G=function(){this.ea.G()};De.prototype.destroy=function(){this.Wb&&this.Wb.destroy();this.ea.destroy();this.la.destroy();this.Ra.destroy();this.view.remove()};
De.prototype.Fb=function(a){var b=this;if(a.Xb){var c=this.g.fb.filter(function(b){return b.id===a.Xb});if(0<c.length){this.view.redirect(c[0].jb);return}}c=this.g.fb.filter(function(a){return a.id===b.g.Jb})[0];this.view.redirect(c.jb+"?query\x3d"+a.query)};function Ee(){}r(Ee,Error);function Fe(){}r(Fe,Ee);function Ge(){}r(Ge,Ee);function He(a,b,c,d,e,f,g,k,l){this.accessToken=a;this.email=b;this.oe=c;this.id=d;this.ve=e;this.name=f;this.permissions=g;this.He=k;this.Qe=l}He.prototype.ec=function(){return this.email};He.prototype.ja=function(){return this.id};He.prototype.getName=function(){return this.name};function Ie(a){this.error=a.error;this.redirect=a.redirect;this.Ue=a.Ue;this.ta=a.ta||new Map;this.We=a.We;this.ie=a.ie}Ie.prototype.getError=function(){return this.error};function Je(a){return new Ie({error:J("error",a),redirect:J("redirect",a),Ue:K("userReactivated",a),ta:Ia(Ja,La,"csrfTokens",a),We:J("xatToken",a),ie:J("documentId",a)})};function Ke(a){this.W=a;this.path="/login"}function Le(a,b){return dc(a.W,a.path+"/facebook",{type:"FACEBOOK",token:L.required("token",b.oa)}).get(0).then(Da).then(Je)};function Me(a){this.W=a.W;this.od=a.od;this.Jc=a.config.Jc;this.Ea=null}
var Ne={va:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"},Oe={uf:{va:function(a){this.accessToken=a.accessToken}},vf:{va:function(a,b){this.email=b.email},param:"email"},xf:{va:function(a,b){this.oe=b.first_name},param:"first_name"},yf:{va:function(a){this.id=a.userID}},zf:{va:function(a,b){this.ve=b.last_name},param:"last_name"},Af:{va:function(a,b){this.name=b.name},param:"name"},Bf:Ne,Cf:{va:function(a,
b){this.He=b.picture.data.url},param:"picture.type(large)"},wf:{va:function(a){this.Qe=(new Date).getTime()+1E3*a.expiresIn}}};Me.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c,e){a.Bd=function(b){Pe(a);e(b)};window.fbAsyncInit=function(){FB.init({version:"v2.11",appId:b.Jc,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});Pe(a);c(a)};Qe(a)})};Me.prototype.Bd=function(){Pe(this)};
function Pe(a){document.getElementById("facebook-jssdk").removeEventListener("error",a.Bd)}function Qe(a){var b,c=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(b=document.createElement("script"),b.id="facebook-jssdk",b.src="//connect.facebook.com/en_US/sdk.js",b.addEventListener("error",a.Bd),c.parentNode.insertBefore(b,c))}
Me.prototype.Kc=function(a){return Le(this.od,new Wa({oa:a.accessToken})).catch(function(a){if(Array.isArray(a)&&404===a[1])throw new Ge;throw new Fe;})};function Re(a){return a.getAuthResponse().then(function(b){return a.Kc(b)})}function Se(a,b){return new P(function(c,d){Te(a,[Ne]).then(function(e){e=e.permissions;var f=_.difference(b,e);a.Ea&&(a.Ea.permissions=e);f.length?d():c()}).catch(d)})}
function Ue(a){return new P(function(b,c){var d;d=Object.keys(Oe).map(function(a){return Oe[a]});Te(a,d).then(function(d){d.email?(a.Ea=new He(d.accessToken,d.email,d.oe,d.id,d.ve,d.name,d.permissions,d.He,d.Qe),b(a.Ea)):c("EMAIL_NOT_VERIFIED")}).catch(c)})}
function Te(a,b){return new P(function(c,d){a.getAuthResponse().then(function(a){for(var f=[],g=0;g<b.length;g++){var k=b[g];k.param&&f.push(k.param)}f=f.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(f),function(f){if("error"in f)d("FB_API_ERROR");else{for(var g={},k=0;k<b.length;k++)b[k].va.call(g,a,f);c(g)}})}).catch(function(b){a.Ea=null;d(b)})})}
Me.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};
function Ve(a){var b=["email","public_profile"];return new P(function(c,d){function e(b){a.Ea=null;d(b)}function f(f){f.authResponse&&f.status?Se(a,b).then(c).catch(e):d("FB_API_ERROR")}var g=_.difference(b,a.Ea?a.Ea.permissions:[]);0<g.length?FB.login(f,{scope:g.join(",")}):Se(a,b).then(c).catch(e)})}function We(){this.Jc=I("appId",window.facebookConfig)};function Xe(){}r(Xe,Error);function Ye(a,b){if(b instanceof Ze)return a.format("authGoogleSignInFailed");if(b instanceof $e)return a.format("authGoogleFailedToFetchUserInformation");if(b instanceof af)return a.format("authTrySigningUpFirst");if(b instanceof bf)return a.format("authGoogleSignInFailed");throw Error("unrecognised GoogleServiceError");}function Ze(){}r(Ze,Xe);function $e(){}r($e,Xe);function af(){}r(af,Xe);function bf(){}r(bf,Xe);function cf(a,b,c){this.name=a||null;this.picture=b||null;this.email=c||null}cf.prototype.getName=function(){return this.name};cf.prototype.ec=function(){return this.email};function df(a){this.accessToken=a.accessToken||null;this.Yc=a.Yc;this.J=a.J||null;this.ra=a.ra;this.fa=a.fa;this.ob=a.ob;this.Ec=null;this.state=a.state;if(this.accessToken){var b=this;this.md().then(function(){gapi.auth.setToken({accessToken:b.accessToken})})}if(this.ob&&!a.J)throw Error("Client cannot be configured with offline and not have a redirectUri");}df.prototype.load=function(){return this.md()};function ef(a){return new P(function(b,c){$.getJSON(a).done(b).fail(c)})}
function ff(a){function b(){return e.Yc("https://www.googleapis.com/oauth2/v1/userinfo?alt\x3djson\x26access_token\x3d"+encodeURIComponent(e.accessToken))}function c(){throw new $e;}function d(a){e.Ec=a?$.extend(new cf,{name:a.name,picture:a.picture,email:a.email}):null;return e.Ec}var e=a;if(0>a.fa.indexOf("profile"))throw Error("API was not configured with USER_PROFILE_READ scope");return a.Ec?P.resolve(a.Ec):a.md().then(a.Ud.bind(a,{Ve:!0,state:a.state})).then(b).then(d).catch(c)}
function gf(){var a={},b=new P(function(b,d){a.resolve=b;a.reject=d});a.promise=b;return a}
(function(){function a(a){var c;try{c=JSON.parse(a.data)}catch(d){return}null!=c&&c.f&&null===document.getElementById(c.f)&&a.stopImmediatePropagation()}window.googleApiLoaderDeferred=window.googleApiLoaderDeferred||gf();window.googleApiLoaderScript=window.googleApiLoaderScript||null;df.prototype.bf=function(){var a=window.googleApiLoaderDeferred,c=$("\x3cscript\x3e");c[0].onerror=a.reject;c.attr({src:"https://apis.google.com/js/client.js?onload\x3dGoogleApiOnGapiLoad",type:"text/javascript"});c.appendTo("head");
return c};df.prototype.md=function(){window.googleApiLoaderScript||(window.addEventListener("message",a),window.googleApiLoaderScript=this.bf());return window.googleApiLoaderDeferred.promise};window.GoogleApiOnGapiLoad=function(){window.googleApiLoaderDeferred.resolve()}})();df.prototype.Nc=function(a){return this.Ud({Ve:!0,Zc:a&&a.Zc,state:this.state})};
df.prototype.Ud=function(a){var b=this;if(this.accessToken)return P.resolve(this.accessToken);var c={client_id:this.ra,immediate:!a.Ve,approval_prompt:a.Zc?"force":"auto",access_type:this.ob?"offline":"online",response_type:this.ob?"code":"token",scope:this.fa,state:this.state};this.ob&&(c=$.extend({redirect_uri:this.J},c));return new P(function(a,e){gapi.auth.authorize(c,function(c){var g=c&&c.access_token;c=c&&c.code;g?(b.accessToken=g,a(b.accessToken)):c?a(c):e(new bf)})})};function hf(a){this.ra=a.config.ra;this.J=a.config.J;this.Eb=a.config.Eb;this.fa=["profile","email"];this.google=jf(this);this.W=a.W;this.gb=a.gb;this.gf=3;this.ac=null;this.pb=this.pb.bind(this);this.uc=this.uc.bind(this)}function jf(a,b){b=new df({accessToken:b,ra:a.ra,Yc:ef,ob:!0,J:a.J,fa:a.fa,state:a.Eb});a.google=b;return a.google}h=hf.prototype;h.load=function(){return this.google.load()};function kf(){var a,b,c=new P(function(c,e){a=c;b=e});return{resolve:a,reject:b,promise:c}}
h.Nc=function(){this.ac=kf();window.GoogleAuthMessageCallback&&window.removeEventListener("message",window.GoogleAuthMessageCallback);window.addEventListener("message",this.pb,!1);window.GoogleAuthMessageCallback=this.pb;window.canvaGoogleAuthReceiveMessage=this.uc;this.google.Nc({Zc:!lf(this)}).catch(function(){});return this.ac.promise};function mf(a,b){a.ac.reject(b);nf(a)}
function nf(a){window.removeEventListener("message",a.pb);window.canvaGoogleAuthReceiveMessage===a.pb&&(window.canvaGoogleAuthReceiveMessage=null)}h.pb=function(a){a.origin===window.location.origin&&this.uc(a.data)};h.uc=function(a){var b;try{b=JSON.parse(a)}catch(d){return}a=b.code;var c=b.error;if(b=b.state)this.google.state=b;c?mf(this,new Ze):a&&of(this,a)};
function of(a,b){function c(a){ff(jf(f,a.accessToken)).then(function(b){var c=a.Aa||lf(f);c&&f.gb&&f.gb.setItem("GoogleAuthRefreshTokenKey",c);var d=f;d.ac.resolve(new pf({email:b.ec(),Aa:c,accessToken:a.accessToken}));nf(d)}).catch(function(){return mf(f,new $e)})}function d(a){429==a&&k<f.gf?setTimeout(function(){e(g).spread(c,d)},1E3):mf(f,new Ze)}function e(a){k++;return dc(f.W,"/google/requesttokens",qf(a)).spread(rf)}var f=a,g=new sf({code:b,ed:"authorization_code",J:f.J,fa:f.fa}),k=0;e(g).then(c,
d)}h.Kc=function(a){var b=this;return new P(function(c,d){b.W.post("/login/google",tf(a),function(a,b){switch(a){case 200:c(new uf({redirect:I("redirect",b)}));break;case 404:d(new af);break;default:d(new Ze)}})})};function lf(a){return a.gb&&a.gb.getItem("GoogleAuthRefreshTokenKey")}function vf(a){this.ra=a.ra;this.J=a.J;this.Eb=a.Eb}function wf(){var a=window.googleConfig;return new vf({ra:I("clientId",a),J:I("redirectUri",a),Eb:J("oauthState",a)})}
function sf(a){this.code=a.code;this.ed=a.ed;this.J=a.J;this.fa=a.fa}function qf(a){var b=L.required("code",a.code),c=L.required("grantType",a.ed),d=L.required("redirectUri",a.J);a=L.qb("scopes",a.fa);return{code:b,grantType:c,redirectUri:d,scopes:a}}function xf(a){this.accessToken=a.accessToken;this.Aa=a.Aa}function rf(a){return new xf({accessToken:I("accessToken",a),Aa:J("refreshToken",a)})}function pf(a){this.email=a.email;this.Aa=a.Aa;this.accessToken=a.accessToken}
function tf(a){var b=L.required("accessToken",a.accessToken);a=L.optional("refreshToken",a.Aa);return{type:"GOOGLE",accessToken:b,refreshToken:a}}function uf(a){this.redirect=a.redirect};function yf(a){v("INPUT"===a.w.get(0).tagName,"the view's element must be an input");Backbone.View.call(this,{className:"strengthChecker"});this.K=a.K;this.i=a.i;this.Id=this.zxcvbn=null;this.w=a.w;this.Pb=a.Pb;this.Kd=this.Db=this.mb=this.ue=null;this.Ma=this.Ma.bind(this);this.wd=a.wd||function(){};this.de=_.debounce(this.Ma,300);this.hd=a.hd||1}r(yf,Backbone.View);
yf.prototype.render=function(){var a={},b,a=a||{};soy.asserts.assertType(null==a.jc||a.jc instanceof goog.soy.data.SanitizedContent||goog.isString(a.jc),"iconClasses",a.jc,"null|string|undefined");a=a.jc;a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"strengthChecker__icons"\x3e'+ze({R:soydata.$$markUnsanitizedTextForInternalBlocks("strengthChecker__icon strengthChecker__icon--warning "+(null==(b=a)?"":b))})+Ae({R:soydata.$$markUnsanitizedTextForInternalBlocks("strengthChecker__icon strengthChecker__icon--tick "+
(null==(b=a)?"":b))})+'\x3c/div\x3e\x3cdiv class\x3d"strengthChecker__messageSandbox"\x3e\x3c/div\x3e\x3cdiv class\x3d"strengthChecker__message"\x3e\x3c/div\x3e');this.w.addClass("strengthChecker__input");this.w.attr("data-strength",zf);this.$el.html(a.toString());this.$el.attr("data-strength",zf);this.ue=this.$(".strengthChecker__icons");this.mb=this.$(".strengthChecker__message");this.Db=this.$(".strengthChecker__messageSandbox");Af(this);this.w.on("focus",this.Ma);this.w.on("input",this.de);this.w.on("blur",
this.Ma);this.Ma()};yf.prototype.insert=function(a){a=a||this.w;a.after(this.$el);Bf(this)};function Bf(a){a.mb.css("width","");a.Db.css("width","");a.mb.outerWidth(a.w.outerWidth());a.Db.outerWidth(a.w.outerWidth());Af(a)}function Af(a){var b,c,d;b=a.ue.find("svg");c=parseFloat(a.w.css("margin-bottom"));d=a.w.outerHeight()*a.hd;b.outerHeight(d);b.outerWidth(d);b.css("top",-c);a.mb.css("margin-bottom",c)}
yf.prototype.remove=function(){Backbone.View.prototype.remove.call(this);this.w.off("focus",this.Ma);this.w.off("input",this.de);this.w.off("blur",this.Ma)};
yf.prototype.Ma=function(){var a=!this.w.is(":focus");if(this.zxcvbn){var b,c,d;b=this.w.val();0===b.length?b=zf:(c=this.Pb?this.zxcvbn(b,Cf(this)):this.zxcvbn(b),b=0===c.score?Df:3>c.score?Ef:Ff);var e=b;this.w.attr("data-strength",e);this.$el.attr("data-strength",e);b===zf||a||b===Ff?this.$el.addClass("strengthChecker--noFeedback"):(a=c,b===Ff?(this.Id||(this.Id=_.shuffle([this.i.format("passwordStrengthFeedbackMessage1"),this.i.format("passwordStrengthFeedbackMessage2"),this.i.format("passwordStrengthFeedbackMessage3")])[0]),
a=this.Id):(a=a.feedback,a=(a.warning&&a.warning.length?[a.warning]:[]).concat(a.suggestions),v(!!a.length,"Can't extract feedback from an empty zxcvbn response"),a=a[0],this.Kd||(this.Kd={"Use a few words, avoid common phrases":C(this.i),"No need for symbols, digits, or uppercase letters":C(this.i),"Add another word or two. Uncommon words are better.":this.i.format("passwordStrengthFeedbackMessage5"),"Straight rows of keys are easy to guess":this.i.format("passwordStrengthFeedbackMessage6"),"Short keyboard patterns are easy to guess":va(this.i),
"Use a longer keyboard pattern with more turns":va(this.i),'Repeats like "aaa" are easy to guess':this.i.format("passwordStrengthFeedbackMessage8"),'Repeats like "abcabcabc" are only slightly harder to guess than "abc"':this.i.format("passwordStrengthFeedbackMessage9"),"Avoid repeated words and characters":C(this.i),"Sequences like abc or 6543 are easy to guess":this.i.format("passwordStrengthFeedbackMessage10"),"Avoid sequences":C(this.i),"Recent years are easy to guess":wa(this.i),"Avoid recent years":wa(this.i),
"Avoid years that are associated with you":wa(this.i),"Dates are often easy to guess":xa(this.i),"Avoid dates and years that are associated with you":xa(this.i),"This is a top-10 common password":C(this.i),"This is a top-100 common password":C(this.i),"This is a very common password":C(this.i),"This is similar to a commonly used password":C(this.i),"A word by itself is easy to guess":C(this.i),"Names and surnames by themselves are easy to guess":ya(this.i),"Common names and surnames are easy to guess":ya(this.i),
"Capitalization doesn't help very much":C(this.i),"All-uppercase is almost as easy to guess as all-lowercase":C(this.i),"Reversed words aren't much harder to guess":C(this.i),"Predictable substitutions like '@' instead of 'a' don't help very much":C(this.i)}),a=this.Kd[a],y(a,"Unknown zxcvbn message")),d=a,Gf(this,d));this.wd({Hd:b,message:d})}};
function Cf(a){y(a.Pb,"userInputSelector must be defined");a=a.Pb.toArray().map(function(a){return $(a).val()});var b=/[s@.]+/,c=a.map(function(a){return a.split(b)}).filter(function(a){return 1<a.length});return a.concat.apply(a,[].concat(fa(c))).filter(function(a){return 0!=a.length})}function Gf(a,b){a.Db.text(b);wb(function(){a.mb.outerHeight(a.Db.outerHeight());a.mb.text(b);a.$el.removeClass("strengthChecker--noFeedback")})}function Hf(a,b){a.$el.toggleClass("strengthChecker--noIcons",!b)}
var zf=0,Df=1,Ef=2,Ff=3;function T(a){var b=this,c={};Backbone.View.call(this,{el:a.el,events:_.extend({},a.events,(c["blur .js-form__input"]=function(a){this.trigger(If,new Jf($(a.currentTarget)));Kf(this,$(a.currentTarget))},c.submit=function(a){this.Ja(a)},c))});$(document).on("forceDirtyInputCheck",function(){return b.trigger(Lf)})}r(T,Backbone.View);
function Kf(a,b){var c,d,e;c=b.get(0);e=b.siblings(".form__inputMessage");d=b.attr("name");c.setCustomValidity("");b.removeClass("form__input--withError");c.validity.valid||(c.validity.valueMissing?c.setCustomValidity(a.bd(d)):c.validity.typeMismatch?c.setCustomValidity(a.cd(d)):c.validity.patternMismatch&&c.setCustomValidity(a.$c(d)),b.addClass("form__input--withError"),b.one("input",function(){return b.removeClass("form__input--withError")}),e.text(c.validationMessage))}
T.prototype.Ja=function(a){var b=!1;this.el.checkValidity()?(this.$(".js-form__input").prop("readonly",!0),this.$(".js-form__submitButton").prop("disabled",!0)):(a.preventDefault(),a=this.$(".js-form__input:invalid").first(),Kf(this,a),a.focus(),b=!0);return b};T.prototype.bd=function(){throw Error("Unhandled error");};T.prototype.cd=function(){throw Error("Unhandled error");};T.prototype.$c=function(){throw Error("Unhandled error");};
function Mf(a){return a.$el.find(".js-form__input").toArray().map(function(a){return new Jf($(a))})}var If="INPUT_BLURRED",Lf="SET_RECAPTCHA_VALUE";function Jf(a){this.$el=a}r(Jf,z);Jf.prototype.isEmpty=function(){return!this.$el.val()};function Nf(a){var b={};T.call(this,{el:a.el,events:(b.submit=function(a){this.Ja(a)},b)});this.j=a.j;this.l=a.l;this.Dd=0}r(Nf,T);
Nf.prototype.bd=function(a){switch(a){case "displayName":a=this.l.format("signupFullNameRequiredInlineErrorMessage");break;case "email":a=this.l.format("signupEmailRequiredInlineErrorMessage");break;case "emailConfirmation":a=this.l.format("signupConfirmEmailRequiredInlineErrorMessage");break;case "password":a=this.l.format("signupPasswordRequiredInlineErrorMessage");break;case "recaptchaToken":a="";break;default:a=T.prototype.bd.call(this,a)}return a};
Nf.prototype.cd=function(a){return"email"===a||"emailConfirmation"==a?this.l.format("signupEmailInvalidFormatInlineErrorMessage"):T.prototype.cd.call(this,a)};Nf.prototype.$c=function(a){switch(a){case "emailConfirmation":a=this.l.format("signupConfirmEmailMatchInlineErrorMessage");break;case "password":a=this.l.format("signupPasswordMinLengthInlineErrorMessage");break;default:a=T.prototype.$c.call(this,a)}return a};
Nf.prototype.Ja=function(a){a=!T.prototype.Ja.call(this,a);this.Dd++;this.j.track("signup_submitted",{method:"email",attempts:this.Dd,hasErrors:!a});return a};
function Of(a){var b={};Backbone.View.call(this,{el:a.el,events:(b["click .js-signupForm__buttonEmail"]=function(){$(document).trigger("forceDirtyInputCheck");Pf(this);this.$(".signupForm__signupButtons").addClass("fadeTransitionContent--animateCollapse");this.$(".signupForm__above").addClass("fadeTransitionContent--animateCollapse");this.$(".signupForm__below .form__footButtons").addClass("fadeTransitionContent--animateExpand");this.$(".signupForm__emailForm").addClass("fadeTransitionContent--animateExpand");
this.$el.removeClass("signupForm--collapsed");this.$el.removeClass("signupForm--notransitions");this.$(".js-form__input[name\x3ddisplayName]").focus();Bf(this.Mb)},b["click .js-form__footButton"]=function(a){Qf(this,a)},b["click .js-signupForm__logo"]=function(a){Qf(this,a)},b["change .js-form__input[name\x3demail]"]=function(a){a=$(a.currentTarget).val();a=a.replace(/[\/\\^$*+?.()|[\]{}]/g,"\\$\x26");this.$(".js-form__input[name\x3demailConfirmation]").attr("pattern",a)},b["blur .js-form__input[name\x3dpassword]"]=
function(a){Hf(this.Mb,a.currentTarget.validity.valid)},b["input .js-form__input[name\x3ddisplayName]"]=function(){this.Ha.displayName||(this.Ha.displayName=!0,O(this.j,new Q("email_signup_flow_fullname","Signup with email")))},b["input .js-form__input[name\x3demail]"]=function(){this.Ha.email||(this.Ha.email=!0,O(this.j,new Q("email_signup_flow_email","Signup with email")))},b["input .js-form__input[name\x3demailConfirmation]"]=function(){this.Ha.le||(this.Ha.le=!0,O(this.j,new Q("email_signup_flow_confirm_email",
"Signup with email")))},b["input .js-form__input[name\x3dpassword]"]=function(){Hf(this.Mb,!0);this.Ha.password||(this.Ha.password=!0,O(this.j,new Q("email_signup_flow_password","Signup with email")))},b["click .js-signupForm__educationRoleOption[value\x3dteacher]"]=function(){this.$(".signupForm__buttonTeacherEmail").removeClass("signupForm__buttonEmail--hidden");this.$(".signupForm__buttonEmail").addClass("signupForm__buttonEmail--hidden");Rf(this,this.Na.format("signupProfessionsEmailLabelTeacher"))},
b["click .js-signupForm__educationRoleOption[value\x3dstudent]"]=function(){this.$(".signupForm__buttonEmail").removeClass("signupForm__buttonEmail--hidden");this.$(".signupForm__buttonTeacherEmail").addClass("signupForm__buttonEmail--hidden");Rf(this,this.Na.format("signupProfessionsEmailLabelEducation"))},b)});this.Ze=new Nf({el:$(a.el).find(".js-signupForm__form").length?$(a.el).find(".js-signupForm__form"):$(a.el),j:a.j,l:a.l});this.j=a.j;this.Na=a.Na;this.Mb=a.Mb;this.Dd=0;this.Ha={email:!1,
le:!1,displayName:!1,password:!1};this.we={message:void 0,Hd:zf};this.ab=a.ab;this.Od=$(".js-signupForm_recaptcha");this.Pd=$(".js-signupForm_recaptcha_input")}r(Of,Backbone.View);Of.prototype.start=function(){Sf(this);this.j.track("signup_form_loaded",{pageVariant:this.ab})};function Sf(a){var b=a.$("#analyticsId"),c=b.val();c?a.j.identify(c,null):ib(a.j,function(){var c=a.j.dc();c&&b.val(c)})}
function Pf(a){a=a.$(".fadeTransitionContent");a.removeClass("fadeTransitionContent--animateCollapse");a.removeClass("fadeTransitionContent--animateExpand")}
function Qf(a,b){a.$el.hasClass("signupForm--collapsed")||(b.preventDefault(),a.$(".js-form__input").removeClass("form__input--withError").val(""),a.$(".js-signupForm__errors").empty(),Pf(a),a.$(".signupForm__signupButtons").addClass("fadeTransitionContent--animateExpand"),a.$(".signupForm__below .form__footButtons").addClass("fadeTransitionContent--animateCollapse"),a.$(".signupForm__above").addClass("fadeTransitionContent--animateExpand"),a.$(".signupForm__emailForm").addClass("fadeTransitionContent--animateCollapse"),
a.$el.addClass("signupForm--collapsed"))}function Rf(a,b){a.$("#email").parent().find(".form__label").text(b)};function Tf(a,b){var c=this;this.view=b;this.j=a.j;this.view.on(If,function(a){var b=!a.isEmpty();a.$el.toggleClass("form__input--dirty",b)});this.view.on(Lf,function(){return Uf(c)})}Tf.prototype.G=function(){Uf(this)};function Uf(a){Mf(a.view).forEach(function(a){var c=!a.isEmpty();a.$el.toggleClass("form__input--dirty",c)})};function Vf(a,b){switch(b){case "LOCAL":return"LOCAL";case "GOOGLE":return"GOOGLE";case "NETEASE":return"NETEASE";default:throw new TypeError('expected CaptchaImpl for property "'+a+'", found: '+JSON.stringify(b));}}function Wf(a){this.kc=a.kc;this.zd=a.zd};function Xf(){window.hasOwnProperty("grecaptchaPromise")||(window.grecaptchaPromise=new P(function(a,b){window.grecaptchaOnload=a;a=document.createElement("script");a.onerror=b;a.src="https://www.google.com/recaptcha/api.js?onload\x3dgrecaptchaOnload\x26render\x3dexplicit";document.head.appendChild(a)}));return window.grecaptchaPromise};function Yf(a,b){A.call(this,a);this.Qb=null;this.sf=b}r(Yf,A);Yf.prototype.G=function(){var a=this;this.Qb=window.grecaptcha.render(this.$el[0],{callback:function(){return a.trigger(Zf)},"expired-callback":function(){return a.trigger($f)},sitekey:this.sf})};Yf.prototype.reset=function(){x(null!=this.Qb,"reCAPTCHA widgetId has not been set, has #onAttach been called?");window.grecaptcha.reset(this.Qb)};var Zf="COMPLETE",$f="EXPIRED";
function ag(a){return Xf().then(function(){y(window.grecaptcha,"reCAPTCHA API is not available, make sure it has been loaded by calling RecaptchaLoader.load()");var b=$('\x3cdiv class\x3d"grecaptchaWidget"\x3e\x3c/div\x3e');return new Yf(b,a)})};function bg(a){var b=this;A.call(this,a);this.$el.find(".localCaptcha__notARobotButton").on("click",function(){b.trigger(cg,!0)});this.$el.find(".localCaptcha__amARobotButton").on("click",function(){b.trigger(cg,!1)})}r(bg,A);var cg="CLICK";function dg(a,b){var c=this;this.view=b;this.onComplete=a.onComplete;this.view.on(cg,function(a){return c.v(a)})}function eg(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv\x3e\x3cbutton class\x3d"localCaptcha__notARobotButton" type\x3d"button"\x3eI am not a robot\x3c/button\x3e\x3cbutton class\x3d"localCaptcha__amARobotButton" type\x3d"button"\x3e\ud83e\udd16\x3c/button\x3e\x3c/div\x3e').toString()),b=new bg(b);a=new dg(a,b);return{view:b,bb:a}}
dg.prototype.v=function(a){a?(this.view.$el.text("Verified ✓"),this.onComplete("VALID_TOKEN")):(this.view.$el.text("Hello Robot!"),this.onComplete("INVALID_TOKEN"))};function fg(a,b,c){this.view=b;this.qa=a.qa;this.Lc=c.Lc}function gg(a,b){var c=new Tf(a,b.Ze);return new fg(a,b,{Lc:c})}fg.prototype.G=function(){this.Lc.G();hg(this)};fg.prototype.destroy=function(){this.view.remove()};
function hg(a){if("GOOGLE"===a.qa.kc){var b=y(a.qa.zd);ag(b).then(function(b){b.on(Zf,function(){var d=a.view;x(null!=b.Qb,"reCAPTCHA widgetId has not been set, has #onAttach been called?");var e=window.grecaptcha.getResponse(b.Qb);x(e.length,"No response token from reCAPTCHA widget, has it been completed (or has it expired)?");d.Pd.val(e)});b.on($f,function(){b.reset()});b.$el.appendTo(a.view.Od[0]);b.G()})}else"LOCAL"===a.qa.kc&&eg({onComplete:function(b){a.view.Pd.val(b)}}).view.$el.appendTo(a.view.Od[0])}
;function ig(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')}
goog.DEBUG&&(ig.Jf="FeedbackTemplates.warningIcon");function jg(a,b){this.$el=a;this.N=b}r(jg,z);jg.prototype.G=function(){this.N&&(x(!this.N.hasClass("globalFeedbackAlertContainer"),"the global container already has a global alert"),this.N.data("gcpt",this.N.get(0).style["padding-top"]),this.N.css("padding-top",parseFloat(this.N.css("padding-top"))+this.$el.outerHeight()),this.N.addClass("globalFeedbackAlertContainer"))};
jg.prototype.remove=function(){if(this.N){this.N.removeClass("globalFeedbackAlertContainer");this.N.css("padding-top","");var a=parseFloat(this.N.data("gcpt"));a&&this.N.css("padding-top",a);this.N.removeData("gcpt")}z.prototype.remove.call(this)};var kg={R:"feedbackAlert--danger",ef:ig};function lg(a){var b={};Backbone.View.call(this,{el:a.el,events:(b["click .js-socialAuth__facebookButton"]=function(a){mg(this,a)},b["click .js-socialAuth__googleButton"]=function(a){ng(this,a)},b)});this.ib=a.ib;this.zb=a.zb;this.l=a.l;this.mode=a.mode;this.hb=a.hb;this.Gc=this.$(".socialAuth__alerts");this.me=!1}r(lg,Backbone.View);
lg.prototype.start=function(){var a=this,b,c;b=this.$(".js-socialAuth__facebookButton");c=this.$(".js-socialAuth__googleButton");b.prop("disabled",!0);this.ib.init().then(function(){return b.prop("disabled",!1)}).catch(function(c){if(!c.currentTarget||"script"!==c.currentTarget.localName)throw c;a.me=!0;b.prop("disabled",!1)});c.prop("disabled",!0);this.zb.load().then(function(){return c.prop("disabled",!1)})};
function og(a){a.hasClass("buttonSpinner")||(a.addClass("buttonSpinner"),a.append('\x3cdiv class\x3d"spinner"/\x3e'))}function pg(a){a.hasClass("buttonSpinner")&&(a.find(".spinner").remove(),a.removeClass("buttonSpinner"))}
function mg(a,b){qg(a);a.me?(rg(a,kg,a.l.format("authFacebookSdkInitError","https://support.canva.com/troubleshooting/logging-in/")),$(b.currentTarget).prop("disabled",!0)):(og($(b.currentTarget)),Ve(a.ib).then(function(){return sg(a)}).catch(function(){tg(a,a.l.format("signupLoginFacebookPermissionsFailure"))}))}
function sg(a){Ue(a.ib).then(function(b){return ug(a,b)}).catch(function(b){"EMAIL_NOT_VERIFIED"===b?tg(a,a.l.format("signupLoginUnverifiedFacebookEmailAddress")):tg(a,a.l.format("signupLoginFacebookSignInFailure"))})}
function ug(a,b){Re(a.ib).then(function(a){var b=(new UAParser).getResult().browser;"Safari"!==b.name||"8"!==b.major||"DESIGN_BUTTON"!==window.analyticsConfig.experience?window.location.href=window._loginRedirect||a.redirect:window.location.reload()}).catch(function(c){if(a.mode===vg){c=a.$el.data("csrf-token");var d=b.accessToken,e=b.ec(),f=a.$el.data("signup-redirect"),g=a.$el.data("referrer"),k=$('input[name\x3d"userJourney"]').val();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,
"csrfToken",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"facebookToken",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"email",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==f||f instanceof goog.soy.data.SanitizedContent||goog.isString(f),"signupRedirect",f,"null|string|undefined");soy.asserts.assertType(null==
g||g instanceof goog.soy.data.SanitizedContent||goog.isString(g),"referrer",g,"null|string|undefined");soy.asserts.assertType(null==k||k instanceof goog.soy.data.SanitizedContent||goog.isString(k),"userJourney",k,"null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cform action\x3d"/signup" method\x3d"post" class\x3d"socialAuth__auxiliaryForm"\x3e'+(f?'\x3cinput id\x3d"signupRedirect" name\x3d"signupRedirect" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e':"")+
(g?'\x3cinput id\x3d"referrer" name\x3d"referrer" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'"\x3e':"")+(k?'\x3cinput name\x3d"userJourney" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e':"")+'\x3cinput name\x3d"csrfToken" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x3cinput name\x3d"authMode" type\x3d"hidden" value\x3d"facebook"\x3e\x3cinput name\x3d"facebookToken" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3cinput name\x3d"email" type\x3d"hidden" value\x3d"'+
soy.$$escapeHtmlAttribute(e)+'"\x3e\x3c/form\x3e');c=$(c.toString());$("body").append(c);c.submit()}else{d=a.l;if(c instanceof Fe)c=d.format("authFacebookSignInFailed");else if(c instanceof Ge)c=d.format("authTrySigningUpFirst");else throw Error("unrecognised FacebookServiceError");tg(a,c)}})}function ng(a,b){qg(a);og($(b.currentTarget));a.zb.Nc().then(function(b){return wg(a,b)}).catch(function(b){tg(a,Ye(a.l,b))})}
function wg(a,b){a.zb.Kc(b).then(function(a){window.location.href=window._loginRedirect||a.redirect}).catch(function(c){if(a.mode===vg){c=y(b.email,"missing email");y(b.Aa,"missing refreshToken");var d=a.$el.data("csrf-token"),e=b.Aa,f=b.accessToken,g=a.$el.data("signup-redirect"),k=a.$el.data("referrer"),l=$('input[name\x3d"userJourney"]').val(),n=$('input[name\x3d"profession"]:checked').val();soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"csrfToken",d,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"googleAccessToken",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(e)||e instanceof goog.soy.data.SanitizedContent,"googleRefreshToken",e,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"email",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==g||g instanceof goog.soy.data.SanitizedContent||
goog.isString(g),"signupRedirect",g,"null|string|undefined");soy.asserts.assertType(null==k||k instanceof goog.soy.data.SanitizedContent||goog.isString(k),"referrer",k,"null|string|undefined");soy.asserts.assertType(null==l||l instanceof goog.soy.data.SanitizedContent||goog.isString(l),"userJourney",l,"null|string|undefined");soy.asserts.assertType(null==n||n instanceof goog.soy.data.SanitizedContent||goog.isString(n),"profession",n,"null|string|undefined");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cform action\x3d"/signup" method\x3d"post" class\x3d"socialAuth__auxiliaryForm"\x3e'+
(g?'\x3cinput id\x3d"signupRedirect" name\x3d"signupRedirect" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'"\x3e':"")+(k?'\x3cinput id\x3d"referrer" name\x3d"referrer" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e':"")+(l?'\x3cinput name\x3d"userJourney" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'"\x3e':"")+(n?'\x3cinput id\x3d"profession" name\x3d"profession" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(n)+'"\x3e':"")+'\x3cinput name\x3d"csrfToken" type\x3d"hidden" value\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3cinput name\x3d"authMode" type\x3d"hidden" value\x3d"google"\x3e\x3cinput name\x3d"googleAccessToken" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3cinput name\x3d"googleRefreshToken" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(e)+'"\x3e\x3cinput name\x3d"email" type\x3d"hidden" value\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x3c/form\x3e');c=$(c.toString());$("body").append(c);c.submit()}else tg(a,Ye(a.l,c))})}
function rg(a,b,c){var d=a.Gc.width();a.Gc.width(d).toggleClass("socialAuth__alerts--visible",!0);var e={type:b,message:soydata.VERY_UNSAFE.ordainSanitizedHtml(c),C:"socialAuth__alert",tf:!1,small:!0};v(!(e.global^0),"$globalContainer is required for global alerts");b=e.type.ef();c=e.type.R;var d=e.C,f=e.global,g=e.message,k=e.If,l=e.small,n=e.title,e=e.tf;soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"message",g,"soydata.SanitizedHtml");
soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"alertClass",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b instanceof soydata.SanitizedHtml||b instanceof soydata.UnsanitizedText||goog.isString(b),"iconHtml",b,"soydata.SanitizedHtml");soy.asserts.assertType(null==k||goog.isBoolean(k)||1===k||0===k,"showDismiss",k,"boolean|null|undefined");soy.asserts.assertType(null==n||n instanceof soydata.SanitizedHtml||n instanceof soydata.UnsanitizedText||
goog.isString(n),"title",n,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"classes",d,"null|string|undefined");soy.asserts.assertType(null==f||goog.isBoolean(f)||1===f||0===f,"global",f,"boolean|null|undefined");soy.asserts.assertType(null==e||goog.isBoolean(e)||1===e||0===e,"withIcon",e,"boolean|null|undefined");soy.asserts.assertType(null==l||goog.isBoolean(l)||1===l||0===l,"small",l,"boolean|null|undefined");
e=null==e?!0:e;b=""+('\x3cdiv class\x3d"feedbackAlert '+soy.$$escapeHtmlAttribute(c)+(f?" feedbackAlert--global":"")+(e?" feedbackAlert--withIcon":"")+(k?" feedbackAlert--dismissible":"")+(l?" feedbackAlert--small":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e\x3cdiv class\x3d"feedbackAlert__iconContainer"\x3e'+(e?soy.$$escapeHtml(b):"")+"\x3c/div\x3e"+(n?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(n)+"\x3c/strong\x3e ":"")+'\x3cdiv class\x3d"feedbackAlert__messageBody"\x3e'+
soy.$$escapeHtml(g)+"\x3c/div\x3e\x3c/div\x3e"+(k?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+"\x3c/button\x3e":"")+"\x3c/div\x3e");b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b);b=$(b.toString());
v(b.hasClass("feedbackAlert"),'$el must have "feedbackAlert" in its classList');v(!b.hasClass("feedbackAlert--global")||!1,"$globalContainer must only be used with global alerts");(new jg(b,void 0)).$el.appendTo(a.Gc)}function tg(a,b){a.$(".js-socialAuth__error").text(b).addClass("socialAuth__error--show");pg(a.$(".js-socialAuth__facebookButton"));pg(a.$(".js-socialAuth__googleButton"))}function qg(a){a.$(".js-socialLogin__error").removeClass("socialAuth__error--show")}var vg="loginAndSignup";function xg(a){this.ab=a.ab;this.qa=a.qa}function yg(){var a=G.required("signupConfig",window),b=I("pageVariant",a),a=G.required("captchaWidgetConfig",a),a=new Wf({kc:Fa(Vf,"impl",a),zd:J("publicKey",a)});return new xg({ab:b,qa:a})};function zg(){var a=$b(),b=qa(),c=Hb(),d=yg(),e=null;try{e=pb()}catch(l){}var f=new Me({config:new We,W:a,od:new Ke(a)}),a=new hf({config:wf(),W:a,gb:e}),e=$(".js-strengthChecker__input");b.i||(b.i=new ua(b.config));var g=new yf({hd:.75,wd:function(a){if(a.message&&!_.isEqual(a,k.we))if(k.we=a,a.Hd===Df){var b=k.j;a=a.message;a=R(new Q("email_signup_flow_amber_alert","Signup with email"),"alert_message",a);O(b,a)}else a.Hd===Ef&&(b=k.j,a=a.message,a=R(new Q("email_signup_flow_yellow_alert","Signup with email"),
"alert_message",a),O(b,a))},w:e,K:vb,i:b.i,Pb:$(".js-strengthChecker__userInput")});g.render();g.insert($(".form__inputContainer--last"));(window.hasOwnProperty("zxcvbn")?P.resolve():P.resolve($.ajax({dataType:"script",cache:!0,url:"https://static.canva.com/static/lib/zxcvbn-4.2.0.min.js"})).return()).then(function(){g.zxcvbn=window.zxcvbn});e=ra(b);b.Na||(b.Na=new Aa(b.config));var k=new Of({el:".js-signupForm",j:c,l:e,Mb:g,Na:b.Na,ab:d.ab});k.start();(new lg({el:".js-signupForm__socialAuth",ib:f,zb:a,l:ra(b),mode:vg,hb:tb})).start();
gg({j:c,qa:d.qa},k).G()};function Ag(){}Ag.prototype.getSubscription=function(){return this.subscription||null};function Bg(){}h=Bg.prototype;h.ja=function(){return this.id};h.pe=function(){return this.avatar};h.ec=function(){return this.email};h.dd=function(){return this.username};h.wa=function(){return this.displayName};h.re=function(){return this.roles};h.ad=function(){return this.personalBrand};h.yb=function(){return this.locale};h.qe=function(){return this.country};
h.Pe=function(){var a;a={id:this.ja(),username:this.dd(),personalBrand:this.ad(),displayName:this.wa(),avatar:Ya(this.pe()),roles:this.re(),countryCode:this.qe(),locale:this.yb()};a=Ra(eb,a);a.avatar&&(a.avatar=$a(a.avatar));return a};function Cg(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.C||a.C instanceof goog.soy.data.SanitizedContent||goog.isString(a.C),"classes",a.C,"null|string|undefined");
var e=a.C;soy.asserts.assertType(null==a.wb||goog.isBoolean(a.wb)||1===a.wb||0===a.wb,"dark",a.wb,"boolean|null|undefined");var f=a.wb;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=f)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(e?" "+soy.$$escapeHtmlAttribute(e):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function Dg(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.Tb||goog.isBoolean(a.Tb)||1===a.Tb||0===a.Tb,"withShadow",
a.Tb,"boolean|null|undefined");var e=a.Tb;soy.asserts.assertType(null==a.Sb||goog.isBoolean(a.Sb)||1===a.Sb||0===a.Sb,"withRoundedCorners",a.Sb,"boolean|null|undefined");var f=a.Sb;soy.asserts.assertType(null==a.Rb||goog.isBoolean(a.Rb)||1===a.Rb||0===a.Rb,"withCloseButton",a.Rb,"boolean|null|undefined");var g=a.Rb;soy.asserts.assertType(null==a.C||a.C instanceof goog.soy.data.SanitizedContent||goog.isString(a.C),"classes",a.C,"null|string|undefined");var k=a.C;soy.asserts.assertType(null==a.$b||
a.$b instanceof goog.soy.data.SanitizedContent||goog.isString(a.$b),"contentClasses",a.$b,"null|string|undefined");a=a.$b;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Cg({visible:d,C:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(k?" "+k:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=e)||b?" dialog2__box--withShadow":"")+(null==(b=f)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=g)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function Eg(a){return new P(function(b){function c(e){e.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function Fg(a){this.$el=a}r(Fg,z);function Gg(a){v(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new Fg(a)}Fg.prototype.show=function(){Hg(this,!0);this.$el.hasClass("mask2--blur")&&Ig(this,!0)};Fg.prototype.hide=function(){Hg(this,!1);this.$el.hasClass("mask2--blur")&&Ig(this,!1);return Eg(this.$el[0])};function Hg(a,b){a.$el.toggleClass("mask2--visible",b);$("body").toggleClass("mask2Visible",b)}
function Ig(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function Jg(a,b){var c=this;A.call(this,a);this.Md=b;this.Ae=this.hf.bind(this);this.$el.on("click",function(a){return c.v(a)});this.Md.on("keyup",this.Ae)}r(Jg,A);h=Jg.prototype;h.remove=function(){A.prototype.remove.call(this);this.Md.off("keyup",this.Ae)};h.show=function(){var a=this;wb(function(){return Gg(a.$el).show()})};h.hide=function(){return Gg(this.$el).hide()};h.v=function(a){!$(a.target).closest(".dialog2__content").length&&Kg(this)&&this.trigger(Lg)};
h.hf=function(a){27===a.keyCode&&Kg(this)&&this.trigger(Lg)};function Kg(a){return!!a.$el.find(".dialog2__closeButton").length}var Lg="CLOSE";function Mg(a,b,c){var d=this;A.call(this,a);a.on("click",".marketplace_dialogButton,.marketplace_dialogImageContainer",function(a){return d.v(a)});this.aa=c;this.ge=b}r(Mg,A);Mg.prototype.v=function(a){function b(){}var c=this;a.ctrlKey||a.metaKey||(a.preventDefault(),b=function(){return window.location.href=c.aa});this.trigger(Ng,b)};Mg.prototype.show=function(){this.ge.show()};var Ng="CLICK";function Og(a){var b=this;this.view=a;this.view.on(Lg,function(){return b.Ya()})}Og.prototype.Ya=function(){this.close()};Og.prototype.close=function(){var a=this;return this.view.hide().then(function(){return a.view.remove()})};function Pg(a){this.view=a.view;this.fe=a.fe;this.view.on(Ng,function(a){return a()})}
function Qg(a){var b=$,c;soy.asserts.assertType(goog.isString(a.tc)||a.tc instanceof goog.soy.data.SanitizedContent,"previewURL",a.tc,"string|goog.soy.data.SanitizedContent");c=a.tc;soy.asserts.assertType(goog.isString(a.aa)||a.aa instanceof goog.soy.data.SanitizedContent,"actionPath",a.aa,"string|goog.soy.data.SanitizedContent");var d=a.aa;soy.asserts.assertType(a.Ab instanceof soydata.SanitizedHtml||a.Ab instanceof soydata.UnsanitizedText||goog.isString(a.Ab),"headingHtml",a.Ab,"soydata.SanitizedHtml");
var e=a.Ab;soy.asserts.assertType(goog.isString(a.content)||a.content instanceof goog.soy.data.SanitizedContent,"content",a.content,"string|goog.soy.data.SanitizedContent");var f=a.content;soy.asserts.assertType(goog.isString(a.pa)||a.pa instanceof goog.soy.data.SanitizedContent,"buttonText",a.pa,"string|goog.soy.data.SanitizedContent");var g=a.pa;c=soydata.VERY_UNSAFE.ordainSanitizedHtml(Dg({visible:!1,content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"marketplace_dialog"\x3e\x3cdiv class\x3d"marketplace_dialogLeft"\x3e\x3cdiv class\x3d"marketplace_dialogHeading"\x3e'+
soy.$$escapeHtml(e)+'\x3c/div\x3e\x3cp class\x3d"marketplace_dialogContent"\x3e'+soy.$$escapeHtml(f)+'\x3c/p\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'" class\x3d"marketplace_dialogButton"\x3e'+soy.$$escapeHtml(g)+'\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"marketplace_dialogRight"\x3e\x3ca class\x3d"marketplace_dialogImageContainer" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"\x3e\x3cimg class\x3d"marketplace_dialogImageLabel" src\x3d"https://static.canva.com/static/images/marketplace/dialog/label.png"\x3e\x3cimg class\x3d"marketplace_dialogImageArrow" src\x3d"https://static.canva.com/static/images/marketplace/dialog/arrow.svg"\x3e\x3cimg class\x3d"marketplace_dialogImage" src\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(c))+'"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e')}));b=b(c.toString());a=a.aa;c=new Jg(b,$(document));a=new Mg(b,c,a);b=new Og(a.ge);return{bb:new Pg({view:a,fe:b}),view:a}}Pg.prototype.Lb=function(a){this.view.off(Ng);this.view.on(Ng,function(b){return a(b)})};Pg.prototype.show=function(){this.view.show()};function Rg(a,b){this.Gd=a;this.hb=b}Rg.prototype.track=function(){var a=Sg(this);a.push(this.hb.getTime());Tg(this,a)};Rg.prototype.clear=function(){Tg(this,[])};function Ug(){var a=Vg;a.Gd.setItem("marketplaceDialogEnableTime",JSON.stringify(a.hb.getTime()+6048E5))}function Wg(){var a=Vg,b=a.hb.getTime();return Sg(a).filter(function(a){return a>b-144E5})}function Sg(a){return(a=a.Gd.getItem("marketplaceSingleVisitHistory"))?JSON.parse(a):[]}
function Tg(a,b){a.Gd.setItem("marketplaceSingleVisitHistory",JSON.stringify(b))};var Xg=/^.*\/(templates|icons|photos).*$/,Yg=qa();Yg.pd||(Yg.pd=new za(Yg.config));
var S=Yg.pd,qc=Hb(),Zg=$b(),Yd=new function(){this.W=Zg;this.path="/marketplace/search"},Xd=new function(){this.W=Zg;this.path="/category"},$d=window.cmsg.localePrecedence[0],U=G.required("searchClientConfig",window),Zd=new ic({u:I("domainName",U),Jb:I("rootCategory",U),cb:Ha(function(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "SCREEN_2X":return"SCREEN_2X";case "SCREEN_3X":return"SCREEN_3X";case "PRINT":return"PRINT";
case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}},"qualityPrecedence",U),Cc:J("thumbnailHoverOver",U),oc:H("numberGalleryItems",U),fb:Ea(function(a){return new hc({id:I("id",a),displayName:I("displayName",a),jb:I("galleryPath",a),parent:J("parent",a)})},"categories",U),Gb:Fa(function(a,b){switch(b){case "GALLERY":return"GALLERY";case "MEDIA_ITEM":return"MEDIA_ITEM";default:throw new TypeError('expected PageType for property "'+
a+'", found: '+JSON.stringify(b));}},"pageType",U),ua:H("debounceMillis",U),category:I("category",U),query:J("query",U),ya:F.optional("pageNumber",U),Fa:Ca.optional("freeOnly",U),rd:Ca.optional("mobileOrUnsupported",U),zc:K("showRelatedQueriesList",U),tag:J("tag",U),mc:F.optional("maxGalleryPages",U)}),$g=Ra(function(){},window.clientInfo),ah,bh=Ra(Ag,$g.brandInfo),ch,dh=bh.brand;ch=dh?Ra(db,dh):null;bh.brand=ch;
if(bh.subscription){var eh,V=bh.subscription,fh=I("id",V),gh,W=G.required("plan",V);gh=new Kb({id:I("id",W),displayName:I("displayName",W),xe:K("legacy",W),Te:K("userLocked",W),ha:Fa(Mb,"tier",W),ne:J("featureBundle",W),Se:H("trialPeriodDays",W),Wd:Fa(Lb,"billingInterval",W),Je:H("price",W)});eh=new Ib({id:fh,Ie:gh,ca:I("brand",V),status:Fa(Jb,"status",V),Ke:H("quantity",V),Re:F.optional("trialEnd",V),De:F.optional("paidUntil",V),Ge:F.optional("periodStart",V),Fe:F.optional("periodEnd",V),Vd:K("billed",
V),ke:K("eligibleForMediaDiscounts",V)});bh.subscription=eh}ah=Object.freeze(bh);$g.brandInfo=ah;var hh,ih=Ra(Bg,$g.user);ih.avatar&&(ih.avatar=$a(ih.avatar));hh=Object.freeze(ih);$g.user=hh;var jh=Object.freeze($g).user.Pe(),rc="UAAAAAAAAAA"!==jh.ja(),pc=Xg.test(location.href)?location.href.replace(Xg,"$1"):null,kh=Map,lh=["photos",S.format("marketplaceSignupDialogContentForPhotos")],mh;mh=S.format("marketplaceSignupDialogContentForTemplates");var nh=new kh([lh,["templates",mh]]),oh=void 0;
try{oh=pb("marketplace")}catch(a){}var ph;if(oh){var qh=oh,rh=new Date,sh=qh.getItem("marketplaceDialogEnableTime");ph=(sh?rh.getTime()>JSON.parse(sh):1)?new Rg(qh,rh):void 0}else ph=void 0;var Vg=ph,th=$(".marketplace"),uh=function(a){var b=a.find(".navigationMenuDropdown").toArray().map(function(a){return new ge($(a))});return new ke(a,$(window),b)}(th.find(".navbar")),vh=new pe(th,{Xa:uh}),wh=function(a){var b=a.cc.map(function(a){return new qe({bc:!1},a,vb)});return new te({nc:900},a,b)}(vh.Xa);
(new we(vh,{Xa:wh})).G();
switch(Zd.Gb){case "GALLERY":var ae=new jd($(".marketplaceHeader__banner")),be=id($(".marketplaceSearchBox--gallery")),xh=$(".marketplaceGallery"),yh=new jd(xh.find(".marketplaceHeader__banner")),zh=yc(xh.find(".marketplaceResultGrid")),Ah=xh.find(".marketplacePagination"),Bh=new Dc(Ah),Ch=new gc(xh.find(".marketplaceCategoryList")),Dh=new kc($(window)),Eh=xh.find(".relatedQueries"),ee=new kd(xh,{gc:yh,Ka:zh,yd:Bh,Sa:Ch,yc:Eh.length?new Nc(Eh):void 0,Bb:Dh}),de;if(!rc){var Fh=S,Gh=String($(".marketplaceHeader__button").attr("href")),
X={hc:Fh.format("marketplaceStickyHeaderHeading"),ic:Fh.format("marketplaceStickyHeaderSubheading"),lc:Fh.format("marketplaceStickyHeaderLoginButton"),Ac:Fh.format("marketplaceStickyHeaderSignupButton"),aa:Gh,C:"marketplace__row"},Hh=$,Ih;soy.asserts.assertType(goog.isString(X.hc)||X.hc instanceof goog.soy.data.SanitizedContent,"headerHeading",X.hc,"string|goog.soy.data.SanitizedContent");var Jh=X.hc;soy.asserts.assertType(goog.isString(X.ic)||X.ic instanceof goog.soy.data.SanitizedContent,"headerSubheading",
X.ic,"string|goog.soy.data.SanitizedContent");var Kh=X.ic;soy.asserts.assertType(goog.isString(X.lc)||X.lc instanceof goog.soy.data.SanitizedContent,"loginText",X.lc,"string|goog.soy.data.SanitizedContent");var Lh=X.lc;soy.asserts.assertType(goog.isString(X.Ac)||X.Ac instanceof goog.soy.data.SanitizedContent,"signupTest",X.Ac,"string|goog.soy.data.SanitizedContent");var Mh=X.Ac;soy.asserts.assertType(goog.isString(X.aa)||X.aa instanceof goog.soy.data.SanitizedContent,"actionPath",X.aa,"string|goog.soy.data.SanitizedContent");
var Nh=X.aa;soy.asserts.assertType(null==X.C||X.C instanceof goog.soy.data.SanitizedContent||goog.isString(X.C),"classes",X.C,"null|string|undefined");var Oh=X.C;Ih=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"stickyHeader"\x3e\x3cdiv class\x3d"stickyHeader__content'+(Oh?" "+soy.$$escapeHtmlAttribute(Oh):"")+'"\x3e\x3cdiv class\x3d"stickyHeader__heading"\x3e'+soy.$$escapeHtml(Jh)+'\x3c/div\x3e\x3cdiv class\x3d"stickyHeader__subheading"\x3e'+soy.$$escapeHtml(Kh)+'\x3c/div\x3e\x3ca href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(Nh))+'" class\x3d"stickyHeader__loginButton"\x3e'+soy.$$escapeHtml(Lh)+'\x3c/a\x3e\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(Nh))+'" class\x3d"stickyHeader__signupButton"\x3e'+soy.$$escapeHtml(Mh)+"\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e");var Ph=Hh(Ih.toString()),Qh=String(Ph.find(".stickyHeader__loginButton").attr("href")),Rh=new Oc(Ph,Qh),Sh={bb:new Sd(Rh),view:Rh},Th=Sh.bb,Uh=ee,Vh=Sh.view;x(!Uh.Fd);Uh.Fd=Vh;Uh.$el.append(Uh.Fd.$el);
de=Th}var ce;if("templates"===pc&&!rc){var Y={pa:S.format("marketplaceStickyCtaText"),Vb:"https://canva.me/templates-cta"},Wh=$,Xh;soy.asserts.assertType(goog.isString(Y.pa)||Y.pa instanceof goog.soy.data.SanitizedContent,"buttonText",Y.pa,"string|goog.soy.data.SanitizedContent");var Yh=Y.pa;soy.asserts.assertType(goog.isString(Y.Vb)||Y.Vb instanceof goog.soy.data.SanitizedContent,"buttonLink",Y.Vb,"string|goog.soy.data.SanitizedContent");Xh=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"stickyButton" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(Y.Vb))+'"\x3e'+soy.$$escapeHtml(Yh)+"\x3c/a\x3e");var Zh=Wh(Xh.toString()),$h=String(Zh.attr("href")),ai=new Qc(Zh,$h),bi={bb:new Rd(ai),view:ai},ci=bi.bb,di=ee,ei=bi.view;x(!di.Ed);di.Ed=ei;di.$el.append(di.Ed.$el);ce=ci}Wd().G();break;case "MEDIA_ITEM":var fi=$(".marketplaceSingle"),gi=fi,hi=gi.find(".marketplaceCarousel__Container"),ii=0<hi.length?new xe(hi):void 0,ji=yc(gi.find(".marketplaceResultGrid")),ki=id(gi.find(".marketplaceSearchBox")),
li=new gc(gi.find(".marketplaceCategoryList")),mi=new Be(gi,{Ka:ji,Kb:ki,Sa:li,ub:ii}),ni={Ca:Xd,lb:Yd,g:Zd,o:S},oi=ud({o:ni.o},mi.Ka),pi=Od({Ca:ni.Ca,u:ni.g.u,ua:ni.g.ua},mi.Kb),qi=new jc(mi.Sa),ri;if(ri=mi.ub)ri=new Ce(mi.ub);(new De(ni,mi,{ea:oi,la:pi,Ra:qi,Wb:ri})).G();var si=nh.get(pc);if(!rc&&!Zd.rd&&si&&Vg&&(Vg.track(),2<Wg().length)){var ti=mi.ub?fi.find(".marketplaceCarousel__thumbnail").attr("data-preview"):fi.find(".marketplaceSingle__image").attr("src");ui()}vi();break;default:throw Error("Unknown PageType: "+
Zd.Gb);}pc&&oc();
if(!rc&&oh&&"disabled"!==oh.getItem("marketplaceBanner")){var wi={Za:function(){return oh.setItem("marketplaceBanner","disabled")},o:S},Z={heading:wi.o.format("marketplaceAppBannerHeading"),Bc:wi.o.format("marketplaceAppBannerSubheading")},xi=$,yi;soy.asserts.assertType(goog.isString(Z.heading)||Z.heading instanceof goog.soy.data.SanitizedContent,"heading",Z.heading,"string|goog.soy.data.SanitizedContent");var zi=Z.heading;soy.asserts.assertType(goog.isString(Z.Bc)||Z.Bc instanceof goog.soy.data.SanitizedContent,
"subheading",Z.Bc,"string|goog.soy.data.SanitizedContent");var Ai=Z.Bc;yi=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"marketplaceAppBanner"\x3e\x3ca href\x3d"https://canva.me/4kIuhcbDdL" class\x3d"marketplaceAppBanner__body"\x3e\x3cdiv class\x3d"marketplaceAppBanner__logo"\x3e\x3c/div\x3e\x3cdiv class\x3d"marketplaceAppBanner__content"\x3e\x3cdiv class\x3d"marketplaceAppBanner__title"\x3e'+soy.$$escapeHtml(zi)+'\x3c/div\x3e\x3cdiv class\x3d"marketplaceAppBanner__subheading"\x3e'+soy.$$escapeHtml(Ai)+
'\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e\x3cdiv class\x3d"marketplaceAppBanner__close"\x3e\x3c/div\x3e\x3c/div\x3e');var Bi=xi(yi.toString()),Ci=new la(Bi),Di={bb:new Ba(wi,Ci),view:Ci}.view;$("body").prepend(Di.$el)}
function vi(){var a=new fc(Da(window.cflags)),b=new ec;"templates"===pc&&"MEDIA_ITEM"===Zd.Gb&&("UAAAAAAAAAA"===jh.id&&a.get(b)&&0!==$(".signupFormContainer").length?qc.dc().then(function(c){var d;if(d=null!=c){d=a.get(b);for(var e=0,f=0;f<c.length;f++)e+=c.charCodeAt(f);d=d>e%100}if(c=d)zg(),$(".marketplaceSingle__signupFormWrapper").toggleClass("marketplaceSingle__sidebarBlock--hidden",!1),$(".marketplaceSingle__designButtonContainer").toggleClass("marketplaceSingle__sidebarBlock--hidden",!0);O(qc,
sc(!1,c))}):O(qc,sc("UAAAAAAAAAA"!==jh.id,!1)))}function ui(){var a={tc:String(ti),aa:String(fi.find(".marketplaceSingle__designButton").attr("href")),Ab:S.df("marketplaceSignupDialogHeading"),content:si,pa:S.format("marketplaceSignupDialogButtonText")},b=pc,a=Qg(a),c=a.bb,d=a.view;P.delay(3E3).then(function(){$("body").append(d.$el);c.show();Vg.clear();Ug();b&&(O(qc,tc(b)),c.Lb(function(a){P.race([P.delay(300),b&&O(qc,uc(b))]).finally(a)}))})};})();
