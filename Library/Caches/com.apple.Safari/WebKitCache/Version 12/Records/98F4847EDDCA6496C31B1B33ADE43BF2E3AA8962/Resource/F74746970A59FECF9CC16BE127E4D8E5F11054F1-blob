(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"4DKO":function(e,t,r){"use strict";var a=r("QILm"),n=r.n(a),i=r("17x9"),o=function(e,t){e.children;var r=n()(e,["children"]);return(0,t.setPageType)(r),null};o.contextTypes={setPageType:r.n(i).a.func},t.a=o},"4fRq":function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var a=new Uint8Array(16);e.exports=function(){return r(a),a}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},EcEN:function(e,t,r){var a=r("xDdU"),n=r("xk4V"),i=n;i.v1=a,i.v4=n,e.exports=i},I2ZF:function(e,t){for(var r=[],a=0;a<256;++a)r[a]=(a+256).toString(16).substr(1);e.exports=function(e,t){var a=t||0,n=r;return[n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]]].join("")}},fnBi:function(e,t,r){"use strict";var a,n=r("gcR/"),i=r.n(n),o=r("lwsE"),s=r.n(o),l=r("W8MJ"),c=r.n(l),d=r("a1gu"),m=r.n(d),u=r("Nsbk"),p=r.n(u),f=r("7W2i"),h=r.n(f),v=r("q1tI"),g=r("vftj"),b=r("rI8Z"),y=r("X6oL"),w=r.n(y),x=r("C9qx"),k=r("4DKO"),N=r("rnzX"),O=r("UmXO"),E=r("wXC7"),j=r.n(E),I=Object(O.css)("color:",j.a.color.gray30,";font-family:",j.a.font.sansBase,";font-size:13px;margin:0 auto;max-width:",j.a.breakpoint.maxMobileContentWidth,"px;padding:15px;"),S=i()(k.a,{type:"Error"}),C=i()(x.a,{code:500}),T=w()({presentation:{pageType:"Error"}})(a=function(e){function t(){return s()(this,t),m()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){return i()(N.a,{},void 0,i()("div",{className:I},void 0,S,C,i()(g.Helmet,{},void 0,i()("title",{},void 0,b.b.title500)),Object(b.a)(b.b.text500,{})))}}]),t}(v.Component))||a;t.a=T},qP6w:function(e,t,r){"use strict";r.r(t);r("SRfc");var a=r("gcR/"),n=r.n(a),i=r("lwsE"),o=r.n(i),s=r("W8MJ"),l=r.n(s),c=r("a1gu"),d=r.n(c),m=r("Nsbk"),u=r.n(m),p=r("7W2i"),f=r.n(p),h=r("q1tI"),v=r.n(h),g=r("QS0n"),b=(r("17x9"),r("B0Ek")),y=r("OO03"),w=r("UmXO"),x=r("fnBi"),k=r("X6oL"),N=r.n(k),O=r("vftj"),E=r("wXC7"),j=r.n(E),I=Object(w.css)("padding:20px;font-weight:",j.a.font.weight.light,";border-top:1px solid ",j.a.color.gray60,";background:",j.a.color.white,";font-size:",j.a.font.size(12),";font-family:",j.a.font.franklinBase,";text-align:center;"),S=Object(w.css)("color:",j.a.color.blue20,";text-decoration:underline;cursor:pointer;&:hover{color:",j.a.color.blue30,";}"),C=Object(w.css)("margin-top:1rem;color:",j.a.color.gray30,";"),T=n()("div",{},void 0,n()("a",{rel:"noopener noreferrer",href:"https://help.nytimes.com/",target:"_blank",className:S},void 0,"Help"),"   ",n()("a",{href:"https://help.nytimes.com/hc/en-us/articles/115015385887-Contact-us",target:"_blank",rel:"noopener noreferrer",className:S},void 0,"Contact us")),D=function(){return n()("div",{id:"site-index","data-testid":"refer-footer",className:I},void 0,T,n()("div",{className:C},void 0,"© ",(new Date).getUTCFullYear()," The New York Times Company"))};D.displayName="Footer";var R=D,F=(r("OG14"),r("J4zp")),z=r.n(F),B=r("hHXl"),P=r("cr+I"),L=r.n(P),A=r("HUmG"),_=r("s4NR"),M=r.n(_),q=Object(w.css)("display:flex;justify-content:center;align-items:center;position:fixed;width:100%;height:100%;top:0;z-index:1;"),V=Object(w.keyframes)("100%{transform:rotate(360deg);transform-origin:center;}"),$=Object(w.css)("opacity:1;width:50px;animation:",V," 0.8s steps(10,end) infinite;"),U=n()("g",{stroke:"black",strokeWidth:"3.75",strokeLinecap:"round"},void 0,n()("line",{x1:0,y1:-14,x2:0,y2:-30,opacity:"1"}),n()("line",{x1:-8.229,y1:-11.33,x2:-17.63,y2:-24.27,opacity:"0.87"}),n()("line",{x1:-13.31,y1:-4.326,x2:-28.53,y2:-9.271,opacity:"0.74"}),n()("line",{x1:-13.31,y1:4.326,x2:-28.53,y2:9.271,opacity:"0.61"}),n()("line",{x1:-8.23,y1:11.33,x2:-17.63,y2:24.27,opacity:"0.48"}),n()("line",{x1:0,y1:14,x2:0,y2:30,opacity:"0.37"}),n()("line",{x1:8.23,y1:11.33,x2:17.63,y2:24.27,opacity:"0.26"}),n()("line",{x1:13.31,y1:4.33,x2:28.53,y2:9.27,opacity:"0.17"}),n()("line",{x1:13.31,y1:-4.33,x2:28.53,y2:-9.27,opacity:"0.09"}),n()("line",{x1:8.23,y1:-11.33,x2:17.63,y2:-24.27,opacity:"0.02"})),Y=v.a.memo(function(){return n()("div",{className:q},void 0,n()("svg",{className:$,xmlns:"http://www.w3.org/2000/svg",alt:"Loading spinner icon",version:"1.1",width:"198px",height:"198px",viewBox:"-50 -50 100 100"},void 0,U))}),W=Object(w.css)("max-width:800px;margin:1rem auto 0;padding:3rem 2rem;min-height:75vh;color:",j.a.color.gray20,";"),X=Object(w.css)("font-size:50px;max-width:500px;margin-bottom:1rem;line-height:55px;font-family:",j.a.font.serifMedium,";font-weight:",j.a.font.weight.extraLight,";@media (max-width:",j.a.breakpoint.width.medium,"px){font-size:34px;line-height:38px;}"),H=Object(w.css)("max-width:750px;"),K=Object(w.css)("font-size:16px;line-height:24px;max-width:650px;font-family:",j.a.font.franklinBase,";font-weight:",j.a.font.weight.light,";"),Q=Object(w.css)("display:flex;margin-top:3rem;@media (max-width:",j.a.breakpoint.width.medium,"px){display:block;}"),J=Object(w.css)("background-color:",j.a.color.black,";width:100%;padding:1rem 0;color:",j.a.color.white,";border-radius:3px;box-sizing:border-box;"),Z=Object(w.css)("background-color:",j.a.color.gray45,";"),G=Object(w.css)("padding:1rem 5rem;margin-top:2rem;width:unset;display:inline-block;@media (max-width:",j.a.breakpoint.width.medium,"px){width:100%;}"),ee=Object(w.css)("font-family:",j.a.font.serifMedium,";font-size:28px;line-height:34px;margin-bottom:1rem;@media (max-width:",j.a.breakpoint.width.medium,"px){font-size:23px;}"),te=Object(w.css)("font-family:",j.a.font.franklinBase,";line-height:12px;font-weight:100;cursor:pointer;display:inline-block;color:",j.a.color.blue30,";background:none;&:hover{color:",j.a.color.blue20,";}"),re=Object(w.css)("border-top:1px solid ",j.a.color.gray50,";margin:4rem 0 2rem;padding-top:1rem;"),ae=Object(w.css)("display:block;font-family:",j.a.font.franklinBase,";font-size:12px;font-weight:normal;line-height:14px;color:",j.a.color.gray33,";"),ne=(r("jm62"),r("ioFf"),r("hhXQ"),r("rGqo"),r("yt8O"),r("Btvt"),r("RW0V"),r("f3/d"),r("lSNA")),ie=r.n(ne),oe=r("EcEN"),se=r.n(oe),le=Object(w.css)("border:1px solid ",j.a.color.red20," !important;"),ce=Object(w.css)("color:",j.a.color.red20,";margin:0.4rem 0 0;"),de=Object(w.css)("color:",j.a.color.gray20,";display:block;margin-bottom:0.5rem;"),me=Object(w.css)("font-weight:",j.a.font.weight.mediumBold,";margin-bottom:0.3rem;"),ue=Object(w.css)("color:",j.a.color.gray20,";font-family:",j.a.font.franklinBase,";flex:1 0;"),pe=Object(w.css)("color:",j.a.color.gray20,";&[type='text']{border:1px solid ",j.a.color.gray45,";padding:1rem 0.8rem;-webkit-appearance:none;width:100%;border-radius:3px;font-size:14px;&:focus::placeholder{opacity:0;}&:focus{outline:-webkit-focus-ring-color auto 5px;}}"),fe=Object(w.css)("color:",j.a.color.gray20,";padding:1rem 0.8rem;font-family:",j.a.font.franklinBase,";border:1px solid ",j.a.color.gray45,";width:100%;border-radius:3px;-webkit-appearance:none;font-size:16px;line-height:18px;resize:none;font-size:14px;&:focus{outline:-webkit-focus-ring-color auto 5px;}"),he=Object(w.css)("margin-bottom:1.5rem;"),ve=Object(w.css)("padding:0.5rem 0.8rem;display:flex;-webkit-appearance:none;flex-wrap:wrap;border:1px solid ",j.a.color.gray45,";border-radius:3px;font-size:14px;&:focus-within{outline:-webkit-focus-ring-color auto 5px;}"),ge=Object(w.css)("flex:1 0;resize:none;margin:0.1rem;padding:0.5rem 0rem;&:focus{outline:none;}"),be=(r("Z2Ku"),n()("path",{d:"M1.00006 1.00001L7.87994 7.89002",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})),ye=n()("path",{d:"M7.87994 1.00001L1.00006 7.89002",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),we=function(e){var t=e.className;return n()("svg",{className:t,width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},void 0,be,ye)};we.displayName="CloseIcon",we.defaultProps={className:void 0};var xe=we,ke=r("3NoI"),Ne=r.n(ke),Oe=Ne()("input",{target:"eelpjsg0"})("padding:0.5rem 0rem;margin:0.1rem;display:inline-block;width:",function(e){return 60+e.thisWidth},"px;resize:none;"),Ee=Ne()("div",{target:"eelpjsg1"})("padding:0.5rem;margin:0.1rem;display:flex;align-items:center;border-radius:3px;background-color:",function(e){return e.isValid?j.a.color.blue30:j.a.color.red20},";color:",j.a.color.white,";"),je=Object(w.css)("margin-right:1rem;"),Ie=Object(w.css)("height:12px;color:",j.a.color.white,";width:12px;"),Se=Object(w.css)("width:12px;stroke-width:3px;background:",j.a.color.red20,";height:12px;vertical-align:super;stroke:",j.a.color.white,";"),Ce=Object(w.css)("background:",j.a.color.blue30,";"),Te=Oe,De=Ee,Re=function(e){function t(){var e,r;o()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(r=d()(this,(e=u()(t)).call.apply(e,[this].concat(n)))).handleKeyDown=function(e){var t=r.props,a=t.addEmail,n=t.removeEmail,i=t.removeLastEmail,o=t.unselectEmail,s=t.email;return["Tab","Enter",","," "].includes(e.key)?(e.preventDefault(),o(),r.isEmailInputEmpty(s)?n():r.validateEmail(e.target,a)):!(!["Backspace"].includes(e.key)||!r.isEmailInputEmpty(s))&&(e.preventDefault(),i())},r.handleOnChange=function(e){return(0,r.props.updateEmail)({value:e.target.value})},r.handleOnBlur=function(e){var t=r.props,a=t.email,n=t.unselectEmail,i=t.removeEmail;return n(),r.isEmailInputEmpty(a)?i():r.validateEmail(e.target)},r.isEmailInputEmpty=function(e){return!e.value},r.validateEmail=function(e,t){var a=r.props.updateEmail,n=e.checkValidity();return a({value:e.value,isValid:n},t)},r.handleDeletion=function(e){return e.stopPropagation(),r.props.removeEmail()},r}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isEditing,r=e.onClick,a=e.email,i=a.isValid,o=a.value;return t?n()(Te,{onChange:this.handleOnChange,onBlur:this.handleOnBlur,onKeyDown:this.handleKeyDown,autoFocus:t,value:o,type:"email",thisWidth:8*o.length,maxLength:"320","data-testid":"refer-email-input"}):n()(De,{onClick:r,isValid:i},void 0,n()("span",{className:je},void 0,o),n()("span",{},void 0,n()("button",{className:Ie,type:"button",onClick:this.handleDeletion},void 0,n()(xe,{className:Object(w.cx)(Se,ie()({},Ce,i))}))))}}]),t}(v.a.Component);Re.displayName="EmailItem";var Fe=Re;function ze(e){for(var t=1;t<arguments.length;t++)if(t%2){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){ie()(e,t,r[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}var Be=n()("small",{className:ae},void 0,"Enter up to 10 email addresses, separated by spaces."),Pe=n()("small",{className:ae},void 0,"Enter your name."),Le=n()("small",{className:ae},void 0,"Use this message or customize it."),Ae=function(e){function t(){var e,r;o()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(r=d()(this,(e=u()(t)).call.apply(e,[this].concat(i)))).state={name:"",message:"Enjoy The New York Times as much as I do by subscribing with a special rate.\n\nSubscribe to The Times for $1/week for one year by using my link: nytimes.com/share/".concat(r.props.referralID),emails:[],editingEmailID:null,errors:{email:null,name:null,internal:null}},r.addEmail=function(){var e=r.state,t=e.emails,a=e.errors,n=se()(),i=t.concat({id:n,value:"",isValid:!0});return r.setState({editingEmailID:n,emails:i,errors:ze({},a,{email:r.validateEmailField(i)})})},r.removeEmail=function(e){var t=r.state,a=t.emails,n=t.errors,i=a.filter(function(t){return t.id!==e});return r.setState({editingEmailID:null,emails:i,errors:ze({},n,{email:r.validateEmailField(i)})})},r.selectEmail=function(e){return r.setState({editingEmailID:e})},r.unselectEmail=function(e){return r.setState({editingEmailID:null},function(){return!!e&&e()})},r.updateEmail=function(e,t,a){var n=r.state,i=n.emails,o=n.errors;if(i.length>11)return!1;var s=i.map(function(r){return e===r.id?ze({},r,{},t):r});return r.setState({emails:s,errors:ze({},o,{email:r.validateEmailField(s)})},function(){return!!a&&a()})},r.validateEmailField=function(e){var t=e.some(function(e){return!e.isValid})&&"Invalid email";return e.length>10&&"Emails exceed invite limit (10 max)"||t},r.removeLastEmail=function(){var e=r.state,t=e.emails,a=e.errors,n=t.filter(function(e,r){return r!==t.length-2});return r.setState({emails:n,errors:ze({},a,{email:r.validateEmailField(n)})})},r.renderEmailItem=function(e){var t=r.state.editingEmailID,a=e.id;return n()(Fe,{email:e,onClick:function(){return r.selectEmail(a)},isEditing:t===a,addEmail:r.addEmail,removeEmail:function(){return r.removeEmail(a)},removeLastEmail:r.removeLastEmail,updateEmail:function(e,t){return r.updateEmail(a,e,t)},unselectEmail:r.unselectEmail},a)},r.renderEmails=function(e){return e.map(function(e){return r.renderEmailItem(e)})},r.updateFromField=function(e){r.setState({name:e.target.value,errors:ze({},r.state.errors,{name:null})})},r.updateMessageField=function(e){r.setState({message:e.target.value})},r.handleInternalError=function(){return r.setState({errors:ze({},r.state.errors,{internal:"Sorry, there was an error when attempting to submit this form. Please try again later."})})},r.handleFormSubmission=function(e){e.preventDefault();var t=r.props,a=t.showSuccessScreen,n=t.inviteFriend;return r.unselectEmail(function(){var e={};if(""===r.state.name&&(e.name="Please enter a name."),0===r.state.emails.length&&(e.email="Please enter an Email address."),Object.keys(e).length||Object.values(r.state.errors).some(function(e){return e}))return r.setState({errors:ze({},r.state.errors,{},e)});var t=r.state.emails.map(function(e){return e.value});return n({variables:{emails:t,name:r.state.name,message:r.state.message,referralCampaign:r.props.referralCampaign}}).then(function(e){return"InviteFriendError"===e.data.__typename?r.handleInternalError():(r.props.tracking.trackEvent({module:{element:{name:"send-referral-email"}},eventData:{type:"click"}}),a())}).catch(function(){return r.handleInternalError()})})},r}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.state,t=e.emails,r=e.editingEmailID,a=e.errors,i=e.name,o=e.message;return n()("form",{"data-testid":"refer-form",id:"site-content",onSubmit:this.handleFormSubmission,className:ue},void 0,n()("fieldset",{className:he},void 0,n()("label",{htmlFor:"email-field",className:de},void 0,n()("div",{className:me},void 0,"To"),Be),n()("div",{className:Object(w.cx)(ve,ie()({},le,a.email))},void 0,this.renderEmails(t),!r&&t.length<12&&n()("input",{id:"email-field","data-testid":"refer-email-field",className:ge,onClick:this.addEmail})),a.email&&n()("p",{"data-testid":"refer-email-error",className:ce},void 0,a.email)),n()("fieldset",{className:he},void 0,n()("label",{htmlFor:"name-field",className:de},void 0,n()("div",{className:me},void 0,"From"),Pe),n()("input",{id:"name-field","data-testid":"refer-name-field",onChange:this.updateFromField,className:Object(w.cx)(pe,ie()({},le,a.name)),type:"text",value:i,maxLength:"50"}),a.name&&n()("p",{className:ce},void 0,a.name)),n()("fieldset",{className:he},void 0,n()("label",{htmlFor:"message-field",className:de},void 0,n()("div",{className:me},void 0,"Message"),Le),n()("textarea",{id:"message-field",onChange:this.updateMessageField,className:fe,value:o,maxLength:"300",rows:"10"})),n()("button",{"data-testid":"form-submit",className:Object(w.cx)(J,ie()({},Z,0===t.length||""===i||Object.values(a).some(function(e){return e}))),type:"submit"},void 0,"Send"),a.internal&&n()("p",{"data-testid":"refer-server-error",className:ce},void 0,a.internal))}}]),t}(v.a.Component);Ae.displayName="Form";var _e=N()({})(Ae),Me=(r("pIFo"),r("SMB2"),Object(w.css)("max-width:200px;flex:1 0 20%;margin:0 0 4rem 4rem;padding:1.3rem;color:",j.a.color.black,";background-color:",j.a.color.blue50,";font-family:",j.a.font.franklinBase,";line-height:20px;font-size:16px;height:100%;@media (max-width:",j.a.breakpoint.width.medium,"px){max-width:100%;margin:2rem 0;}")),qe=Object(w.css)("font-weight:",j.a.font.weight.bold,";margin-bottom:0.5rem;"),Ve=Object(w.css)("display:flex;margin-top:0.4rem;position:relative;max-width:230px;"),$e=Object(w.css)("flex:1;background-color:",j.a.color.white,";font-weight:",j.a.font.weight.mediumBold,";padding:0.4rem;"),Ue=Object(w.css)("color:",j.a.color.blue20,";position:absolute;background-color:",j.a.color.white,";right:3px;top:15%;line-height:14px;padding:0.2rem 0.4rem;"),Ye=n()("div",{},void 0,"Share this link with anyone, at any time, in any way that works for you."),We=function(e){var t=e.referralID,r=e.hideInfo,a=e.tracking,i=Object(h.useState)("Copy"),o=z()(i,2),s=o[0],l=o[1];return n()("div",{"data-testid":"refer-unique-link",className:Me},void 0,n()("div",{className:qe},void 0,"Share this link"),!r&&Ye,n()("div",{className:Ve},void 0,n()("input",{readOnly:!0,value:"".concat(window.location.host).concat(window.location.pathname.replace(/\/+$/,""),"/").concat(t),id:"refer-link",className:$e,onCopy:function(){a.trackEvent({module:{element:{name:"copy-shareable-link"}},eventData:{type:"click"}})}}),n()("button",{type:"button",onClick:function(){return document.getElementById("refer-link").select(),document.execCommand("copy"),l("Copied"),setTimeout(function(){return l("Copy")},2e3)},className:Ue},void 0,s)))};We.displayName="UniqueLink",We.defaultProps={hideInfo:!1};var Xe=N()({})(We),He=r("VkAN"),Ke=r.n(He),Qe=r("Dugd"),Je=r.n(Qe);function Ze(){var e=Ke()(["\n  query getReferralInfo($referralID: String) {\n    referralInfo(req: { referralID: $referralID }) @client {\n      __typename\n      ... on ReferralInfoResponse {\n        advocateEmail\n        friendIncentive {\n          discountDetails {\n            offerChain\n          }\n        }\n      }\n      ... on ReferralInfoErrorResponse {\n        code\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}function Ge(){var e=Ke()(["\n  query getAdvocateInfo($referralCampaign: String) {\n    advocateInfo(req: { referralCampaign: $referralCampaign }) @client {\n      __typename\n      ... on AdvocateInfoResponse {\n        referralID\n        referralCampaign\n      }\n      ... on AdvocateInfoErrorResponse {\n        code\n      }\n    }\n  }\n"]);return Ge=function(){return e},e}function et(){var e=Ke()(["\n  mutation InviteFriendMutation(\n    $referralCampaign: String\n    $emails: [String]!\n    $message: String!\n    $name: String!\n  ) {\n    inviteFriend(\n      req: { referralCampaign: $referralCampaign, emails: $emails, message: $message, name: $name }\n    ) @client {\n      message\n    }\n  }\n"]);return et=function(){return e},e}var tt=Je()(et()),rt=Je()(Ge()),at=Je()(Ze()),nt=function(e){var t=e.tracking;return n()("button",{onClick:function(){return t.trackEvent({eventCallback:function(){return window.open("https://www.nytimes.com/subscription/sponsor/share","_blank")},eventTimeout:120,module:{element:{name:"sponsor-a-student-learn-more"}}})},type:"button",className:te},void 0,"Sponsor a Student Subscription")};nt.displayName="SponsorStudentLink";var it=nt,ot=n()("div",{"data-testid":"refer-terms",className:re},void 0,n()("small",{className:ae},void 0,"To make a referral, you must be a current subscriber to The New York Times. Invitees must be friends and family living in the United States and not currently subscribed to The Times. The information submitted about invitees, such as name and email address, is subject to The New York Times"," ",n()("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.nytimes.com/hc/en-us/articles/115014892108-Privacy-policy "},void 0,"Privacy Policy"),". Bulk referrals or invitations to strangers are not allowed. At the completion of the first four-week payment cycle for each invitee who becomes a paying subscriber, The Times will provide five students with access to The Times through its"," ",n()("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.nytimes.com/subscription/sponsor/share"},void 0,"Sponsor a Student Subscription")," ","program. As a new subscriber, you will be charged the introductory rate for the introductory period of one year, and thereafter will be charged the standard rate. All subscriptions renew automatically. You can"," ",n()("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.nytimes.com/hc/en-us/articles/115014893968-Terms-of-sale#cancel"},void 0,"cancel")," ","anytime. Mobile apps are not supported on all devices. Other restrictions and taxes may apply. This offer is subject to change and may be terminated at any time.")),st=function(){return ot};st.displayName="Terms";var lt=st,ct=n()(lt,{}),dt=function(e){var t=e.tracking,r=e.showSuccessScreen,a=e.data;return n()("div",{className:W,"data-testid":"refer-advocate-landing-content"},void 0,n()("div",{className:X},void 0,"Share the Times with the people in your life"),n()("div",{className:K},void 0,"Invite the people in your life to enjoy The Times at a special rate of $1 per week for a one-year subscription. Together, you’ll provide access to The New York Times for five public school students through our ",n()(it,{tracking:t})," program."),n()("div",{className:Q},void 0,n()(B.Mutation,{mutation:tt},void 0,function(e){return n()(_e,{inviteFriend:e,referralID:a.advocateInfo.referralID,referralCampaign:a.advocateInfo.referralCampaign,showSuccessScreen:r})}),n()(Xe,{referralID:a.advocateInfo.referralID})),ct)};dt.displayName="AdvocateLanding";var mt=N()({event:"moduleInteraction",module:{element:{label:"referral-advocate-landing-page"}},eventData:{pagetype:"referral-advocate-landing-page"}},{dispatchOnMount:function(){return{event:"impression",eventData:{type:"impression"},module:{name:"referral-advocate-landing-page",region:"body"}}}})(dt),ut=n()("p",{},void 0,"We’ve sent messages to the email addresses you provided, offering a special rate of $1 per week."),pt=n()("br",{}),ft=n()("br",{}),ht=function(e){var t=e.tracking,r=e.showLandingScreen,a=e.data;return n()("div",{"data-testid":"refer-advocate-success-content",className:W},void 0,n()("div",{className:Object(w.cx)(X,H)},void 0,"Thank you for sharing The Times — we couldn’t do this without you"),n()("div",{className:Q},void 0,n()("div",{},void 0,n()("div",{className:K},void 0,n()("p",{className:ee},void 0,"Here’s what happens next"),ut,pt,n()("p",{},void 0,"For each person who subscribes with your referral link, five public school students will receive New York Times access through our"," ",n()(it,{tracking:t})," program.")),ft,n()("button",{type:"button",onClick:function(){return t.trackEvent({module:{element:{name:"share-more"}}}),r()},className:Object(w.cx)(J,G)},void 0,"Share with more people")),n()(Xe,{hideInfo:!0,referralID:a.advocateInfo.referralID})))};ht.displayName="AdvocateSuccess";var vt=N()({event:"moduleInteraction",module:{element:{label:"referral-advocate-confirmation-page"}},eventData:{pagetype:"referral-advocate-confirmation-page"}},{dispatchOnMount:function(){return{event:"impression",eventData:{type:"impression"},module:{name:"referral-advocate-confirmation-page",region:"body"}}}})(ht);var gt=n()("br",{}),bt=n()("br",{}),yt=function(e){var t=e.tracking,r=e.header,a=e.subheader,i=e.subcopy,o=e.button;return n()("div",{className:W},void 0,n()("h1",{className:Object(w.cx)(X,H)},void 0,r),gt,bt,n()("div",{className:K},void 0,n()("h2",{className:ee},void 0,a),n()("p",{},void 0,i),n()("div",{},void 0,n()("button",{className:Object(w.cx)(J,G),onClick:function(){t.trackEvent(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){ie()(e,t,r[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}({},o.tracking,{eventCallback:function(){return window.location=o.href,!1},eventTimeout:120}))},type:"button"},void 0,o.copy))))};yt.displayName="ErrorComponent";var wt=N()({})(yt),xt=function(){return n()(wt,{header:"It looks like this option isn’t available for your account",subheader:"Interested in sharing The Times with the people in your life?",subcopy:"Consider introducing them to our reporting and storytelling with any of our gift subscriptions.",button:{href:"https://www.nytimes.com/subscription/gift",copy:"Learn about gift subscriptions",tracking:{module:{element:{label:"referral-advocate-error-page-ineligible",name:"gift-subscriptions-learn-more"}},eventData:{pagetype:"referral-advocate-error-page-ineligible"}}}})};xt.displayName="handleIneligibilityError";var kt=n()(Y,{}),Nt=function(e,t,r,a){var i=a.loading,o=a.error,s=a.data;return o||s&&s.advocateInfo&&"SERVER_ERROR"===s.advocateInfo.code?(e(),null):i?kt:!(M.a.parse(window.location.search).test&&"prd"!==vi.env.ENVIRONMENT)&&s&&s.advocateInfo&&"AdvocateInfoErrorResponse"===s.advocateInfo.__typename?xt():n()("div",{"data-testid":"refer-advocate-content"},void 0,!r&&n()(mt,{data:s,showSuccessScreen:function(){return t(!0)}}),r&&n()(vt,{data:s,showLandingScreen:function(){return t(!1)}}))};Nt.displayName="AdvocatePageQueryRenderer";var Ot=function(e){var t=Object(h.useState)(!1),r=z()(t,2),a=r[0],i=r[1];if(!Object(A.c)(e.user))return function(){var e="";e=window.location.href;var t={env:"prd"===vi.env.ENVIRONMENT?"prd":"stg",params:{response_type:"cookie",client_id:"vi",redirect_uri:encodeURIComponent(e)}};return window.location=Object(A.a)(t),null}();var o=L.a.parse(e.location.search).referralCampaign,s=Nt.bind(null,e.setServerError,i,a);return n()(B.Query,{query:rt,variables:{referralCampaign:o}},void 0,s)};Ot.displayName="AdvocatePage",Ot.defaultProps={user:void 0};var Et=Object(g.withRouter)(Ot),jt=Object(w.css)("display:flex;justify-content:space-between;align-items:center;padding:35px 40px;border-bottom:1px solid ",j.a.color.gray54,";@media (max-width:",j.a.breakpoint.width.medium,"px){display:block;}"),It=Object(w.css)("border:4px solid #2e84ed;box-shadow:0 2px 20px 0 rgba(51,51,51,0.25);margin-top:3rem;background:",j.a.color.white,";"),St=Object(w.css)("padding:35px 40px;background:#fcfcfc;display:flex;justify-content:space-between;font-family:",j.a.font.franklinBase,";font-size:16px;line-height:20px;color:",j.a.color.gray20,";@media (max-width:",j.a.breakpoint.width.medium,"px){display:block;}"),Ct=Object(w.css)("&:first-child{padding-right:35px;}font-weight:100;@media (max-width:",j.a.breakpoint.width.medium,"px){&:first-child{padding-right:0;margin-bottom:1rem;}}"),Tt=Object(w.css)("font-weight:700;margin-bottom:0.3rem;"),Dt=Object(w.css)("text-decoration-line:line-through;color:#b3b3b3;"),Rt=Object(w.css)("font-family:",j.a.font.franklinBase,";font-size:14px;line-height:14px;letter-spacing:0.2px;text-transform:uppercase;color:",j.a.color.gray20,";font-weight:700;margin-bottom:1rem;"),Ft=Object(w.css)("font-family:",j.a.font.serifMedium,";font-size:30px;line-height:30px;color:",j.a.color.gray20,";font-weight:100;"),zt=Object(w.css)("&:after{border-bottom:1px solid #333;content:'';display:block;height:15px;width:57px;}"),Bt=Object(w.css)("background:#2e84ed;border-radius:4px;margin:0 auto;width:280px;box-sizing:border-box;color:",j.a.color.white,";display:block;font-size:14px;font-weight:800;height:40px;letter-spacing:0.2px;line-height:40px;margin-top:20px;text-align:center;text-decoration:none;text-transform:uppercase;font-family:",j.a.font.franklinBase,";@media (max-width:",j.a.breakpoint.width.medium,"px){width:100%;}"),Pt=Object(w.css)("font-family:",j.a.font.franklinBase,";font-size:22px;line-height:22px;margin-top:1rem;font-weight:100;"),Lt=Object(w.css)("font-family:",j.a.font.franklinBase,";font-size:14px;line-height:14px;font-weight:100;text-align:center;margin-top:1rem;display:block;color:",j.a.color.gray20,";"),At=Object(w.css)("text-align:center;"),_t=Object(w.css)("background:#f5f5f5;position:absolute;width:100%;height:484px;z-index:-1;"),Mt=Object(w.css)("max-width:900px;margin:0 auto;padding:5rem 2rem;min-height:75vh;color:",j.a.color.gray20,";margin-top:-2rem;"),qt=Object(w.css)("max-width:100%;margin:2rem 0;"),Vt=function(e){return n()("div",{"data-testid":"refer-friend-offer-details",className:It},void 0,n()("div",{className:jt},void 0,n()("div",{},void 0,n()("div",{className:Rt},void 0,"Basic Subscription"),n()("div",{className:Ft},void 0,"Unlimited articles on any device."),n()("div",{className:zt}),n()("div",{className:Pt},void 0,n()("span",{className:Dt},void 0,"$3.75")," $1/week for one year")),n()("div",{className:At},void 0,n()("button",{onClick:function(){e.tracking.trackEvent({eventCallback:function(){return window.location="".concat(vi.env.AUTH_HOST,"/get-started?OC=").concat(e.offerChain,"&referralID=").concat(e.referralID).concat(e.campaignId),!1},eventTimeout:120,module:{element:{name:"go-to-payflow"}}})},className:Bt,type:"button"},void 0,"Subscribe"),n()("div",{},void 0,n()("small",{className:Lt},void 0,"You can cancel anytime.")))),n()("div",{className:St},void 0,n()("div",{className:Ct},void 0,n()("div",{className:Tt},void 0,"Unlimited articles"),"Enjoy unlimited article access on NYTimes.com and in the NYTimes app."),n()("div",{className:Ct},void 0,n()("div",{className:Tt},void 0,"Subscriber exclusives"),"Access exclusive features and newsletters, along with previews of new media releases.")))};Vt.displayName="OfferInfo",Vt.defaultProps={campaignId:""};var $t=Vt,Ut=function(){return n()(wt,{header:"It looks like this option isn’t available  for your account",subheader:"Interested in other subscriptions from The Times?",subcopy:"Review all of our subscriptions to find the one that’s best for you.",button:{href:"https://www.nytimes.com/subscription",copy:"View all subscription options",tracking:{module:{element:{label:"referral-friend-error-page-ineligible",name:"subscriptions-learn-more"}}}}})};Ut.displayName="handleIneligibleError";var Yt=n()(Y,{}),Wt=n()(lt,{}),Xt=function(){return n()(wt,{header:"It looks like you’re already a subscriber",subheader:"Interested in continuing to support The Times?",subcopy:"Consider providing access to The New York Times for public school students through our “Sponsor a Subscription” program.",button:{href:"https://www.nytimes.com/subscription/sponsor/share",copy:"Learn about sponsorships",tracking:{module:{element:{label:"referral-friend-error-page-already-sub",name:"sponsorship-learn-more"}}}}})};Xt.displayName="handleAlreadySubscribedError";var Ht=function(e){var t=e.setServerError,r=e.match,a=e.user,i=e.location,o=e.tracking;if(Object(A.d)(a))return Xt();var s=L.a.parse(i.search).campaignId,l=r.params.id,c=function(e,t,r,a,i){var o=i.loading,s=i.error,l=i.data.referralInfo;if(o)return Yt;if(s||l&&"SERVER_ERROR"===l.code)return t(),null;if(l&&"ReferralInfoErrorResponse"===l.__typename)return Ut();var c=0;try{c=l.friendIncentive.discountDetails.offerChain}catch(e){return t(),null}return n()("div",{"data-testid":"refer-friend-content"},void 0,n()("div",{className:_t}),n()("div",{className:Mt},void 0,n()("h1",{className:Object(w.cx)(X,qt)},void 0,"You’ve been invited to support The Times"),n()("h2",{className:K},void 0,"Subscribe today at a special rate of $1 per week for one year and provide access to The New York Times for five public school students through our"," ",n()(it,{tracking:e})," program."),n()($t,{tracking:e,referralID:r,offerChain:c,campaignId:a}),Wt))}.bind(null,o,t,l,s);return n()(B.Query,{query:at,variables:{referralID:l}},void 0,c)};Ht.displayName="FriendPage",Ht.defaultProps={user:void 0};var Kt,Qt,Jt=N()({module:{element:{label:"referral-friend-landing-page"}},eventData:{pagetype:"referral-friend-landing-page"}})(Ht),Zt=Object(w.css)("background:white;max-height:40px;"),Gt=Object(w.css)("min-height:100vh;"),er=n()(x.a,{}),tr=n()(O.Helmet,{},void 0,n()("title",{},void 0,"Share the Times")),rr=n()(Y,{}),ar=n()(R,{}),nr=(Kt=N()({presentation:{pageType:"referral"},module:{context:"/share",region:"body"},eventData:{trigger:"module",type:"click",pagetype:"referral"},event:"moduleInteraction"}),Object(y.a)(Qt=Kt(Qt=function(e){function t(){var e,r;o()(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(r=d()(this,(e=u()(t)).call.apply(e,[this].concat(n)))).state={showServerError:!1},r}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.state.showServerError,r=this.props&&this.props.user;if(t)return er;var a=this.props.user;return n()("div",{},void 0,tr,n()("div",{"data-testid":"refer-header",className:Zt},void 0,n()(b.a,{hideNavButtons:!0,user:a})),n()("div",{"data-testid":"refer-content",className:Gt},void 0,!r&&rr,r&&n()(g.Switch,{},void 0,n()(g.Route,{path:"/share",exact:!0,render:function(t){var r=t.location;return n()(Et,{location:r,user:a,setServerError:function(){return e.setState({showServerError:!0})}})}}),n()(g.Route,{path:"/share/:id",exact:!0,render:function(t){var r=t.location,i=t.match;return n()(Jt,{location:r,user:a,match:i,setServerError:function(){return e.setState({showServerError:!0})}})}}))),ar)}}]),t}(v.a.Component))||Qt)||Qt);nr.defaultProps={user:void 0};t.default=nr},xDdU:function(e,t,r){var a,n,i=r("4fRq"),o=r("I2ZF"),s=0,l=0;e.exports=function(e,t,r){var c=t&&r||0,d=t||[],m=(e=e||{}).node||a,u=void 0!==e.clockseq?e.clockseq:n;if(null==m||null==u){var p=i();null==m&&(m=a=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==u&&(u=n=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,v=f-s+(h-l)/1e4;if(v<0&&void 0===e.clockseq&&(u=u+1&16383),(v<0||f>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=h,n=u;var g=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;d[c++]=g>>>24&255,d[c++]=g>>>16&255,d[c++]=g>>>8&255,d[c++]=255&g;var b=f/4294967296*1e4&268435455;d[c++]=b>>>8&255,d[c++]=255&b,d[c++]=b>>>24&15|16,d[c++]=b>>>16&255,d[c++]=u>>>8|128,d[c++]=255&u;for(var y=0;y<6;++y)d[c+y]=m[y];return t||o(d)}},xk4V:function(e,t,r){var a=r("4fRq"),n=r("I2ZF");e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[i+s]=o[s];return t||n(o)}}}]);
//# sourceMappingURL=refer-742cf3d99e2d7cf99f5b.js.map